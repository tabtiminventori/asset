(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function zh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cg={exports:{}},Yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function oR(){if(o1)return Yc;o1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Yc.Fragment=t,Yc.jsx=e,Yc.jsxs=e,Yc}var l1;function lR(){return l1||(l1=1,Cg.exports=oR()),Cg.exports}var R=lR(),Rg={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function uR(){if(u1)return ce;u1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=E&&G[E]||G["@@iterator"],typeof G=="function"?G:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function z(G,Q,gt){this.props=G,this.context=Q,this.refs=j,this.updater=gt||D}z.prototype.isReactComponent={},z.prototype.setState=function(G,Q){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Q,"setState")},z.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function K(){}K.prototype=z.prototype;function X(G,Q,gt){this.props=G,this.context=Q,this.refs=j,this.updater=gt||D}var Y=X.prototype=new K;Y.constructor=X,N(Y,z.prototype),Y.isPureReactComponent=!0;var ot=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},mt=Object.prototype.hasOwnProperty;function F(G,Q,gt,st,bt,lt){return gt=lt.ref,{$$typeof:n,type:G,key:Q,ref:gt!==void 0?gt:null,props:lt}}function A(G,Q){return F(G.type,Q,void 0,void 0,void 0,G.props)}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function V(G){var Q={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(gt){return Q[gt]})}var B=/\/+/g;function q(G,Q){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):Q.toString(36)}function H(){}function Mt(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(H,H):(G.status="pending",G.then(function(Q){G.status==="pending"&&(G.status="fulfilled",G.value=Q)},function(Q){G.status==="pending"&&(G.status="rejected",G.reason=Q)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function It(G,Q,gt,st,bt){var lt=typeof G;(lt==="undefined"||lt==="boolean")&&(G=null);var _t=!1;if(G===null)_t=!0;else switch(lt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(G.$$typeof){case n:case t:_t=!0;break;case v:return _t=G._init,It(_t(G._payload),Q,gt,st,bt)}}if(_t)return bt=bt(G),_t=st===""?"."+q(G,0):st,ot(bt)?(gt="",_t!=null&&(gt=_t.replace(B,"$&/")+"/"),It(bt,Q,gt,"",function(Ht){return Ht})):bt!=null&&(O(bt)&&(bt=A(bt,gt+(bt.key==null||G&&G.key===bt.key?"":(""+bt.key).replace(B,"$&/")+"/")+_t)),Q.push(bt)),1;_t=0;var Ft=st===""?".":st+":";if(ot(G))for(var Ct=0;Ct<G.length;Ct++)st=G[Ct],lt=Ft+q(st,Ct),_t+=It(st,Q,gt,lt,bt);else if(Ct=w(G),typeof Ct=="function")for(G=Ct.call(G),Ct=0;!(st=G.next()).done;)st=st.value,lt=Ft+q(st,Ct++),_t+=It(st,Q,gt,lt,bt);else if(lt==="object"){if(typeof G.then=="function")return It(Mt(G),Q,gt,st,bt);throw Q=String(G),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return _t}function tt(G,Q,gt){if(G==null)return G;var st=[],bt=0;return It(G,st,"","",function(lt){return Q.call(gt,lt,bt++)}),st}function pt(G){if(G._status===-1){var Q=G._result;Q=Q(),Q.then(function(gt){(G._status===0||G._status===-1)&&(G._status=1,G._result=gt)},function(gt){(G._status===0||G._status===-1)&&(G._status=2,G._result=gt)}),G._status===-1&&(G._status=0,G._result=Q)}if(G._status===1)return G._result.default;throw G._result}var dt=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function St(){}return ce.Children={map:tt,forEach:function(G,Q,gt){tt(G,function(){Q.apply(this,arguments)},gt)},count:function(G){var Q=0;return tt(G,function(){Q++}),Q},toArray:function(G){return tt(G,function(Q){return Q})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ce.Component=z,ce.Fragment=e,ce.Profiler=r,ce.PureComponent=X,ce.StrictMode=i,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ce.__COMPILER_RUNTIME={__proto__:null,c:function(G){return J.H.useMemoCache(G)}},ce.cache=function(G){return function(){return G.apply(null,arguments)}},ce.cloneElement=function(G,Q,gt){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var st=N({},G.props),bt=G.key,lt=void 0;if(Q!=null)for(_t in Q.ref!==void 0&&(lt=void 0),Q.key!==void 0&&(bt=""+Q.key),Q)!mt.call(Q,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Q.ref===void 0||(st[_t]=Q[_t]);var _t=arguments.length-2;if(_t===1)st.children=gt;else if(1<_t){for(var Ft=Array(_t),Ct=0;Ct<_t;Ct++)Ft[Ct]=arguments[Ct+2];st.children=Ft}return F(G.type,bt,void 0,void 0,lt,st)},ce.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},ce.createElement=function(G,Q,gt){var st,bt={},lt=null;if(Q!=null)for(st in Q.key!==void 0&&(lt=""+Q.key),Q)mt.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(bt[st]=Q[st]);var _t=arguments.length-2;if(_t===1)bt.children=gt;else if(1<_t){for(var Ft=Array(_t),Ct=0;Ct<_t;Ct++)Ft[Ct]=arguments[Ct+2];bt.children=Ft}if(G&&G.defaultProps)for(st in _t=G.defaultProps,_t)bt[st]===void 0&&(bt[st]=_t[st]);return F(G,lt,void 0,void 0,null,bt)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(G){return{$$typeof:d,render:G}},ce.isValidElement=O,ce.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:pt}},ce.memo=function(G,Q){return{$$typeof:p,type:G,compare:Q===void 0?null:Q}},ce.startTransition=function(G){var Q=J.T,gt={};J.T=gt;try{var st=G(),bt=J.S;bt!==null&&bt(gt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(St,dt)}catch(lt){dt(lt)}finally{J.T=Q}},ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ce.use=function(G){return J.H.use(G)},ce.useActionState=function(G,Q,gt){return J.H.useActionState(G,Q,gt)},ce.useCallback=function(G,Q){return J.H.useCallback(G,Q)},ce.useContext=function(G){return J.H.useContext(G)},ce.useDebugValue=function(){},ce.useDeferredValue=function(G,Q){return J.H.useDeferredValue(G,Q)},ce.useEffect=function(G,Q,gt){var st=J.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(G,Q)},ce.useId=function(){return J.H.useId()},ce.useImperativeHandle=function(G,Q,gt){return J.H.useImperativeHandle(G,Q,gt)},ce.useInsertionEffect=function(G,Q){return J.H.useInsertionEffect(G,Q)},ce.useLayoutEffect=function(G,Q){return J.H.useLayoutEffect(G,Q)},ce.useMemo=function(G,Q){return J.H.useMemo(G,Q)},ce.useOptimistic=function(G,Q){return J.H.useOptimistic(G,Q)},ce.useReducer=function(G,Q,gt){return J.H.useReducer(G,Q,gt)},ce.useRef=function(G){return J.H.useRef(G)},ce.useState=function(G){return J.H.useState(G)},ce.useSyncExternalStore=function(G,Q,gt){return J.H.useSyncExternalStore(G,Q,gt)},ce.useTransition=function(){return J.H.useTransition()},ce.version="19.1.1",ce}var c1;function J_(){return c1||(c1=1,Rg.exports=uR()),Rg.exports}var I=J_();const Vn=zh(I);var Mg={exports:{}},Xc={},Og={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function cR(){return h1||(h1=1,(function(n){function t(tt,pt){var dt=tt.length;tt.push(pt);t:for(;0<dt;){var St=dt-1>>>1,G=tt[St];if(0<r(G,pt))tt[St]=pt,tt[dt]=G,dt=St;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var pt=tt[0],dt=tt.pop();if(dt!==pt){tt[0]=dt;t:for(var St=0,G=tt.length,Q=G>>>1;St<Q;){var gt=2*(St+1)-1,st=tt[gt],bt=gt+1,lt=tt[bt];if(0>r(st,dt))bt<G&&0>r(lt,st)?(tt[St]=lt,tt[bt]=dt,St=bt):(tt[St]=st,tt[gt]=dt,St=gt);else if(bt<G&&0>r(lt,dt))tt[St]=lt,tt[bt]=dt,St=bt;else break t}}return pt}function r(tt,pt){var dt=tt.sortIndex-pt.sortIndex;return dt!==0?dt:tt.id-pt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,E=null,w=3,D=!1,N=!1,j=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ot(tt){for(var pt=e(p);pt!==null;){if(pt.callback===null)i(p);else if(pt.startTime<=tt)i(p),pt.sortIndex=pt.expirationTime,t(m,pt);else break;pt=e(p)}}function J(tt){if(j=!1,ot(tt),!N)if(e(m)!==null)N=!0,mt||(mt=!0,q());else{var pt=e(p);pt!==null&&It(J,pt.startTime-tt)}}var mt=!1,F=-1,A=5,O=-1;function V(){return z?!0:!(n.unstable_now()-O<A)}function B(){if(z=!1,mt){var tt=n.unstable_now();O=tt;var pt=!0;try{t:{N=!1,j&&(j=!1,X(F),F=-1),D=!0;var dt=w;try{e:{for(ot(tt),E=e(m);E!==null&&!(E.expirationTime>tt&&V());){var St=E.callback;if(typeof St=="function"){E.callback=null,w=E.priorityLevel;var G=St(E.expirationTime<=tt);if(tt=n.unstable_now(),typeof G=="function"){E.callback=G,ot(tt),pt=!0;break e}E===e(m)&&i(m),ot(tt)}else i(m);E=e(m)}if(E!==null)pt=!0;else{var Q=e(p);Q!==null&&It(J,Q.startTime-tt),pt=!1}}break t}finally{E=null,w=dt,D=!1}pt=void 0}}finally{pt?q():mt=!1}}}var q;if(typeof Y=="function")q=function(){Y(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Mt=H.port2;H.port1.onmessage=B,q=function(){Mt.postMessage(null)}}else q=function(){K(B,0)};function It(tt,pt){F=K(function(){tt(n.unstable_now())},pt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(tt){switch(w){case 1:case 2:case 3:var pt=3;break;default:pt=w}var dt=w;w=pt;try{return tt()}finally{w=dt}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(tt,pt){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var dt=w;w=tt;try{return pt()}finally{w=dt}},n.unstable_scheduleCallback=function(tt,pt,dt){var St=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?St+dt:St):dt=St,tt){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=dt+G,tt={id:v++,callback:pt,priorityLevel:tt,startTime:dt,expirationTime:G,sortIndex:-1},dt>St?(tt.sortIndex=dt,t(p,tt),e(m)===null&&tt===e(p)&&(j?(X(F),F=-1):j=!0,It(J,dt-St))):(tt.sortIndex=G,t(m,tt),N||D||(N=!0,mt||(mt=!0,q()))),tt},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(tt){var pt=w;return function(){var dt=w;w=pt;try{return tt.apply(this,arguments)}finally{w=dt}}}})(Dg)),Dg}var f1;function hR(){return f1||(f1=1,Og.exports=cR()),Og.exports}var kg={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function fR(){if(d1)return ci;d1=1;var n=J_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ci.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,v)},ci.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},ci.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},ci.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},ci.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:D}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ci.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},ci.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ci.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},ci.requestFormReset=function(m){i.d.r(m)},ci.unstable_batchedUpdates=function(m,p){return m(p)},ci.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},ci.useFormStatus=function(){return c.H.useHostTransitionStatus()},ci.version="19.1.1",ci}var m1;function Ew(){if(m1)return kg.exports;m1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kg.exports=fR(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function dR(){if(p1)return Xc;p1=1;var n=hR(),t=J_(),e=Ew();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),s;if(b===f)return d(y),a;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var M=!1,P=y.child;P;){if(P===u){M=!0,u=y,f=b;break}if(P===f){M=!0,f=y,u=b;break}P=P.sibling}if(!M){for(P=b.child;P;){if(P===u){M=!0,u=b,f=y;break}if(P===f){M=!0,f=b,u=y;break}P=P.sibling}if(!M)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var H=Symbol.for("react.client.reference");function Mt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===H?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case z:return"Profiler";case j:return"StrictMode";case J:return"Suspense";case mt:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case Y:return(s.displayName||"Context")+".Provider";case X:return(s._context.displayName||"Context")+".Consumer";case ot:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return a=s.displayName||null,a!==null?a:Mt(s.type)||"Memo";case A:a=s._payload,s=s._init;try{return Mt(s(a))}catch{}}return null}var It=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},St=[],G=-1;function Q(s){return{current:s}}function gt(s){0>G||(s.current=St[G],St[G]=null,G--)}function st(s,a){G++,St[G]=s.current,s.current=a}var bt=Q(null),lt=Q(null),_t=Q(null),Ft=Q(null);function Ct(s,a){switch(st(_t,a),st(lt,s),st(bt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Lb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Lb(a),s=Nb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}gt(bt),st(bt,s)}function Ht(){gt(bt),gt(lt),gt(_t)}function fe(s){s.memoizedState!==null&&st(Ft,s);var a=bt.current,u=Nb(a,s.type);a!==u&&(st(lt,s),st(bt,u))}function qt(s){lt.current===s&&(gt(bt),gt(lt)),Ft.current===s&&(gt(Ft),Gc._currentValue=dt)}var ie=Object.prototype.hasOwnProperty,ve=n.unstable_scheduleCallback,de=n.unstable_cancelCallback,jt=n.unstable_shouldYield,$t=n.unstable_requestPaint,le=n.unstable_now,ae=n.unstable_getCurrentPriorityLevel,Jt=n.unstable_ImmediatePriority,re=n.unstable_UserBlockingPriority,dn=n.unstable_NormalPriority,Rn=n.unstable_LowPriority,ri=n.unstable_IdlePriority,Ke=n.log,mn=n.unstable_setDisableYieldValue,zt=null,ue=null;function ze(s){if(typeof Ke=="function"&&mn(s),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(zt,s)}catch{}}var _n=Math.clz32?Math.clz32:Qn,jr=Math.log,ki=Math.LN2;function Qn(s){return s>>>=0,s===0?32:31-(jr(s)/ki|0)|0}var Mn=256,_i=4194304;function Ii(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pi(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var y=0,b=s.suspendedLanes,M=s.pingedLanes;s=s.warmLanes;var P=f&134217727;return P!==0?(f=P&~b,f!==0?y=Ii(f):(M&=P,M!==0?y=Ii(M):u||(u=P&~s,u!==0&&(y=Ii(u))))):(P=f&~b,P!==0?y=Ii(P):M!==0?y=Ii(M):u||(u=f&~s,u!==0&&(y=Ii(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function Li(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ma(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var s=Mn;return Mn<<=1,(Mn&4194048)===0&&(Mn=256),s}function Bs(){var s=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),s}function Ur(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function en(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ql(s,a,u,f,y,b){var M=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var P=s.entanglements,Z=s.expirationTimes,at=s.hiddenUpdates;for(u=M&~u;0<u;){var yt=31-_n(u),xt=1<<yt;P[yt]=0,Z[yt]=-1;var ut=at[yt];if(ut!==null)for(at[yt]=null,yt=0;yt<ut.length;yt++){var ht=ut[yt];ht!==null&&(ht.lane&=-536870913)}u&=~xt}f!==0&&or(s,f,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(M&~a))}function or(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-_n(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function lr(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-_n(u),y=1<<f;y&a|s[f]&a&&(s[f]|=a),u&=~y}}function Go(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function $o(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function js(){var s=pt.p;return s!==0?s:(s=window.event,s===void 0?32:e1(s.type))}function Zo(s,a){var u=pt.p;try{return pt.p=s,a()}finally{pt.p=u}}var ys=Math.random().toString(36).slice(2),an="__reactFiber$"+ys,On="__reactProps$"+ys,Us="__reactContainer$"+ys,jn="__reactEvents$"+ys,Lt="__reactListeners$"+ys,Gl="__reactHandles$"+ys,Ni="__reactResources$"+ys,Fs="__reactMarker$"+ys;function Fr(s){delete s[an],delete s[On],delete s[jn],delete s[Lt],delete s[Gl]}function Vi(s){var a=s[an];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Us]||u[an]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=jb(s);s!==null;){if(u=s[an])return u;s=jb(s)}return a}s=u,u=s.parentNode}return null}function Ji(s){if(s=s[an]||s[Us]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function yi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Hs(s){var a=s[Ni];return a||(a=s[Ni]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function on(s){s[Fs]=!0}var $l=new Set,Hr={};function vs(s,a){ts(s,a),ts(s+"Capture",a)}function ts(s,a){for(Hr[s]=a,s=0;s<a.length;s++)$l.add(a[s])}var qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vi={},Oa={};function uc(s){return ie.call(Oa,s)?!0:ie.call(vi,s)?!1:qr.test(s)?Oa[s]=!0:(vi[s]=!0,!1)}function Gr(s,a,u){if(uc(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function $r(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function zi(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}var qs,bs;function xs(s){if(qs===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);qs=a&&a[1]||"",bs=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+s+bs}var Zr=!1;function Es(s,a){if(!s||Zr)return"";Zr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ht){var ut=ht}Reflect.construct(s,[],xt)}else{try{xt.call()}catch(ht){ut=ht}s.call(xt.prototype)}}else{try{throw Error()}catch(ht){ut=ht}(xt=s())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ht){if(ht&&ut&&typeof ht.stack=="string")return[ht.stack,ut.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),M=b[0],P=b[1];if(M&&P){var Z=M.split(`
`),at=P.split(`
`);for(y=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;y<at.length&&!at[y].includes("DetermineComponentFrameRoot");)y++;if(f===Z.length||y===at.length)for(f=Z.length-1,y=at.length-1;1<=f&&0<=y&&Z[f]!==at[y];)y--;for(;1<=f&&0<=y;f--,y--)if(Z[f]!==at[y]){if(f!==1||y!==1)do if(f--,y--,0>y||Z[f]!==at[y]){var yt=`
`+Z[f].replace(" at new "," at ");return s.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",s.displayName)),yt}while(1<=f&&0<=y);break}}}finally{Zr=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?xs(u):""}function be(s){switch(s.tag){case 26:case 27:case 5:return xs(s.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return Es(s.type,!1);case 11:return Es(s.type.render,!1);case 1:return Es(s.type,!0);case 31:return xs("Activity");default:return""}}function we(s){try{var a="";do a+=be(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Be(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function bi(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bi(s){var a=bi(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(M){f=""+M,b.call(this,M)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ws(s){s._valueTracker||(s._valueTracker=Bi(s))}function Ot(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=bi(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function ke(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gs=/[\n"\\]/g;function ln(s){return s.replace(Gs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Un(s,a,u,f,y,b,M,P){s.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.type=M:s.removeAttribute("type"),a!=null?M==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Be(a)):s.value!==""+Be(a)&&(s.value=""+Be(a)):M!=="submit"&&M!=="reset"||s.removeAttribute("value"),a!=null?ur(s,M,Be(a)):u!=null?ur(s,M,Be(u)):f!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+Be(P):s.removeAttribute("name")}function Ko(s,a,u,f,y,b,M,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+Be(u):"",a=a!=null?""+Be(a):u,P||a===s.value||(s.value=a),s.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=P?s.checked:!!f,s.defaultChecked=!!f,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.name=M)}function ur(s,a,u){a==="number"&&ke(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function ai(s,a,u,f){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Be(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function We(s,a,u){if(a!=null&&(a=""+Be(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Be(u):""}function Ts(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(i(92));if(It(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Be(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function Fn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kr(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||xi.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function $s(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&Kr(s,y,f)}else for(var b in a)a.hasOwnProperty(b)&&Kr(s,b,a[b])}function cr(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(s){return Wr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Yr=null;function hr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zs=null,Dn=null;function Zl(s){var a=Ji(s);if(a&&(s=a.stateNode)){var u=s[On]||null;t:switch(s=a.stateNode,a.type){case"input":if(Un(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var y=f[On]||null;if(!y)throw Error(i(90));Un(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&Ot(f)}break t;case"textarea":We(s,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&ai(s,!!u.multiple,a,!1)}}}var Kt=!1;function Hn(s,a,u){if(Kt)return s(a,u);Kt=!0;try{var f=s(a);return f}finally{if(Kt=!1,(Zs!==null||Dn!==null)&&(Pf(),Zs&&(a=Zs,s=Dn,Dn=Zs=null,Zl(a),s)))for(a=0;a<s.length;a++)Zl(s[a])}}function Te(s,a){var u=s.stateNode;if(u===null)return null;var f=u[On]||null;if(f===null)return null;u=f[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=!1;if(qn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){es=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{es=!1}var oi=null,Se=null,fr=null;function dr(){if(fr)return fr;var s,a=Se,u=a.length,f,y="value"in oi?oi.value:oi.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var M=u-s;for(f=1;f<=M&&a[u-f]===y[b-f];f++);return fr=y.slice(s,1<f?1-f:void 0)}function Ye(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function ka(){return!1}function pn(s){function a(u,f,y,b,M){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?wi:ka,this.isPropagationStopped=ka,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),a}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=pn(Gn),Ks=v({},Gn,{view:0,detail:0}),Xr=pn(Ks),Qr,oe,As,kn=v({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==As&&(As&&s.type==="mousemove"?(Qr=s.screenX-As.screenX,oe=s.screenY-As.screenY):oe=Qr=0,As=s),Qr)},movementY:function(s){return"movementY"in s?s.movementY:oe}}),ns=pn(kn),Kl=v({},kn,{dataTransfer:0}),Wl=pn(Kl),Ws=v({},Ks,{relatedTarget:0}),Ia=pn(Ws),Wo=v({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=pn(Wo),Xo=v({},Gn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pa=pn(Xo),La=v({},Gn,{data:0}),li=pn(La),Yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},is={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=is[s])?!!a[s]:!1}function Jr(){return Qo}var Na=v({},Ks,{key:function(s){if(s.key){var a=Yl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ye(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Cs[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(s){return s.type==="keypress"?Ye(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ye(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Va=pn(Na),$n=v({},kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=pn($n),Xl=v({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),pr=pn(Xl),g=v({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=pn(g),C=v({},kn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),U=pn(C),it=v({},Gn,{newState:0,oldState:0}),ct=pn(it),At=[9,13,27,32],Wt=qn&&"CompositionEvent"in window,pe=null;qn&&"documentMode"in document&&(pe=document.documentMode);var Me=qn&&"TextEvent"in window&&!pe,nn=qn&&(!Wt||pe&&8<pe&&11>=pe),Ti=" ",ji=!1;function Si(s,a){switch(s){case"keyup":return At.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ss(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rs=!1;function Ba(s,a){switch(s){case"compositionend":return ss(a);case"keypress":return a.which!==32?null:(ji=!0,Ti);case"textInput":return s=a.data,s===Ti&&ji?null:s;default:return null}}function Ym(s,a){if(rs)return s==="compositionend"||!Wt&&Si(s,a)?(s=dr(),fr=Se=oi=null,rs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return nn&&a.locale!=="ko"?null:a.data;default:return null}}var as={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ta(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!as[s.type]:a==="textarea"}function Xh(s,a,u,f){Zs?Dn?Dn.push(f):Dn=[f]:Zs=f,a=jf(a,"onChange"),0<a.length&&(u=new mr("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var Ai=null,Jo=null;function ja(s){Ob(s,0)}function Ql(s){var a=yi(s);if(Ot(a))return s}function Ua(s,a){if(s==="change")return a}var cc=!1;if(qn){var Fa;if(qn){var hc="oninput"in document;if(!hc){var Ys=document.createElement("div");Ys.setAttribute("oninput","return;"),hc=typeof Ys.oninput=="function"}Fa=hc}else Fa=!1;cc=Fa&&(!document.documentMode||9<document.documentMode)}function tl(){Ai&&(Ai.detachEvent("onpropertychange",Qh),Jo=Ai=null)}function Qh(s){if(s.propertyName==="value"&&Ql(Jo)){var a=[];Xh(a,Jo,s,hr(s)),Hn(ja,a)}}function fc(s,a,u){s==="focusin"?(tl(),Ai=a,Jo=u,Ai.attachEvent("onpropertychange",Qh)):s==="focusout"&&tl()}function Xm(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ql(Jo)}function Xs(s,a){if(s==="click")return Ql(a)}function Qm(s,a){if(s==="input"||s==="change")return Ql(a)}function Ha(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ci=typeof Object.is=="function"?Object.is:Ha;function Ri(s,a){if(Ci(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!ie.call(a,y)||!Ci(s[y],a[y]))return!1}return!0}function el(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dc(s,a){var u=el(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=el(u)}}function Jl(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Jl(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function nl(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ke(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=ke(s.document)}return a}function il(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var tu=qn&&"documentMode"in document&&11>=document.documentMode,os=null,qa=null,ea=null,eu=!1;function Jh(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;eu||os==null||os!==ke(f)||(f=os,"selectionStart"in f&&il(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ea&&Ri(ea,f)||(ea=f,f=jf(qa,"onSelect"),0<f.length&&(a=new mr("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=os)))}function Rs(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ga={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},nu={},tf={};qn&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function gr(s){if(nu[s])return nu[s];if(!Ga[s])return s;var a=Ga[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in tf)return nu[s]=a[u];return s}var ef=gr("animationend"),ls=gr("animationiteration"),sl=gr("animationstart"),Jm=gr("transitionrun"),iu=gr("transitionstart"),tp=gr("transitioncancel"),mc=gr("transitionend"),nf=new Map,na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");na.push("scrollEnd");function us(s,a){nf.set(s,a),vs(a,[s])}var ia=new WeakMap;function Mi(s,a){if(typeof s=="object"&&s!==null){var u=ia.get(s);return u!==void 0?u:(a={value:s,source:a,stack:we(a)},ia.set(s,a),a)}return{value:s,source:a,stack:we(a)}}var Oi=[],$a=0,cs=0;function rl(){for(var s=$a,a=cs=$a=0;a<s;){var u=Oi[a];Oi[a++]=null;var f=Oi[a];Oi[a++]=null;var y=Oi[a];Oi[a++]=null;var b=Oi[a];if(Oi[a++]=null,f!==null&&y!==null){var M=f.pending;M===null?y.next=y:(y.next=M.next,M.next=y),f.pending=y}b!==0&&ol(u,y,b)}}function al(s,a,u,f){Oi[$a++]=s,Oi[$a++]=a,Oi[$a++]=u,Oi[$a++]=f,cs|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function sa(s,a,u,f){return al(s,a,u,f),_r(s)}function Za(s,a){return al(s,null,null,a),_r(s)}function ol(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&a!==null&&(y=31-_n(u),s=b.hiddenUpdates,f=s[y],f===null?s[y]=[a]:f.push(a),a.lane=u|536870912),b):null}function _r(s){if(50<Vc)throw Vc=0,Xp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ra={};function sf(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(s,a,u,f){return new sf(s,a,u,f)}function su(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ms(s,a){var u=s.alternate;return u===null?(u=Di(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function pc(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ll(s,a,u,f,y,b){var M=0;if(f=s,typeof s=="function")su(s)&&(M=1);else if(typeof s=="string")M=KC(s,u,bt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case O:return s=Di(31,u,a,y),s.elementType=O,s.lanes=b,s;case N:return yr(u.children,y,b,a);case j:M=8,y|=24;break;case z:return s=Di(12,u,a,y|2),s.elementType=z,s.lanes=b,s;case J:return s=Di(13,u,a,y),s.elementType=J,s.lanes=b,s;case mt:return s=Di(19,u,a,y),s.elementType=mt,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:case Y:M=10;break t;case X:M=9;break t;case ot:M=11;break t;case F:M=14;break t;case A:M=16,f=null;break t}M=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return a=Di(M,u,a,y),a.elementType=s,a.type=f,a.lanes=b,a}function yr(s,a,u,f){return s=Di(7,s,f,a),s.lanes=u,s}function gc(s,a,u){return s=Di(6,s,null,a),s.lanes=u,s}function ru(s,a,u){return a=Di(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var aa=[],Ka=0,l=null,h=0,_=[],x=0,S=null,k=1,$="";function nt(s,a){aa[Ka++]=h,aa[Ka++]=l,l=s,h=a}function ft(s,a,u){_[x++]=k,_[x++]=$,_[x++]=S,S=s;var f=k;s=$;var y=32-_n(f)-1;f&=~(1<<y),u+=1;var b=32-_n(a)+y;if(30<b){var M=y-y%5;b=(f&(1<<M)-1).toString(32),f>>=M,y-=M,k=1<<32-_n(a)+y|u<<y|f,$=b+s}else k=1<<b|u<<y|f,$=s}function wt(s){s.return!==null&&(nt(s,1),ft(s,1,0))}function Rt(s){for(;s===l;)l=aa[--Ka],aa[Ka]=null,h=aa[--Ka],aa[Ka]=null;for(;s===S;)S=_[--x],_[x]=null,$=_[--x],_[x]=null,k=_[--x],_[x]=null}var Pt=null,Bt=null,ee=!1,Ge=null,un=!1,Zn=Error(i(519));function Ui(s){var a=Error(i(418,""));throw Ya(Mi(a,s)),Zn}function rf(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[an]=s,a[On]=f,u){case"dialog":ye("cancel",a),ye("close",a);break;case"iframe":case"object":case"embed":ye("load",a);break;case"video":case"audio":for(u=0;u<Bc.length;u++)ye(Bc[u],a);break;case"source":ye("error",a);break;case"img":case"image":case"link":ye("error",a),ye("load",a);break;case"details":ye("toggle",a);break;case"input":ye("invalid",a),Ko(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ws(a);break;case"select":ye("invalid",a);break;case"textarea":ye("invalid",a),Ts(a,f.value,f.defaultValue,f.children),ws(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Pb(a.textContent,u)?(f.popover!=null&&(ye("beforetoggle",a),ye("toggle",a)),f.onScroll!=null&&ye("scroll",a),f.onScrollEnd!=null&&ye("scrollend",a),f.onClick!=null&&(a.onclick=Uf),a=!0):a=!1,a||Ui(s)}function af(s){for(Pt=s.return;Pt;)switch(Pt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Pt=Pt.return}}function ul(s){if(s!==Pt)return!1;if(!ee)return af(s),ee=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||dg(s.type,s.memoizedProps)),u=!u),u&&Bt&&Ui(s),af(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Bt=er(s.nextSibling);break t}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Bt=null}}else a===27?(a=Bt,ho(s.type)?(s=_g,_g=null,Bt=s):Bt=a):Bt=Pt?er(s.stateNode.nextSibling):null;return!0}function Wa(){Bt=Pt=null,ee=!1}function of(){var s=Ge;return s!==null&&(qi===null?qi=s:qi.push.apply(qi,s),Ge=null),s}function Ya(s){Ge===null?Ge=[s]:Ge.push(s)}var sn=Q(null),Os=null,Qs=null;function vr(s,a,u){st(sn,a._currentValue),a._currentValue=u}function Js(s){s._currentValue=sn.current,gt(sn)}function cl(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function au(s,a,u,f){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var M=y.child;b=b.firstContext;t:for(;b!==null;){var P=b;b=y;for(var Z=0;Z<a.length;Z++)if(P.context===a[Z]){b.lanes|=u,P=b.alternate,P!==null&&(P.lanes|=u),cl(b.return,u,s),f||(M=null);break t}b=P.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(i(341));M.lanes|=u,b=M.alternate,b!==null&&(b.lanes|=u),cl(M,u,s),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===s){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function hl(s,a,u,f){s=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var P=y.type;Ci(y.pendingProps.value,M.value)||(s!==null?s.push(P):s=[P])}}else if(y===Ft.current){if(M=y.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Gc):s=[Gc])}y=y.return}s!==null&&au(a,s,u,f),a.flags|=262144}function lf(s){for(s=s.firstContext;s!==null;){if(!Ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function fl(s){Os=s,Qs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ui(s){return bv(Os,s)}function uf(s,a){return Os===null&&fl(s),bv(s,a)}function bv(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Qs===null){if(s===null)throw Error(i(308));Qs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Qs=Qs.next=a;return u}var ZA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},KA=n.unstable_scheduleCallback,WA=n.unstable_NormalPriority,In={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new ZA,data:new Map,refCount:0}}function _c(s){s.refCount--,s.refCount===0&&KA(WA,function(){s.controller.abort()})}var yc=null,np=0,ou=0,lu=null;function YA(s,a){if(yc===null){var u=yc=[];np=0,ou=sg(),lu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return np++,a.then(xv,xv),a}function xv(){if(--np===0&&yc!==null){lu!==null&&(lu.status="fulfilled");var s=yc;yc=null,ou=0,lu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function XA(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var Ev=tt.S;tt.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&YA(s,a),Ev!==null&&Ev(s,a)};var dl=Q(null);function ip(){var s=dl.current;return s!==null?s:$e.pooledCache}function cf(s,a){a===null?st(dl,dl.current):st(dl,a.pool)}function wv(){var s=ip();return s===null?null:{parent:In._currentValue,pool:s}}var vc=Error(i(460)),Tv=Error(i(474)),hf=Error(i(542)),sp={then:function(){}};function Sv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ff(){}function Av(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(ff,ff),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Rv(s),s;default:if(typeof a.status=="string")a.then(ff,ff);else{if(s=$e,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Rv(s),s}throw bc=a,vc}}var bc=null;function Cv(){if(bc===null)throw Error(i(459));var s=bc;return bc=null,s}function Rv(s){if(s===vc||s===hf)throw Error(i(483))}var Xa=!1;function rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ja(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Le&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=_r(s),ol(s,null,u),a}return al(s,f,a,u),_r(s)}function xc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,lr(s,u)}}function op(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=M:b=b.next=M,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var lp=!1;function Ec(){if(lp){var s=lu;if(s!==null)throw s}}function wc(s,a,u,f){lp=!1;var y=s.updateQueue;Xa=!1;var b=y.firstBaseUpdate,M=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var Z=P,at=Z.next;Z.next=null,M===null?b=at:M.next=at,M=Z;var yt=s.alternate;yt!==null&&(yt=yt.updateQueue,P=yt.lastBaseUpdate,P!==M&&(P===null?yt.firstBaseUpdate=at:P.next=at,yt.lastBaseUpdate=Z))}if(b!==null){var xt=y.baseState;M=0,yt=at=Z=null,P=b;do{var ut=P.lane&-536870913,ht=ut!==P.lane;if(ht?(Ae&ut)===ut:(f&ut)===ut){ut!==0&&ut===ou&&(lp=!0),yt!==null&&(yt=yt.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var te=s,Zt=P;ut=a;var Fe=u;switch(Zt.tag){case 1:if(te=Zt.payload,typeof te=="function"){xt=te.call(Fe,xt,ut);break t}xt=te;break t;case 3:te.flags=te.flags&-65537|128;case 0:if(te=Zt.payload,ut=typeof te=="function"?te.call(Fe,xt,ut):te,ut==null)break t;xt=v({},xt,ut);break t;case 2:Xa=!0}}ut=P.callback,ut!==null&&(s.flags|=64,ht&&(s.flags|=8192),ht=y.callbacks,ht===null?y.callbacks=[ut]:ht.push(ut))}else ht={lane:ut,tag:P.tag,payload:P.payload,callback:P.callback,next:null},yt===null?(at=yt=ht,Z=xt):yt=yt.next=ht,M|=ut;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ht=P,P=ht.next,ht.next=null,y.lastBaseUpdate=ht,y.shared.pending=null}}while(!0);yt===null&&(Z=xt),y.baseState=Z,y.firstBaseUpdate=at,y.lastBaseUpdate=yt,b===null&&(y.shared.lanes=0),oo|=M,s.lanes=M,s.memoizedState=xt}}function Mv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ov(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Mv(u[s],a)}var uu=Q(null),df=Q(0);function Dv(s,a){s=da,st(df,s),st(uu,a),da=s|a.baseLanes}function up(){st(df,da),st(uu,uu.current)}function cp(){da=df.current,gt(uu),gt(df)}var to=0,me=null,je=null,wn=null,mf=!1,cu=!1,ml=!1,pf=0,Tc=0,hu=null,QA=0;function yn(){throw Error(i(321))}function hp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Ci(s[u],a[u]))return!1;return!0}function fp(s,a,u,f,y,b){return to=b,me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,tt.H=s===null||s.memoizedState===null?m0:p0,ml=!1,b=u(f,y),ml=!1,cu&&(b=Iv(a,u,f,y)),kv(s),b}function kv(s){tt.H=xf;var a=je!==null&&je.next!==null;if(to=0,wn=je=me=null,mf=!1,Tc=0,hu=null,a)throw Error(i(300));s===null||Kn||(s=s.dependencies,s!==null&&lf(s)&&(Kn=!0))}function Iv(s,a,u,f){me=s;var y=0;do{if(cu&&(hu=null),Tc=0,cu=!1,25<=y)throw Error(i(301));if(y+=1,wn=je=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}tt.H=rC,b=a(u,f)}while(cu);return b}function JA(){var s=tt.H,a=s.useState()[0];return a=typeof a.then=="function"?Sc(a):a,s=s.useState()[0],(je!==null?je.memoizedState:null)!==s&&(me.flags|=1024),a}function dp(){var s=pf!==0;return pf=0,s}function mp(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function pp(s){if(mf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}mf=!1}to=0,wn=je=me=null,cu=!1,Tc=pf=0,hu=null}function Fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?me.memoizedState=wn=s:wn=wn.next=s,wn}function Tn(){if(je===null){var s=me.alternate;s=s!==null?s.memoizedState:null}else s=je.next;var a=wn===null?me.memoizedState:wn.next;if(a!==null)wn=a,je=s;else{if(s===null)throw me.alternate===null?Error(i(467)):Error(i(310));je=s,s={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},wn===null?me.memoizedState=wn=s:wn=wn.next=s}return wn}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(s){var a=Tc;return Tc+=1,hu===null&&(hu=[]),s=Av(hu,s,a),a=me,(wn===null?a.memoizedState:wn.next)===null&&(a=a.alternate,tt.H=a===null||a.memoizedState===null?m0:p0),s}function gf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sc(s);if(s.$$typeof===Y)return ui(s)}throw Error(i(438,String(s)))}function _p(s){var a=null,u=me.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=me.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=gp(),me.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=V;return a.index++,u}function oa(s,a){return typeof a=="function"?a(s):a}function _f(s){var a=Tn();return yp(a,je,s)}function yp(s,a,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=s.baseQueue,b=f.pending;if(b!==null){if(y!==null){var M=y.next;y.next=b.next,b.next=M}a.baseQueue=y=b,f.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{a=y.next;var P=M=null,Z=null,at=a,yt=!1;do{var xt=at.lane&-536870913;if(xt!==at.lane?(Ae&xt)===xt:(to&xt)===xt){var ut=at.revertLane;if(ut===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),xt===ou&&(yt=!0);else if((to&ut)===ut){at=at.next,ut===ou&&(yt=!0);continue}else xt={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Z===null?(P=Z=xt,M=b):Z=Z.next=xt,me.lanes|=ut,oo|=ut;xt=at.action,ml&&u(b,xt),b=at.hasEagerState?at.eagerState:u(b,xt)}else ut={lane:xt,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Z===null?(P=Z=ut,M=b):Z=Z.next=ut,me.lanes|=xt,oo|=xt;at=at.next}while(at!==null&&at!==a);if(Z===null?M=b:Z.next=P,!Ci(b,s.memoizedState)&&(Kn=!0,yt&&(u=lu,u!==null)))throw u;s.memoizedState=b,s.baseState=M,s.baseQueue=Z,f.lastRenderedState=b}return y===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function vp(s){var a=Tn(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var M=y=y.next;do b=s(b,M.action),M=M.next;while(M!==y);Ci(b,a.memoizedState)||(Kn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function Pv(s,a,u){var f=me,y=Tn(),b=ee;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var M=!Ci((je||y).memoizedState,u);M&&(y.memoizedState=u,Kn=!0),y=y.queue;var P=Vv.bind(null,f,y,s);if(Ac(2048,8,P,[s]),y.getSnapshot!==a||M||wn!==null&&wn.memoizedState.tag&1){if(f.flags|=2048,fu(9,yf(),Nv.bind(null,f,y,u,a),null),$e===null)throw Error(i(349));b||(to&124)!==0||Lv(f,a,u)}return u}function Lv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=me.updateQueue,a===null?(a=gp(),me.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Nv(s,a,u,f){a.value=u,a.getSnapshot=f,zv(a)&&Bv(s)}function Vv(s,a,u){return u(function(){zv(a)&&Bv(s)})}function zv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Ci(s,u)}catch{return!0}}function Bv(s){var a=Za(s,2);a!==null&&ps(a,s,2)}function bp(s){var a=Fi();if(typeof s=="function"){var u=s;if(s=u(),ml){ze(!0);try{u()}finally{ze(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:s},a}function jv(s,a,u,f){return s.baseState=u,yp(s,je,typeof f=="function"?f:oa)}function tC(s,a,u,f,y){if(bf(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};tt.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,Uv(a,b)):(b.next=u.next,a.pending=u.next=b)}}function Uv(s,a){var u=a.action,f=a.payload,y=s.state;if(a.isTransition){var b=tt.T,M={};tt.T=M;try{var P=u(y,f),Z=tt.S;Z!==null&&Z(M,P),Fv(s,a,P)}catch(at){xp(s,a,at)}finally{tt.T=b}}else try{b=u(y,f),Fv(s,a,b)}catch(at){xp(s,a,at)}}function Fv(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Hv(s,a,f)},function(f){return xp(s,a,f)}):Hv(s,a,u)}function Hv(s,a,u){a.status="fulfilled",a.value=u,qv(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Uv(s,u)))}function xp(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,qv(a),a=a.next;while(a!==f)}s.action=null}function qv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Gv(s,a){return a}function $v(s,a){if(ee){var u=$e.formState;if(u!==null){t:{var f=me;if(ee){if(Bt){e:{for(var y=Bt,b=un;y.nodeType!==8;){if(!b){y=null;break e}if(y=er(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Bt=er(y.nextSibling),f=y.data==="F!";break t}}Ui(f)}f=!1}f&&(a=u[0])}}return u=Fi(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:a},u.queue=f,u=h0.bind(null,me,f),f.dispatch=u,f=bp(!1),b=Ap.bind(null,me,!1,f.queue),f=Fi(),y={state:a,dispatch:null,action:s,pending:null},f.queue=y,u=tC.bind(null,me,y,b,u),y.dispatch=u,f.memoizedState=s,[a,u,!1]}function Zv(s){var a=Tn();return Kv(a,je,s)}function Kv(s,a,u){if(a=yp(s,a,Gv)[0],s=_f(oa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Sc(a)}catch(M){throw M===vc?hf:M}else f=a;a=Tn();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(me.flags|=2048,fu(9,yf(),eC.bind(null,y,u),null)),[f,b,s]}function eC(s,a){s.action=a}function Wv(s){var a=Tn(),u=je;if(u!==null)return Kv(a,u,s);Tn(),a=a.memoizedState,u=Tn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function fu(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=me.updateQueue,a===null&&(a=gp(),me.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function yf(){return{destroy:void 0,resource:void 0}}function Yv(){return Tn().memoizedState}function vf(s,a,u,f){var y=Fi();f=f===void 0?null:f,me.flags|=s,y.memoizedState=fu(1|a,yf(),u,f)}function Ac(s,a,u,f){var y=Tn();f=f===void 0?null:f;var b=y.memoizedState.inst;je!==null&&f!==null&&hp(f,je.memoizedState.deps)?y.memoizedState=fu(a,b,u,f):(me.flags|=s,y.memoizedState=fu(1|a,b,u,f))}function Xv(s,a){vf(8390656,8,s,a)}function Qv(s,a){Ac(2048,8,s,a)}function Jv(s,a){return Ac(4,2,s,a)}function t0(s,a){return Ac(4,4,s,a)}function e0(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function n0(s,a,u){u=u!=null?u.concat([s]):null,Ac(4,4,e0.bind(null,a,s),u)}function Ep(){}function i0(s,a){var u=Tn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&hp(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function s0(s,a){var u=Tn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&hp(a,f[1]))return f[0];if(f=s(),ml){ze(!0);try{s()}finally{ze(!1)}}return u.memoizedState=[f,a],f}function wp(s,a,u){return u===void 0||(to&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=ob(),me.lanes|=s,oo|=s,u)}function r0(s,a,u,f){return Ci(u,a)?u:uu.current!==null?(s=wp(s,u,f),Ci(s,a)||(Kn=!0),s):(to&42)===0?(Kn=!0,s.memoizedState=u):(s=ob(),me.lanes|=s,oo|=s,a)}function a0(s,a,u,f,y){var b=pt.p;pt.p=b!==0&&8>b?b:8;var M=tt.T,P={};tt.T=P,Ap(s,!1,a,u);try{var Z=y(),at=tt.S;if(at!==null&&at(P,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var yt=XA(Z,f);Cc(s,a,yt,ms(s))}else Cc(s,a,f,ms(s))}catch(xt){Cc(s,a,{then:function(){},status:"rejected",reason:xt},ms())}finally{pt.p=b,tt.T=M}}function nC(){}function Tp(s,a,u,f){if(s.tag!==5)throw Error(i(476));var y=o0(s).queue;a0(s,y,a,dt,u===null?nC:function(){return l0(s),u(f)})}function o0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:dt},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function l0(s){var a=o0(s).next.queue;Cc(s,a,{},ms())}function Sp(){return ui(Gc)}function u0(){return Tn().memoizedState}function c0(){return Tn().memoizedState}function iC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=ms();s=Qa(u);var f=Ja(a,s,u);f!==null&&(ps(f,a,u),xc(f,a,u)),a={cache:ep()},s.payload=a;return}a=a.return}}function sC(s,a,u){var f=ms();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},bf(s)?f0(a,u):(u=sa(s,a,u,f),u!==null&&(ps(u,s,f),d0(u,a,f)))}function h0(s,a,u){var f=ms();Cc(s,a,u,f)}function Cc(s,a,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(bf(s))f0(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var M=a.lastRenderedState,P=b(M,u);if(y.hasEagerState=!0,y.eagerState=P,Ci(P,M))return al(s,a,y,0),$e===null&&rl(),!1}catch{}finally{}if(u=sa(s,a,y,f),u!==null)return ps(u,s,f),d0(u,a,f),!0}return!1}function Ap(s,a,u,f){if(f={lane:2,revertLane:sg(),action:f,hasEagerState:!1,eagerState:null,next:null},bf(s)){if(a)throw Error(i(479))}else a=sa(s,u,f,2),a!==null&&ps(a,s,2)}function bf(s){var a=s.alternate;return s===me||a!==null&&a===me}function f0(s,a){cu=mf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function d0(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,lr(s,u)}}var xf={readContext:ui,use:gf,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn},m0={readContext:ui,use:gf,useCallback:function(s,a){return Fi().memoizedState=[s,a===void 0?null:a],s},useContext:ui,useEffect:Xv,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,vf(4194308,4,e0.bind(null,a,s),u)},useLayoutEffect:function(s,a){return vf(4194308,4,s,a)},useInsertionEffect:function(s,a){vf(4,2,s,a)},useMemo:function(s,a){var u=Fi();a=a===void 0?null:a;var f=s();if(ml){ze(!0);try{s()}finally{ze(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=Fi();if(u!==void 0){var y=u(a);if(ml){ze(!0);try{u(a)}finally{ze(!1)}}}else y=a;return f.memoizedState=f.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},f.queue=s,s=s.dispatch=sC.bind(null,me,s),[f.memoizedState,s]},useRef:function(s){var a=Fi();return s={current:s},a.memoizedState=s},useState:function(s){s=bp(s);var a=s.queue,u=h0.bind(null,me,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Ep,useDeferredValue:function(s,a){var u=Fi();return wp(u,s,a)},useTransition:function(){var s=bp(!1);return s=a0.bind(null,me,s.queue,!0,!1),Fi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=me,y=Fi();if(ee){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),$e===null)throw Error(i(349));(Ae&124)!==0||Lv(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,Xv(Vv.bind(null,f,b,s),[s]),f.flags|=2048,fu(9,yf(),Nv.bind(null,f,b,u,a),null),u},useId:function(){var s=Fi(),a=$e.identifierPrefix;if(ee){var u=$,f=k;u=(f&~(1<<32-_n(f)-1)).toString(32)+u,a="«"+a+"R"+u,u=pf++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=QA++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Sp,useFormState:$v,useActionState:$v,useOptimistic:function(s){var a=Fi();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Ap.bind(null,me,!0,u),u.dispatch=a,[s,a]},useMemoCache:_p,useCacheRefresh:function(){return Fi().memoizedState=iC.bind(null,me)}},p0={readContext:ui,use:gf,useCallback:i0,useContext:ui,useEffect:Qv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:t0,useMemo:s0,useReducer:_f,useRef:Yv,useState:function(){return _f(oa)},useDebugValue:Ep,useDeferredValue:function(s,a){var u=Tn();return r0(u,je.memoizedState,s,a)},useTransition:function(){var s=_f(oa)[0],a=Tn().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:Pv,useId:u0,useHostTransitionStatus:Sp,useFormState:Zv,useActionState:Zv,useOptimistic:function(s,a){var u=Tn();return jv(u,je,s,a)},useMemoCache:_p,useCacheRefresh:c0},rC={readContext:ui,use:gf,useCallback:i0,useContext:ui,useEffect:Qv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:t0,useMemo:s0,useReducer:vp,useRef:Yv,useState:function(){return vp(oa)},useDebugValue:Ep,useDeferredValue:function(s,a){var u=Tn();return je===null?wp(u,s,a):r0(u,je.memoizedState,s,a)},useTransition:function(){var s=vp(oa)[0],a=Tn().memoizedState;return[typeof s=="boolean"?s:Sc(s),a]},useSyncExternalStore:Pv,useId:u0,useHostTransitionStatus:Sp,useFormState:Wv,useActionState:Wv,useOptimistic:function(s,a){var u=Tn();return je!==null?jv(u,je,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:_p,useCacheRefresh:c0},du=null,Rc=0;function Ef(s){var a=Rc;return Rc+=1,du===null&&(du=[]),Av(du,s,a)}function Mc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function wf(s,a){throw a.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function g0(s){var a=s._init;return a(s._payload)}function _0(s){function a(et,W){if(s){var rt=et.deletions;rt===null?(et.deletions=[W],et.flags|=16):rt.push(W)}}function u(et,W){if(!s)return null;for(;W!==null;)a(et,W),W=W.sibling;return null}function f(et){for(var W=new Map;et!==null;)et.key!==null?W.set(et.key,et):W.set(et.index,et),et=et.sibling;return W}function y(et,W){return et=Ms(et,W),et.index=0,et.sibling=null,et}function b(et,W,rt){return et.index=rt,s?(rt=et.alternate,rt!==null?(rt=rt.index,rt<W?(et.flags|=67108866,W):rt):(et.flags|=67108866,W)):(et.flags|=1048576,W)}function M(et){return s&&et.alternate===null&&(et.flags|=67108866),et}function P(et,W,rt,vt){return W===null||W.tag!==6?(W=gc(rt,et.mode,vt),W.return=et,W):(W=y(W,rt),W.return=et,W)}function Z(et,W,rt,vt){var Nt=rt.type;return Nt===N?yt(et,W,rt.props.children,vt,rt.key):W!==null&&(W.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===A&&g0(Nt)===W.type)?(W=y(W,rt.props),Mc(W,rt),W.return=et,W):(W=ll(rt.type,rt.key,rt.props,null,et.mode,vt),Mc(W,rt),W.return=et,W)}function at(et,W,rt,vt){return W===null||W.tag!==4||W.stateNode.containerInfo!==rt.containerInfo||W.stateNode.implementation!==rt.implementation?(W=ru(rt,et.mode,vt),W.return=et,W):(W=y(W,rt.children||[]),W.return=et,W)}function yt(et,W,rt,vt,Nt){return W===null||W.tag!==7?(W=yr(rt,et.mode,vt,Nt),W.return=et,W):(W=y(W,rt),W.return=et,W)}function xt(et,W,rt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=gc(""+W,et.mode,rt),W.return=et,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return rt=ll(W.type,W.key,W.props,null,et.mode,rt),Mc(rt,W),rt.return=et,rt;case D:return W=ru(W,et.mode,rt),W.return=et,W;case A:var vt=W._init;return W=vt(W._payload),xt(et,W,rt)}if(It(W)||q(W))return W=yr(W,et.mode,rt,null),W.return=et,W;if(typeof W.then=="function")return xt(et,Ef(W),rt);if(W.$$typeof===Y)return xt(et,uf(et,W),rt);wf(et,W)}return null}function ut(et,W,rt,vt){var Nt=W!==null?W.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Nt!==null?null:P(et,W,""+rt,vt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case w:return rt.key===Nt?Z(et,W,rt,vt):null;case D:return rt.key===Nt?at(et,W,rt,vt):null;case A:return Nt=rt._init,rt=Nt(rt._payload),ut(et,W,rt,vt)}if(It(rt)||q(rt))return Nt!==null?null:yt(et,W,rt,vt,null);if(typeof rt.then=="function")return ut(et,W,Ef(rt),vt);if(rt.$$typeof===Y)return ut(et,W,uf(et,rt),vt);wf(et,rt)}return null}function ht(et,W,rt,vt,Nt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return et=et.get(rt)||null,P(W,et,""+vt,Nt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case w:return et=et.get(vt.key===null?rt:vt.key)||null,Z(W,et,vt,Nt);case D:return et=et.get(vt.key===null?rt:vt.key)||null,at(W,et,vt,Nt);case A:var ge=vt._init;return vt=ge(vt._payload),ht(et,W,rt,vt,Nt)}if(It(vt)||q(vt))return et=et.get(rt)||null,yt(W,et,vt,Nt,null);if(typeof vt.then=="function")return ht(et,W,rt,Ef(vt),Nt);if(vt.$$typeof===Y)return ht(et,W,rt,uf(W,vt),Nt);wf(W,vt)}return null}function te(et,W,rt,vt){for(var Nt=null,ge=null,Ut=W,Yt=W=0,Yn=null;Ut!==null&&Yt<rt.length;Yt++){Ut.index>Yt?(Yn=Ut,Ut=null):Yn=Ut.sibling;var Oe=ut(et,Ut,rt[Yt],vt);if(Oe===null){Ut===null&&(Ut=Yn);break}s&&Ut&&Oe.alternate===null&&a(et,Ut),W=b(Oe,W,Yt),ge===null?Nt=Oe:ge.sibling=Oe,ge=Oe,Ut=Yn}if(Yt===rt.length)return u(et,Ut),ee&&nt(et,Yt),Nt;if(Ut===null){for(;Yt<rt.length;Yt++)Ut=xt(et,rt[Yt],vt),Ut!==null&&(W=b(Ut,W,Yt),ge===null?Nt=Ut:ge.sibling=Ut,ge=Ut);return ee&&nt(et,Yt),Nt}for(Ut=f(Ut);Yt<rt.length;Yt++)Yn=ht(Ut,et,Yt,rt[Yt],vt),Yn!==null&&(s&&Yn.alternate!==null&&Ut.delete(Yn.key===null?Yt:Yn.key),W=b(Yn,W,Yt),ge===null?Nt=Yn:ge.sibling=Yn,ge=Yn);return s&&Ut.forEach(function(_o){return a(et,_o)}),ee&&nt(et,Yt),Nt}function Zt(et,W,rt,vt){if(rt==null)throw Error(i(151));for(var Nt=null,ge=null,Ut=W,Yt=W=0,Yn=null,Oe=rt.next();Ut!==null&&!Oe.done;Yt++,Oe=rt.next()){Ut.index>Yt?(Yn=Ut,Ut=null):Yn=Ut.sibling;var _o=ut(et,Ut,Oe.value,vt);if(_o===null){Ut===null&&(Ut=Yn);break}s&&Ut&&_o.alternate===null&&a(et,Ut),W=b(_o,W,Yt),ge===null?Nt=_o:ge.sibling=_o,ge=_o,Ut=Yn}if(Oe.done)return u(et,Ut),ee&&nt(et,Yt),Nt;if(Ut===null){for(;!Oe.done;Yt++,Oe=rt.next())Oe=xt(et,Oe.value,vt),Oe!==null&&(W=b(Oe,W,Yt),ge===null?Nt=Oe:ge.sibling=Oe,ge=Oe);return ee&&nt(et,Yt),Nt}for(Ut=f(Ut);!Oe.done;Yt++,Oe=rt.next())Oe=ht(Ut,et,Yt,Oe.value,vt),Oe!==null&&(s&&Oe.alternate!==null&&Ut.delete(Oe.key===null?Yt:Oe.key),W=b(Oe,W,Yt),ge===null?Nt=Oe:ge.sibling=Oe,ge=Oe);return s&&Ut.forEach(function(aR){return a(et,aR)}),ee&&nt(et,Yt),Nt}function Fe(et,W,rt,vt){if(typeof rt=="object"&&rt!==null&&rt.type===N&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case w:t:{for(var Nt=rt.key;W!==null;){if(W.key===Nt){if(Nt=rt.type,Nt===N){if(W.tag===7){u(et,W.sibling),vt=y(W,rt.props.children),vt.return=et,et=vt;break t}}else if(W.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===A&&g0(Nt)===W.type){u(et,W.sibling),vt=y(W,rt.props),Mc(vt,rt),vt.return=et,et=vt;break t}u(et,W);break}else a(et,W);W=W.sibling}rt.type===N?(vt=yr(rt.props.children,et.mode,vt,rt.key),vt.return=et,et=vt):(vt=ll(rt.type,rt.key,rt.props,null,et.mode,vt),Mc(vt,rt),vt.return=et,et=vt)}return M(et);case D:t:{for(Nt=rt.key;W!==null;){if(W.key===Nt)if(W.tag===4&&W.stateNode.containerInfo===rt.containerInfo&&W.stateNode.implementation===rt.implementation){u(et,W.sibling),vt=y(W,rt.children||[]),vt.return=et,et=vt;break t}else{u(et,W);break}else a(et,W);W=W.sibling}vt=ru(rt,et.mode,vt),vt.return=et,et=vt}return M(et);case A:return Nt=rt._init,rt=Nt(rt._payload),Fe(et,W,rt,vt)}if(It(rt))return te(et,W,rt,vt);if(q(rt)){if(Nt=q(rt),typeof Nt!="function")throw Error(i(150));return rt=Nt.call(rt),Zt(et,W,rt,vt)}if(typeof rt.then=="function")return Fe(et,W,Ef(rt),vt);if(rt.$$typeof===Y)return Fe(et,W,uf(et,rt),vt);wf(et,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,W!==null&&W.tag===6?(u(et,W.sibling),vt=y(W,rt),vt.return=et,et=vt):(u(et,W),vt=gc(rt,et.mode,vt),vt.return=et,et=vt),M(et)):u(et,W)}return function(et,W,rt,vt){try{Rc=0;var Nt=Fe(et,W,rt,vt);return du=null,Nt}catch(Ut){if(Ut===vc||Ut===hf)throw Ut;var ge=Di(29,Ut,null,et.mode);return ge.lanes=vt,ge.return=et,ge}finally{}}}var mu=_0(!0),y0=_0(!1),Ds=Q(null),br=null;function eo(s){var a=s.alternate;st(Pn,Pn.current&1),st(Ds,s),br===null&&(a===null||uu.current!==null||a.memoizedState!==null)&&(br=s)}function v0(s){if(s.tag===22){if(st(Pn,Pn.current),st(Ds,s),br===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(br=s)}}else no()}function no(){st(Pn,Pn.current),st(Ds,Ds.current)}function la(s){gt(Ds),br===s&&(br=null),gt(Pn)}var Pn=Q(0);function Tf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||gg(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Cp(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:v({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Rp={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=ms(),y=Qa(f);y.payload=a,u!=null&&(y.callback=u),a=Ja(s,y,f),a!==null&&(ps(a,s,f),xc(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=ms(),y=Qa(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Ja(s,y,f),a!==null&&(ps(a,s,f),xc(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=ms(),f=Qa(u);f.tag=2,a!=null&&(f.callback=a),a=Ja(s,f,u),a!==null&&(ps(a,s,u),xc(a,s,u))}};function b0(s,a,u,f,y,b,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,M):a.prototype&&a.prototype.isPureReactComponent?!Ri(u,f)||!Ri(y,b):!0}function x0(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Rp.enqueueReplaceState(a,a.state,null)}function pl(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=v({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var Sf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function E0(s){Sf(s)}function w0(s){console.error(s)}function T0(s){Sf(s)}function Af(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function S0(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Mp(s,a,u){return u=Qa(u),u.tag=3,u.payload={element:null},u.callback=function(){Af(s,a)},u}function A0(s){return s=Qa(s),s.tag=3,s}function C0(s,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;s.payload=function(){return y(b)},s.callback=function(){S0(a,u,f)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){S0(a,u,f),typeof y!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function aC(s,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&hl(a,u,y,!0),u=Ds.current,u!==null){switch(u.tag){case 13:return br===null?Jp():u.alternate===null&&gn===0&&(gn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===sp?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),eg(s,f,y)),!1;case 22:return u.flags|=65536,f===sp?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),eg(s,f,y)),!1}throw Error(i(435,u.tag))}return eg(s,f,y),Jp(),!1}if(ee)return a=Ds.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Zn&&(s=Error(i(422),{cause:f}),Ya(Mi(s,u)))):(f!==Zn&&(a=Error(i(423),{cause:f}),Ya(Mi(a,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,f=Mi(f,u),y=Mp(s.stateNode,f,y),op(s,y),gn!==4&&(gn=2)),!1;var b=Error(i(520),{cause:f});if(b=Mi(b,u),Nc===null?Nc=[b]:Nc.push(b),gn!==4&&(gn=2),a===null)return!0;f=Mi(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Mp(u.stateNode,f,s),op(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(lo===null||!lo.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=A0(y),C0(y,s,u,f),op(u,y),!1}u=u.return}while(u!==null);return!1}var R0=Error(i(461)),Kn=!1;function Jn(s,a,u,f){a.child=s===null?y0(a,null,u,f):mu(a,s.child,u,f)}function M0(s,a,u,f,y){u=u.render;var b=a.ref;if("ref"in f){var M={};for(var P in f)P!=="ref"&&(M[P]=f[P])}else M=f;return fl(a),f=fp(s,a,u,M,b,y),P=dp(),s!==null&&!Kn?(mp(s,a,y),ua(s,a,y)):(ee&&P&&wt(a),a.flags|=1,Jn(s,a,f,y),a.child)}function O0(s,a,u,f,y){if(s===null){var b=u.type;return typeof b=="function"&&!su(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,D0(s,a,b,f,y)):(s=ll(u.type,null,f,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Vp(s,y)){var M=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ri,u(M,f)&&s.ref===a.ref)return ua(s,a,y)}return a.flags|=1,s=Ms(b,f),s.ref=a.ref,s.return=a,a.child=s}function D0(s,a,u,f,y){if(s!==null){var b=s.memoizedProps;if(Ri(b,f)&&s.ref===a.ref)if(Kn=!1,a.pendingProps=f=b,Vp(s,y))(s.flags&131072)!==0&&(Kn=!0);else return a.lanes=s.lanes,ua(s,a,y)}return Op(s,a,u,f,y)}function k0(s,a,u){var f=a.pendingProps,y=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,s!==null){for(y=a.child=s.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return I0(s,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&cf(a,b!==null?b.cachePool:null),b!==null?Dv(a,b):up(),v0(a);else return a.lanes=a.childLanes=536870912,I0(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(cf(a,b.cachePool),Dv(a,b),no(),a.memoizedState=null):(s!==null&&cf(a,null),up(),no());return Jn(s,a,y,u),a.child}function I0(s,a,u,f){var y=ip();return y=y===null?null:{parent:In._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},s!==null&&cf(a,null),up(),v0(a),s!==null&&hl(s,a,f,!0),null}function Cf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Op(s,a,u,f,y){return fl(a),u=fp(s,a,u,f,void 0,y),f=dp(),s!==null&&!Kn?(mp(s,a,y),ua(s,a,y)):(ee&&f&&wt(a),a.flags|=1,Jn(s,a,u,y),a.child)}function P0(s,a,u,f,y,b){return fl(a),a.updateQueue=null,u=Iv(a,f,u,y),kv(s),f=dp(),s!==null&&!Kn?(mp(s,a,b),ua(s,a,b)):(ee&&f&&wt(a),a.flags|=1,Jn(s,a,u,b),a.child)}function L0(s,a,u,f,y){if(fl(a),a.stateNode===null){var b=ra,M=u.contextType;typeof M=="object"&&M!==null&&(b=ui(M)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Rp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},rp(a),M=u.contextType,b.context=typeof M=="object"&&M!==null?ui(M):ra,b.state=a.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Cp(a,u,M,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&Rp.enqueueReplaceState(b,b.state,null),wc(a,f,b,y),Ec(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){b=a.stateNode;var P=a.memoizedProps,Z=pl(u,P);b.props=Z;var at=b.context,yt=u.contextType;M=ra,typeof yt=="object"&&yt!==null&&(M=ui(yt));var xt=u.getDerivedStateFromProps;yt=typeof xt=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,yt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||at!==M)&&x0(a,b,f,M),Xa=!1;var ut=a.memoizedState;b.state=ut,wc(a,f,b,y),Ec(),at=a.memoizedState,P||ut!==at||Xa?(typeof xt=="function"&&(Cp(a,u,xt,f),at=a.memoizedState),(Z=Xa||b0(a,u,Z,f,ut,at,M))?(yt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=at),b.props=f,b.state=at,b.context=M,f=Z):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,ap(s,a),M=a.memoizedProps,yt=pl(u,M),b.props=yt,xt=a.pendingProps,ut=b.context,at=u.contextType,Z=ra,typeof at=="object"&&at!==null&&(Z=ui(at)),P=u.getDerivedStateFromProps,(at=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==xt||ut!==Z)&&x0(a,b,f,Z),Xa=!1,ut=a.memoizedState,b.state=ut,wc(a,f,b,y),Ec();var ht=a.memoizedState;M!==xt||ut!==ht||Xa||s!==null&&s.dependencies!==null&&lf(s.dependencies)?(typeof P=="function"&&(Cp(a,u,P,f),ht=a.memoizedState),(yt=Xa||b0(a,u,yt,f,ut,ht,Z)||s!==null&&s.dependencies!==null&&lf(s.dependencies))?(at||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ht,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ht,Z)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===s.memoizedProps&&ut===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ut===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ht),b.props=f,b.state=ht,b.context=Z,f=yt):(typeof b.componentDidUpdate!="function"||M===s.memoizedProps&&ut===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ut===s.memoizedState||(a.flags|=1024),f=!1)}return b=f,Cf(s,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&f?(a.child=mu(a,s.child,null,y),a.child=mu(a,null,u,y)):Jn(s,a,u,y),a.memoizedState=b.state,s=a.child):s=ua(s,a,y),s}function N0(s,a,u,f){return Wa(),a.flags|=256,Jn(s,a,u,f),a.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(s){return{baseLanes:s,cachePool:wv()}}function Ip(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=ks),s}function V0(s,a,u){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,M;if((M=b)||(M=s!==null&&s.memoizedState===null?!1:(Pn.current&2)!==0),M&&(y=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,s===null){if(ee){if(y?eo(a):no(),ee){var P=Bt,Z;if(Z=P){t:{for(Z=P,P=un;Z.nodeType!==8;){if(!P){P=null;break t}if(Z=er(Z.nextSibling),Z===null){P=null;break t}}P=Z}P!==null?(a.memoizedState={dehydrated:P,treeContext:S!==null?{id:k,overflow:$}:null,retryLane:536870912,hydrationErrors:null},Z=Di(18,null,null,0),Z.stateNode=P,Z.return=a,a.child=Z,Pt=a,Bt=null,Z=!0):Z=!1}Z||Ui(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return gg(P)?a.lanes=32:a.lanes=536870912,null;la(a)}return P=f.children,f=f.fallback,y?(no(),y=a.mode,P=Rf({mode:"hidden",children:P},y),f=yr(f,y,u,null),P.return=a,f.return=a,P.sibling=f,a.child=P,y=a.child,y.memoizedState=kp(u),y.childLanes=Ip(s,M,u),a.memoizedState=Dp,f):(eo(a),Pp(a,P))}if(Z=s.memoizedState,Z!==null&&(P=Z.dehydrated,P!==null)){if(b)a.flags&256?(eo(a),a.flags&=-257,a=Lp(s,a,u)):a.memoizedState!==null?(no(),a.child=s.child,a.flags|=128,a=null):(no(),y=f.fallback,P=a.mode,f=Rf({mode:"visible",children:f.children},P),y=yr(y,P,u,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,mu(a,s.child,null,u),f=a.child,f.memoizedState=kp(u),f.childLanes=Ip(s,M,u),a.memoizedState=Dp,a=y);else if(eo(a),gg(P)){if(M=P.nextSibling&&P.nextSibling.dataset,M)var at=M.dgst;M=at,f=Error(i(419)),f.stack="",f.digest=M,Ya({value:f,source:null,stack:null}),a=Lp(s,a,u)}else if(Kn||hl(s,a,u,!1),M=(u&s.childLanes)!==0,Kn||M){if(M=$e,M!==null&&(f=u&-u,f=(f&42)!==0?1:Go(f),f=(f&(M.suspendedLanes|u))!==0?0:f,f!==0&&f!==Z.retryLane))throw Z.retryLane=f,Za(s,f),ps(M,s,f),R0;P.data==="$?"||Jp(),a=Lp(s,a,u)}else P.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=Z.treeContext,Bt=er(P.nextSibling),Pt=a,ee=!0,Ge=null,un=!1,s!==null&&(_[x++]=k,_[x++]=$,_[x++]=S,k=s.id,$=s.overflow,S=a),a=Pp(a,f.children),a.flags|=4096);return a}return y?(no(),y=f.fallback,P=a.mode,Z=s.child,at=Z.sibling,f=Ms(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,at!==null?y=Ms(at,y):(y=yr(y,P,u,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,P=s.child.memoizedState,P===null?P=kp(u):(Z=P.cachePool,Z!==null?(at=In._currentValue,Z=Z.parent!==at?{parent:at,pool:at}:Z):Z=wv(),P={baseLanes:P.baseLanes|u,cachePool:Z}),y.memoizedState=P,y.childLanes=Ip(s,M,u),a.memoizedState=Dp,f):(eo(a),u=s.child,s=u.sibling,u=Ms(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(M=a.deletions,M===null?(a.deletions=[s],a.flags|=16):M.push(s)),a.child=u,a.memoizedState=null,u)}function Pp(s,a){return a=Rf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Rf(s,a){return s=Di(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Lp(s,a,u){return mu(a,s.child,null,u),s=Pp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function z0(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),cl(s.return,a,u)}function Np(s,a,u,f,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=y)}function B0(s,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;if(Jn(s,a,f.children,u),f=Pn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&z0(s,u,a);else if(s.tag===19)z0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(st(Pn,f),y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&Tf(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Np(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Tf(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Np(a,!0,u,null,b);break;case"together":Np(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ua(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),oo|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(hl(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=Ms(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ms(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Vp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&lf(s)))}function oC(s,a,u){switch(a.tag){case 3:Ct(a,a.stateNode.containerInfo),vr(a,In,s.memoizedState.cache),Wa();break;case 27:case 5:fe(a);break;case 4:Ct(a,a.stateNode.containerInfo);break;case 10:vr(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(eo(a),a.flags|=128,null):(u&a.child.childLanes)!==0?V0(s,a,u):(eo(a),s=ua(s,a,u),s!==null?s.sibling:null);eo(a);break;case 19:var y=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(hl(s,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return B0(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),st(Pn,Pn.current),f)break;return null;case 22:case 23:return a.lanes=0,k0(s,a,u);case 24:vr(a,In,s.memoizedState.cache)}return ua(s,a,u)}function j0(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)Kn=!0;else{if(!Vp(s,u)&&(a.flags&128)===0)return Kn=!1,oC(s,a,u);Kn=(s.flags&131072)!==0}else Kn=!1,ee&&(a.flags&1048576)!==0&&ft(a,h,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")su(f)?(s=pl(f,s),a.tag=1,a=L0(null,a,f,s,u)):(a.tag=0,a=Op(null,a,f,s,u));else{if(f!=null){if(y=f.$$typeof,y===ot){a.tag=11,a=M0(null,a,f,s,u);break t}else if(y===F){a.tag=14,a=O0(null,a,f,s,u);break t}}throw a=Mt(f)||f,Error(i(306,a,""))}}return a;case 0:return Op(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=pl(f,a.pendingProps),L0(s,a,f,y,u);case 3:t:{if(Ct(a,a.stateNode.containerInfo),s===null)throw Error(i(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,ap(s,a),wc(a,f,null,u);var M=a.memoizedState;if(f=M.cache,vr(a,In,f),f!==b.cache&&au(a,[In],u,!0),Ec(),f=M.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=N0(s,a,f,u);break t}else if(f!==y){y=Mi(Error(i(424)),a),Ya(y),a=N0(s,a,f,u);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=er(s.firstChild),Pt=a,ee=!0,Ge=null,un=!0,u=y0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Wa(),f===y){a=ua(s,a,u);break t}Jn(s,a,f,u)}a=a.child}return a;case 26:return Cf(s,a),s===null?(u=qb(a.type,null,a.pendingProps,null))?a.memoizedState=u:ee||(u=a.type,s=a.pendingProps,f=Ff(_t.current).createElement(u),f[an]=a,f[On]=s,ei(f,u,s),on(f),a.stateNode=f):a.memoizedState=qb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return fe(a),s===null&&ee&&(f=a.stateNode=Ub(a.type,a.pendingProps,_t.current),Pt=a,un=!0,y=Bt,ho(a.type)?(_g=y,Bt=er(f.firstChild)):Bt=y),Jn(s,a,a.pendingProps.children,u),Cf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ee&&((y=f=Bt)&&(f=LC(f,a.type,a.pendingProps,un),f!==null?(a.stateNode=f,Pt=a,Bt=er(f.firstChild),un=!1,y=!0):y=!1),y||Ui(a)),fe(a),y=a.type,b=a.pendingProps,M=s!==null?s.memoizedProps:null,f=b.children,dg(y,b)?f=null:M!==null&&dg(y,M)&&(a.flags|=32),a.memoizedState!==null&&(y=fp(s,a,JA,null,null,u),Gc._currentValue=y),Cf(s,a),Jn(s,a,f,u),a.child;case 6:return s===null&&ee&&((s=u=Bt)&&(u=NC(u,a.pendingProps,un),u!==null?(a.stateNode=u,Pt=a,Bt=null,s=!0):s=!1),s||Ui(a)),null;case 13:return V0(s,a,u);case 4:return Ct(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=mu(a,null,f,u):Jn(s,a,f,u),a.child;case 11:return M0(s,a,a.type,a.pendingProps,u);case 7:return Jn(s,a,a.pendingProps,u),a.child;case 8:return Jn(s,a,a.pendingProps.children,u),a.child;case 12:return Jn(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,vr(a,a.type,f.value),Jn(s,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,fl(a),y=ui(y),f=f(y),a.flags|=1,Jn(s,a,f,u),a.child;case 14:return O0(s,a,a.type,a.pendingProps,u);case 15:return D0(s,a,a.type,a.pendingProps,u);case 19:return B0(s,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},s===null?(u=Rf(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Ms(s.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return k0(s,a,u);case 24:return fl(a),f=ui(In),s===null?(y=ip(),y===null&&(y=$e,b=ep(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:f,cache:y},rp(a),vr(a,In,y)):((s.lanes&u)!==0&&(ap(s,a),wc(a,null,null,u),Ec()),y=s.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),vr(a,In,f)):(f=b.cache,vr(a,In,f),f!==y.cache&&au(a,[In],u,!0))),Jn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ca(s){s.flags|=4}function U0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Wb(a)){if(a=Ds.current,a!==null&&((Ae&4194048)===Ae?br!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||a!==br))throw bc=sp,Tv;s.flags|=8192}}function Mf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Bs():536870912,s.lanes|=a,yu|=a)}function Oc(s,a){if(!ee)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function cn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function lC(s,a,u){var f=a.pendingProps;switch(Rt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(a),null;case 1:return cn(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Js(In),Ht(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(ul(a)?ca(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,of())),cn(a),null;case 26:return u=a.memoizedState,s===null?(ca(a),u!==null?(cn(a),U0(a,u)):(cn(a),a.flags&=-16777217)):u?u!==s.memoizedState?(ca(a),cn(a),U0(a,u)):(cn(a),a.flags&=-16777217):(s.memoizedProps!==f&&ca(a),cn(a),a.flags&=-16777217),null;case 27:qt(a),u=_t.current;var y=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&ca(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return cn(a),null}s=bt.current,ul(a)?rf(a):(s=Ub(y,f,u),a.stateNode=s,ca(a))}return cn(a),null;case 5:if(qt(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&ca(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return cn(a),null}if(s=bt.current,ul(a))rf(a);else{switch(y=Ff(_t.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}s[an]=a,s[On]=f;t:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break t;for(;y.sibling===null;){if(y.return===null||y.return===a)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=s;t:switch(ei(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ca(a)}}return cn(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&ca(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,ul(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,y=Pt,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}s[an]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Pb(s.nodeValue,u)),s||Ui(a)}else s=Ff(s).createTextNode(f),s[an]=a,a.stateNode=s}return cn(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=ul(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[an]=a}else Wa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;cn(a),y=!1}else y=of(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(la(a),a):(la(a),null)}if(la(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Mf(a,a.updateQueue),cn(a),null;case 4:return Ht(),s===null&&lg(a.stateNode.containerInfo),cn(a),null;case 10:return Js(a.type),cn(a),null;case 19:if(gt(Pn),y=a.memoizedState,y===null)return cn(a),null;if(f=(a.flags&128)!==0,b=y.rendering,b===null)if(f)Oc(y,!1);else{if(gn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Tf(s),b!==null){for(a.flags|=128,Oc(y,!1),s=b.updateQueue,a.updateQueue=s,Mf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)pc(u,s),u=u.sibling;return st(Pn,Pn.current&1|2),a.child}s=s.sibling}y.tail!==null&&le()>kf&&(a.flags|=128,f=!0,Oc(y,!1),a.lanes=4194304)}else{if(!f)if(s=Tf(b),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,Mf(a,s),Oc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!ee)return cn(a),null}else 2*le()-y.renderingStartTime>kf&&u!==536870912&&(a.flags|=128,f=!0,Oc(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(s=y.last,s!==null?s.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=le(),a.sibling=null,s=Pn.current,st(Pn,f?s&1|2:s&1),a):(cn(a),null);case 22:case 23:return la(a),cp(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(cn(a),a.subtreeFlags&6&&(a.flags|=8192)):cn(a),u=a.updateQueue,u!==null&&Mf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&gt(dl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Js(In),cn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function uC(s,a){switch(Rt(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Js(In),Ht(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return qt(a),null;case 13:if(la(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Wa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return gt(Pn),null;case 4:return Ht(),null;case 10:return Js(a.type),null;case 22:case 23:return la(a),cp(),s!==null&&gt(dl),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Js(In),null;case 25:return null;default:return null}}function F0(s,a){switch(Rt(a),a.tag){case 3:Js(In),Ht();break;case 26:case 27:case 5:qt(a);break;case 4:Ht();break;case 13:la(a);break;case 19:gt(Pn);break;case 10:Js(a.type);break;case 22:case 23:la(a),cp(),s!==null&&gt(dl);break;case 24:Js(In)}}function Dc(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&s)===s){f=void 0;var b=u.create,M=u.inst;f=b(),M.destroy=f}u=u.next}while(u!==y)}}catch(P){He(a,a.return,P)}}function io(s,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&s)===s){var M=f.inst,P=M.destroy;if(P!==void 0){M.destroy=void 0,y=a;var Z=u,at=P;try{at()}catch(yt){He(y,Z,yt)}}}f=f.next}while(f!==b)}}catch(yt){He(a,a.return,yt)}}function H0(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{Ov(a,u)}catch(f){He(s,s.return,f)}}}function q0(s,a,u){u.props=pl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){He(s,a,f)}}function kc(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(y){He(s,a,y)}}function xr(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){He(s,a,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){He(s,a,y)}else u.current=null}function G0(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){He(s,s.return,y)}}function zp(s,a,u){try{var f=s.stateNode;OC(f,s.type,u,a),f[On]=a}catch(y){He(s,s.return,y)}}function $0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ho(s.type)||s.tag===4}function Bp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||$0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ho(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jp(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Uf));else if(f!==4&&(f===27&&ho(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(jp(s,a,u),s=s.sibling;s!==null;)jp(s,a,u),s=s.sibling}function Of(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&ho(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Of(s,a,u),s=s.sibling;s!==null;)Of(s,a,u),s=s.sibling}function Z0(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);ei(a,f,u),a[an]=s,a[On]=u}catch(b){He(s,s.return,b)}}var ha=!1,vn=!1,Up=!1,K0=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function cC(s,a){if(s=s.containerInfo,hg=Kf,s=nl(s),il(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var M=0,P=-1,Z=-1,at=0,yt=0,xt=s,ut=null;e:for(;;){for(var ht;xt!==u||y!==0&&xt.nodeType!==3||(P=M+y),xt!==b||f!==0&&xt.nodeType!==3||(Z=M+f),xt.nodeType===3&&(M+=xt.nodeValue.length),(ht=xt.firstChild)!==null;)ut=xt,xt=ht;for(;;){if(xt===s)break e;if(ut===u&&++at===y&&(P=M),ut===b&&++yt===f&&(Z=M),(ht=xt.nextSibling)!==null)break;xt=ut,ut=xt.parentNode}xt=ht}u=P===-1||Z===-1?null:{start:P,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(fg={focusedElem:s,selectionRange:u},Kf=!1,Wn=a;Wn!==null;)if(a=Wn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Wn=s;else for(;Wn!==null;){switch(a=Wn,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var te=pl(u.type,y,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(te,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Zt){He(u,u.return,Zt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)pg(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":pg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Wn=s;break}Wn=a.return}}function W0(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:so(s,u),f&4&&Dc(5,u);break;case 1:if(so(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(M){He(u,u.return,M)}else{var y=pl(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(y,a,s.__reactInternalSnapshotBeforeUpdate)}catch(M){He(u,u.return,M)}}f&64&&H0(u),f&512&&kc(u,u.return);break;case 3:if(so(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Ov(s,a)}catch(M){He(u,u.return,M)}}break;case 27:a===null&&f&4&&Z0(u);case 26:case 5:so(s,u),a===null&&f&4&&G0(u),f&512&&kc(u,u.return);break;case 12:so(s,u);break;case 13:so(s,u),f&4&&Q0(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=vC.bind(null,u),VC(s,u))));break;case 22:if(f=u.memoizedState!==null||ha,!f){a=a!==null&&a.memoizedState!==null||vn,y=ha;var b=vn;ha=f,(vn=a)&&!b?ro(s,u,(u.subtreeFlags&8772)!==0):so(s,u),ha=y,vn=b}break;case 30:break;default:so(s,u)}}function Y0(s){var a=s.alternate;a!==null&&(s.alternate=null,Y0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Fr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,Hi=!1;function fa(s,a,u){for(u=u.child;u!==null;)X0(s,a,u),u=u.sibling}function X0(s,a,u){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(zt,u)}catch{}switch(u.tag){case 26:vn||xr(u,a),fa(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:vn||xr(u,a);var f=rn,y=Hi;ho(u.type)&&(rn=u.stateNode,Hi=!1),fa(s,a,u),Uc(u.stateNode),rn=f,Hi=y;break;case 5:vn||xr(u,a);case 6:if(f=rn,y=Hi,rn=null,fa(s,a,u),rn=f,Hi=y,rn!==null)if(Hi)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(u.stateNode)}catch(b){He(u,a,b)}else try{rn.removeChild(u.stateNode)}catch(b){He(u,a,b)}break;case 18:rn!==null&&(Hi?(s=rn,Bb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Wc(s)):Bb(rn,u.stateNode));break;case 4:f=rn,y=Hi,rn=u.stateNode.containerInfo,Hi=!0,fa(s,a,u),rn=f,Hi=y;break;case 0:case 11:case 14:case 15:vn||io(2,u,a),vn||io(4,u,a),fa(s,a,u);break;case 1:vn||(xr(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&q0(u,a,f)),fa(s,a,u);break;case 21:fa(s,a,u);break;case 22:vn=(f=vn)||u.memoizedState!==null,fa(s,a,u),vn=f;break;default:fa(s,a,u)}}function Q0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wc(s)}catch(u){He(a,a.return,u)}}function hC(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new K0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new K0),a;default:throw Error(i(435,s.tag))}}function Fp(s,a){var u=hC(s);a.forEach(function(f){var y=bC.bind(null,s,f);u.has(f)||(u.add(f),f.then(y,y))})}function hs(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=s,M=a,P=M;t:for(;P!==null;){switch(P.tag){case 27:if(ho(P.type)){rn=P.stateNode,Hi=!1;break t}break;case 5:rn=P.stateNode,Hi=!1;break t;case 3:case 4:rn=P.stateNode.containerInfo,Hi=!0;break t}P=P.return}if(rn===null)throw Error(i(160));X0(b,M,y),rn=null,Hi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)J0(a,s),a=a.sibling}var tr=null;function J0(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:hs(a,s),fs(s),f&4&&(io(3,s,s.return),Dc(3,s),io(5,s,s.return));break;case 1:hs(a,s),fs(s),f&512&&(vn||u===null||xr(u,u.return)),f&64&&ha&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=tr;if(hs(a,s),fs(s),f&512&&(vn||u===null||xr(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){t:{f=s.type,u=s.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Fs]||b[an]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),ei(b,f,u),b[an]=s,on(b),f=b;break t;case"link":var M=Zb("link","href",y).get(f+(u.href||""));if(M){for(var P=0;P<M.length;P++)if(b=M[P],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(P,1);break e}}b=y.createElement(f),ei(b,f,u),y.head.appendChild(b);break;case"meta":if(M=Zb("meta","content",y).get(f+(u.content||""))){for(P=0;P<M.length;P++)if(b=M[P],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(P,1);break e}}b=y.createElement(f),ei(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[an]=s,on(b),f=b}s.stateNode=f}else Kb(y,s.type,s.stateNode);else s.stateNode=$b(y,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?Kb(y,s.type,s.stateNode):$b(y,f,s.memoizedProps)):f===null&&s.stateNode!==null&&zp(s,s.memoizedProps,u.memoizedProps)}break;case 27:hs(a,s),fs(s),f&512&&(vn||u===null||xr(u,u.return)),u!==null&&f&4&&zp(s,s.memoizedProps,u.memoizedProps);break;case 5:if(hs(a,s),fs(s),f&512&&(vn||u===null||xr(u,u.return)),s.flags&32){y=s.stateNode;try{Fn(y,"")}catch(ht){He(s,s.return,ht)}}f&4&&s.stateNode!=null&&(y=s.memoizedProps,zp(s,y,u!==null?u.memoizedProps:y)),f&1024&&(Up=!0);break;case 6:if(hs(a,s),fs(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(ht){He(s,s.return,ht)}}break;case 3:if(Gf=null,y=tr,tr=Hf(a.containerInfo),hs(a,s),tr=y,fs(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Wc(a.containerInfo)}catch(ht){He(s,s.return,ht)}Up&&(Up=!1,tb(s));break;case 4:f=tr,tr=Hf(s.stateNode.containerInfo),hs(a,s),fs(s),tr=f;break;case 12:hs(a,s),fs(s);break;case 13:hs(a,s),fs(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Kp=le()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Fp(s,f)));break;case 22:y=s.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,at=ha,yt=vn;if(ha=at||y,vn=yt||Z,hs(a,s),vn=yt,ha=at,fs(s),f&8192)t:for(a=s.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||Z||ha||vn||gl(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){Z=u=a;try{if(b=Z.stateNode,y)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{P=Z.stateNode;var xt=Z.memoizedProps.style,ut=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;P.style.display=ut==null||typeof ut=="boolean"?"":(""+ut).trim()}}catch(ht){He(Z,Z.return,ht)}}}else if(a.tag===6){if(u===null){Z=a;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(ht){He(Z,Z.return,ht)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Fp(s,u))));break;case 19:hs(a,s),fs(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Fp(s,f)));break;case 30:break;case 21:break;default:hs(a,s),fs(s)}}function fs(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if($0(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=Bp(s);Of(s,b,y);break;case 5:var M=u.stateNode;u.flags&32&&(Fn(M,""),u.flags&=-33);var P=Bp(s);Of(s,P,M);break;case 3:case 4:var Z=u.stateNode.containerInfo,at=Bp(s);jp(s,at,Z);break;default:throw Error(i(161))}}catch(yt){He(s,s.return,yt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function tb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;tb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function so(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)W0(s,a.alternate,a),a=a.sibling}function gl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:io(4,a,a.return),gl(a);break;case 1:xr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&q0(a,a.return,u),gl(a);break;case 27:Uc(a.stateNode);case 26:case 5:xr(a,a.return),gl(a);break;case 22:a.memoizedState===null&&gl(a);break;case 30:gl(a);break;default:gl(a)}s=s.sibling}}function ro(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=s,b=a,M=b.flags;switch(b.tag){case 0:case 11:case 15:ro(y,b,u),Dc(4,b);break;case 1:if(ro(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(at){He(f,f.return,at)}if(f=b,y=f.updateQueue,y!==null){var P=f.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)Mv(Z[y],P)}catch(at){He(f,f.return,at)}}u&&M&64&&H0(b),kc(b,b.return);break;case 27:Z0(b);case 26:case 5:ro(y,b,u),u&&f===null&&M&4&&G0(b),kc(b,b.return);break;case 12:ro(y,b,u);break;case 13:ro(y,b,u),u&&M&4&&Q0(y,b);break;case 22:b.memoizedState===null&&ro(y,b,u),kc(b,b.return);break;case 30:break;default:ro(y,b,u)}a=a.sibling}}function Hp(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&_c(u))}function qp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&_c(s))}function Er(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)eb(s,a,u,f),a=a.sibling}function eb(s,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Er(s,a,u,f),y&2048&&Dc(9,a);break;case 1:Er(s,a,u,f);break;case 3:Er(s,a,u,f),y&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&_c(s)));break;case 12:if(y&2048){Er(s,a,u,f),s=a.stateNode;try{var b=a.memoizedProps,M=b.id,P=b.onPostCommit;typeof P=="function"&&P(M,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){He(a,a.return,Z)}}else Er(s,a,u,f);break;case 13:Er(s,a,u,f);break;case 23:break;case 22:b=a.stateNode,M=a.alternate,a.memoizedState!==null?b._visibility&2?Er(s,a,u,f):Ic(s,a):b._visibility&2?Er(s,a,u,f):(b._visibility|=2,pu(s,a,u,f,(a.subtreeFlags&10256)!==0)),y&2048&&Hp(M,a);break;case 24:Er(s,a,u,f),y&2048&&qp(a.alternate,a);break;default:Er(s,a,u,f)}}function pu(s,a,u,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,M=a,P=u,Z=f,at=M.flags;switch(M.tag){case 0:case 11:case 15:pu(b,M,P,Z,y),Dc(8,M);break;case 23:break;case 22:var yt=M.stateNode;M.memoizedState!==null?yt._visibility&2?pu(b,M,P,Z,y):Ic(b,M):(yt._visibility|=2,pu(b,M,P,Z,y)),y&&at&2048&&Hp(M.alternate,M);break;case 24:pu(b,M,P,Z,y),y&&at&2048&&qp(M.alternate,M);break;default:pu(b,M,P,Z,y)}a=a.sibling}}function Ic(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,y=f.flags;switch(f.tag){case 22:Ic(u,f),y&2048&&Hp(f.alternate,f);break;case 24:Ic(u,f),y&2048&&qp(f.alternate,f);break;default:Ic(u,f)}a=a.sibling}}var Pc=8192;function gu(s){if(s.subtreeFlags&Pc)for(s=s.child;s!==null;)nb(s),s=s.sibling}function nb(s){switch(s.tag){case 26:gu(s),s.flags&Pc&&s.memoizedState!==null&&YC(tr,s.memoizedState,s.memoizedProps);break;case 5:gu(s);break;case 3:case 4:var a=tr;tr=Hf(s.stateNode.containerInfo),gu(s),tr=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,gu(s),Pc=a):gu(s));break;default:gu(s)}}function ib(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Lc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Wn=f,rb(f,s)}ib(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sb(s),s=s.sibling}function sb(s){switch(s.tag){case 0:case 11:case 15:Lc(s),s.flags&2048&&io(9,s,s.return);break;case 3:Lc(s);break;case 12:Lc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Df(s)):Lc(s);break;default:Lc(s)}}function Df(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Wn=f,rb(f,s)}ib(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:io(8,a,a.return),Df(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Df(a));break;default:Df(a)}s=s.sibling}}function rb(s,a){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:io(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:_c(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Wn=f;else t:for(u=s;Wn!==null;){f=Wn;var y=f.sibling,b=f.return;if(Y0(f),f===u){Wn=null;break t}if(y!==null){y.return=b,Wn=y;break t}Wn=b}}}var fC={getCacheForType:function(s){var a=ui(In),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},dC=typeof WeakMap=="function"?WeakMap:Map,Le=0,$e=null,_e=null,Ae=0,Ne=0,ds=null,ao=!1,_u=!1,Gp=!1,da=0,gn=0,oo=0,_l=0,$p=0,ks=0,yu=0,Nc=null,qi=null,Zp=!1,Kp=0,kf=1/0,If=null,lo=null,ti=0,uo=null,vu=null,bu=0,Wp=0,Yp=null,ab=null,Vc=0,Xp=null;function ms(){if((Le&2)!==0&&Ae!==0)return Ae&-Ae;if(tt.T!==null){var s=ou;return s!==0?s:sg()}return js()}function ob(){ks===0&&(ks=(Ae&536870912)===0||ee?qo():536870912);var s=Ds.current;return s!==null&&(s.flags|=32),ks}function ps(s,a,u){(s===$e&&(Ne===2||Ne===9)||s.cancelPendingCommit!==null)&&(xu(s,0),co(s,Ae,ks,!1)),en(s,u),((Le&2)===0||s!==$e)&&(s===$e&&((Le&2)===0&&(_l|=u),gn===4&&co(s,Ae,ks,!1)),wr(s))}function lb(s,a,u){if((Le&6)!==0)throw Error(i(327));var f=!u&&(a&124)===0&&(a&s.expiredLanes)===0||Li(s,a),y=f?gC(s,a):tg(s,a,!0),b=f;do{if(y===0){_u&&!f&&co(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!mC(u)){y=tg(s,a,!1),b=!1;continue}if(y===2){if(b=a,s.errorRecoveryDisabledLanes&b)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;t:{var P=s;y=Nc;var Z=P.current.memoizedState.isDehydrated;if(Z&&(xu(P,M).flags|=256),M=tg(P,M,!1),M!==2){if(Gp&&!Z){P.errorRecoveryDisabledLanes|=b,_l|=b,y=4;break t}b=qi,qi=y,b!==null&&(qi===null?qi=b:qi.push.apply(qi,b))}y=M}if(b=!1,y!==2)continue}}if(y===1){xu(s,0),co(s,a,0,!0);break}t:{switch(f=s,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:co(f,a,ks,!ao);break t;case 2:qi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=Kp+300-le(),10<y)){if(co(f,a,ks,!ao),Pi(f,0,!0)!==0)break t;f.timeoutHandle=Vb(ub.bind(null,f,u,qi,If,Zp,a,ks,_l,yu,ao,b,2,-0,0),y);break t}ub(f,u,qi,If,Zp,a,ks,_l,yu,ao,b,0,-0,0)}}break}while(!0);wr(s)}function ub(s,a,u,f,y,b,M,P,Z,at,yt,xt,ut,ht){if(s.timeoutHandle=-1,xt=a.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(qc={stylesheets:null,count:0,unsuspend:WC},nb(a),xt=XC(),xt!==null)){s.cancelPendingCommit=xt(gb.bind(null,s,a,b,u,f,y,M,P,Z,yt,1,ut,ht)),co(s,b,M,!at);return}gb(s,a,b,u,f,y,M,P,Z)}function mC(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!Ci(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function co(s,a,u,f){a&=~$p,a&=~_l,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var y=a;0<y;){var b=31-_n(y),M=1<<b;f[b]=-1,y&=~M}u!==0&&or(s,u,a)}function Pf(){return(Le&6)===0?(zc(0),!1):!0}function Qp(){if(_e!==null){if(Ne===0)var s=_e.return;else s=_e,Qs=Os=null,pp(s),du=null,Rc=0,s=_e;for(;s!==null;)F0(s.alternate,s),s=s.return;_e=null}}function xu(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,kC(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Qp(),$e=s,_e=u=Ms(s.current,null),Ae=a,Ne=0,ds=null,ao=!1,_u=Li(s,a),Gp=!1,yu=ks=$p=_l=oo=gn=0,qi=Nc=null,Zp=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var y=31-_n(f),b=1<<y;a|=s[y],f&=~b}return da=a,rl(),u}function cb(s,a){me=null,tt.H=xf,a===vc||a===hf?(a=Cv(),Ne=3):a===Tv?(a=Cv(),Ne=4):Ne=a===R0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ds=a,_e===null&&(gn=1,Af(s,Mi(a,s.current)))}function hb(){var s=tt.H;return tt.H=xf,s===null?xf:s}function fb(){var s=tt.A;return tt.A=fC,s}function Jp(){gn=4,ao||(Ae&4194048)!==Ae&&Ds.current!==null||(_u=!0),(oo&134217727)===0&&(_l&134217727)===0||$e===null||co($e,Ae,ks,!1)}function tg(s,a,u){var f=Le;Le|=2;var y=hb(),b=fb();($e!==s||Ae!==a)&&(If=null,xu(s,a)),a=!1;var M=gn;t:do try{if(Ne!==0&&_e!==null){var P=_e,Z=ds;switch(Ne){case 8:Qp(),M=6;break t;case 3:case 2:case 9:case 6:Ds.current===null&&(a=!0);var at=Ne;if(Ne=0,ds=null,Eu(s,P,Z,at),u&&_u){M=0;break t}break;default:at=Ne,Ne=0,ds=null,Eu(s,P,Z,at)}}pC(),M=gn;break}catch(yt){cb(s,yt)}while(!0);return a&&s.shellSuspendCounter++,Qs=Os=null,Le=f,tt.H=y,tt.A=b,_e===null&&($e=null,Ae=0,rl()),M}function pC(){for(;_e!==null;)db(_e)}function gC(s,a){var u=Le;Le|=2;var f=hb(),y=fb();$e!==s||Ae!==a?(If=null,kf=le()+500,xu(s,a)):_u=Li(s,a);t:do try{if(Ne!==0&&_e!==null){a=_e;var b=ds;e:switch(Ne){case 1:Ne=0,ds=null,Eu(s,a,b,1);break;case 2:case 9:if(Sv(b)){Ne=0,ds=null,mb(a);break}a=function(){Ne!==2&&Ne!==9||$e!==s||(Ne=7),wr(s)},b.then(a,a);break t;case 3:Ne=7;break t;case 4:Ne=5;break t;case 7:Sv(b)?(Ne=0,ds=null,mb(a)):(Ne=0,ds=null,Eu(s,a,b,7));break;case 5:var M=null;switch(_e.tag){case 26:M=_e.memoizedState;case 5:case 27:var P=_e;if(!M||Wb(M)){Ne=0,ds=null;var Z=P.sibling;if(Z!==null)_e=Z;else{var at=P.return;at!==null?(_e=at,Lf(at)):_e=null}break e}}Ne=0,ds=null,Eu(s,a,b,5);break;case 6:Ne=0,ds=null,Eu(s,a,b,6);break;case 8:Qp(),gn=6;break t;default:throw Error(i(462))}}_C();break}catch(yt){cb(s,yt)}while(!0);return Qs=Os=null,tt.H=f,tt.A=y,Le=u,_e!==null?0:($e=null,Ae=0,rl(),gn)}function _C(){for(;_e!==null&&!jt();)db(_e)}function db(s){var a=j0(s.alternate,s,da);s.memoizedProps=s.pendingProps,a===null?Lf(s):_e=a}function mb(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=P0(u,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=P0(u,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:pp(a);default:F0(u,a),a=_e=pc(a,da),a=j0(u,a,da)}s.memoizedProps=s.pendingProps,a===null?Lf(s):_e=a}function Eu(s,a,u,f){Qs=Os=null,pp(a),du=null,Rc=0;var y=a.return;try{if(aC(s,y,a,u,Ae)){gn=1,Af(s,Mi(u,s.current)),_e=null;return}}catch(b){if(y!==null)throw _e=y,b;gn=1,Af(s,Mi(u,s.current)),_e=null;return}a.flags&32768?(ee||f===1?s=!0:_u||(Ae&536870912)!==0?s=!1:(ao=s=!0,(f===2||f===9||f===3||f===6)&&(f=Ds.current,f!==null&&f.tag===13&&(f.flags|=16384))),pb(a,s)):Lf(a)}function Lf(s){var a=s;do{if((a.flags&32768)!==0){pb(a,ao);return}s=a.return;var u=lC(a.alternate,a,da);if(u!==null){_e=u;return}if(a=a.sibling,a!==null){_e=a;return}_e=a=s}while(a!==null);gn===0&&(gn=5)}function pb(s,a){do{var u=uC(s.alternate,s);if(u!==null){u.flags&=32767,_e=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){_e=s;return}_e=s=u}while(s!==null);gn=6,_e=null}function gb(s,a,u,f,y,b,M,P,Z){s.cancelPendingCommit=null;do Nf();while(ti!==0);if((Le&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=cs,ql(s,u,b,M,P,Z),s===$e&&(_e=$e=null,Ae=0),vu=a,uo=s,bu=u,Wp=b,Yp=y,ab=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,xC(dn,function(){return xb(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=tt.T,tt.T=null,y=pt.p,pt.p=2,M=Le,Le|=4;try{cC(s,a,u)}finally{Le=M,pt.p=y,tt.T=f}}ti=1,_b(),yb(),vb()}}function _b(){if(ti===1){ti=0;var s=uo,a=vu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=tt.T,tt.T=null;var f=pt.p;pt.p=2;var y=Le;Le|=4;try{J0(a,s);var b=fg,M=nl(s.containerInfo),P=b.focusedElem,Z=b.selectionRange;if(M!==P&&P&&P.ownerDocument&&Jl(P.ownerDocument.documentElement,P)){if(Z!==null&&il(P)){var at=Z.start,yt=Z.end;if(yt===void 0&&(yt=at),"selectionStart"in P)P.selectionStart=at,P.selectionEnd=Math.min(yt,P.value.length);else{var xt=P.ownerDocument||document,ut=xt&&xt.defaultView||window;if(ut.getSelection){var ht=ut.getSelection(),te=P.textContent.length,Zt=Math.min(Z.start,te),Fe=Z.end===void 0?Zt:Math.min(Z.end,te);!ht.extend&&Zt>Fe&&(M=Fe,Fe=Zt,Zt=M);var et=dc(P,Zt),W=dc(P,Fe);if(et&&W&&(ht.rangeCount!==1||ht.anchorNode!==et.node||ht.anchorOffset!==et.offset||ht.focusNode!==W.node||ht.focusOffset!==W.offset)){var rt=xt.createRange();rt.setStart(et.node,et.offset),ht.removeAllRanges(),Zt>Fe?(ht.addRange(rt),ht.extend(W.node,W.offset)):(rt.setEnd(W.node,W.offset),ht.addRange(rt))}}}}for(xt=[],ht=P;ht=ht.parentNode;)ht.nodeType===1&&xt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<xt.length;P++){var vt=xt[P];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}Kf=!!hg,fg=hg=null}finally{Le=y,pt.p=f,tt.T=u}}s.current=a,ti=2}}function yb(){if(ti===2){ti=0;var s=uo,a=vu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=tt.T,tt.T=null;var f=pt.p;pt.p=2;var y=Le;Le|=4;try{W0(s,a.alternate,a)}finally{Le=y,pt.p=f,tt.T=u}}ti=3}}function vb(){if(ti===4||ti===3){ti=0,$t();var s=uo,a=vu,u=bu,f=ab;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ti=5:(ti=0,vu=uo=null,bb(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(lo=null),$o(u),a=a.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(zt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=tt.T,y=pt.p,pt.p=2,tt.T=null;try{for(var b=s.onRecoverableError,M=0;M<f.length;M++){var P=f[M];b(P.value,{componentStack:P.stack})}}finally{tt.T=a,pt.p=y}}(bu&3)!==0&&Nf(),wr(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===Xp?Vc++:(Vc=0,Xp=s):Vc=0,zc(0)}}function bb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,_c(a)))}function Nf(s){return _b(),yb(),vb(),xb()}function xb(){if(ti!==5)return!1;var s=uo,a=Wp;Wp=0;var u=$o(bu),f=tt.T,y=pt.p;try{pt.p=32>u?32:u,tt.T=null,u=Yp,Yp=null;var b=uo,M=bu;if(ti=0,vu=uo=null,bu=0,(Le&6)!==0)throw Error(i(331));var P=Le;if(Le|=4,sb(b.current),eb(b,b.current,M,u),Le=P,zc(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(zt,b)}catch{}return!0}finally{pt.p=y,tt.T=f,bb(s,a)}}function Eb(s,a,u){a=Mi(u,a),a=Mp(s.stateNode,a,2),s=Ja(s,a,2),s!==null&&(en(s,2),wr(s))}function He(s,a,u){if(s.tag===3)Eb(s,s,u);else for(;a!==null;){if(a.tag===3){Eb(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(lo===null||!lo.has(f))){s=Mi(u,s),u=A0(2),f=Ja(a,u,2),f!==null&&(C0(u,f,a,s),en(f,2),wr(f));break}}a=a.return}}function eg(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new dC;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(Gp=!0,y.add(u),s=yC.bind(null,s,a,u),a.then(s,s))}function yC(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,$e===s&&(Ae&u)===u&&(gn===4||gn===3&&(Ae&62914560)===Ae&&300>le()-Kp?(Le&2)===0&&xu(s,0):$p|=u,yu===Ae&&(yu=0)),wr(s)}function wb(s,a){a===0&&(a=Bs()),s=Za(s,a),s!==null&&(en(s,a),wr(s))}function vC(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),wb(s,u)}function bC(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),wb(s,u)}function xC(s,a){return ve(s,a)}var Vf=null,wu=null,ng=!1,zf=!1,ig=!1,yl=0;function wr(s){s!==wu&&s.next===null&&(wu===null?Vf=wu=s:wu=wu.next=s),zf=!0,ng||(ng=!0,wC())}function zc(s,a){if(!ig&&zf){ig=!0;do for(var u=!1,f=Vf;f!==null;){if(s!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var M=f.suspendedLanes,P=f.pingedLanes;b=(1<<31-_n(42|s)+1)-1,b&=y&~(M&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Cb(f,b))}else b=Ae,b=Pi(f,f===$e?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Li(f,b)||(u=!0,Cb(f,b));f=f.next}while(u);ig=!1}}function EC(){Tb()}function Tb(){zf=ng=!1;var s=0;yl!==0&&(DC()&&(s=yl),yl=0);for(var a=le(),u=null,f=Vf;f!==null;){var y=f.next,b=Sb(f,a);b===0?(f.next=null,u===null?Vf=y:u.next=y,y===null&&(wu=u)):(u=f,(s!==0||(b&3)!==0)&&(zf=!0)),f=y}zc(s)}function Sb(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var M=31-_n(b),P=1<<M,Z=y[M];Z===-1?((P&u)===0||(P&f)!==0)&&(y[M]=Ma(P,a)):Z<=a&&(s.expiredLanes|=P),b&=~P}if(a=$e,u=Ae,u=Pi(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(Ne===2||Ne===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&de(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Li(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&de(f),$o(u)){case 2:case 8:u=re;break;case 32:u=dn;break;case 268435456:u=ri;break;default:u=dn}return f=Ab.bind(null,s),u=ve(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&de(f),s.callbackPriority=2,s.callbackNode=null,2}function Ab(s,a){if(ti!==0&&ti!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Nf()&&s.callbackNode!==u)return null;var f=Ae;return f=Pi(s,s===$e?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(lb(s,f,a),Sb(s,le()),s.callbackNode!=null&&s.callbackNode===u?Ab.bind(null,s):null)}function Cb(s,a){if(Nf())return null;lb(s,a,!0)}function wC(){IC(function(){(Le&6)!==0?ve(Jt,EC):Tb()})}function sg(){return yl===0&&(yl=qo()),yl}function Rb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ei(""+s)}function Mb(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function TC(s,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var b=Rb((y[On]||null).action),M=f.submitter;M&&(a=(a=M[On]||null)?Rb(a.formAction):M.getAttribute("formAction"),a!==null&&(b=a,M=null));var P=new mr("action","action",null,f,y);s.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(yl!==0){var Z=M?Mb(y,M):new FormData(y);Tp(u,{pending:!0,data:Z,method:y.method,action:b},null,Z)}}else typeof b=="function"&&(P.preventDefault(),Z=M?Mb(y,M):new FormData(y),Tp(u,{pending:!0,data:Z,method:y.method,action:b},b,Z))},currentTarget:y}]})}}for(var rg=0;rg<na.length;rg++){var ag=na[rg],SC=ag.toLowerCase(),AC=ag[0].toUpperCase()+ag.slice(1);us(SC,"on"+AC)}us(ef,"onAnimationEnd"),us(ls,"onAnimationIteration"),us(sl,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(Jm,"onTransitionRun"),us(iu,"onTransitionStart"),us(tp,"onTransitionCancel"),us(mc,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function Ob(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],y=f.event;f=f.listeners;t:{var b=void 0;if(a)for(var M=f.length-1;0<=M;M--){var P=f[M],Z=P.instance,at=P.currentTarget;if(P=P.listener,Z!==b&&y.isPropagationStopped())break t;b=P,y.currentTarget=at;try{b(y)}catch(yt){Sf(yt)}y.currentTarget=null,b=Z}else for(M=0;M<f.length;M++){if(P=f[M],Z=P.instance,at=P.currentTarget,P=P.listener,Z!==b&&y.isPropagationStopped())break t;b=P,y.currentTarget=at;try{b(y)}catch(yt){Sf(yt)}y.currentTarget=null,b=Z}}}}function ye(s,a){var u=a[jn];u===void 0&&(u=a[jn]=new Set);var f=s+"__bubble";u.has(f)||(Db(a,s,2,!1),u.add(f))}function og(s,a,u){var f=0;a&&(f|=4),Db(u,s,f,a)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function lg(s){if(!s[Bf]){s[Bf]=!0,$l.forEach(function(u){u!=="selectionchange"&&(CC.has(u)||og(u,!1,s),og(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Bf]||(a[Bf]=!0,og("selectionchange",!1,a))}}function Db(s,a,u,f){switch(e1(a)){case 2:var y=tR;break;case 8:y=eR;break;default:y=Eg}u=y.bind(null,a,u,s),y=void 0,!es||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function ug(s,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)t:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var P=f.stateNode.containerInfo;if(P===y)break;if(M===4)for(M=f.return;M!==null;){var Z=M.tag;if((Z===3||Z===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;P!==null;){if(M=Vi(P),M===null)return;if(Z=M.tag,Z===5||Z===6||Z===26||Z===27){f=b=M;continue t}P=P.parentNode}}f=f.return}Hn(function(){var at=b,yt=hr(u),xt=[];t:{var ut=nf.get(s);if(ut!==void 0){var ht=mr,te=s;switch(s){case"keypress":if(Ye(u)===0)break t;case"keydown":case"keyup":ht=Va;break;case"focusin":te="focus",ht=Ia;break;case"focusout":te="blur",ht=Ia;break;case"beforeblur":case"afterblur":ht=Ia;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=pr;break;case ef:case ls:case sl:ht=Yo;break;case mc:ht=T;break;case"scroll":case"scrollend":ht=Xr;break;case"wheel":ht=U;break;case"copy":case"cut":case"paste":ht=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=za;break;case"toggle":case"beforetoggle":ht=ct}var Zt=(a&4)!==0,Fe=!Zt&&(s==="scroll"||s==="scrollend"),et=Zt?ut!==null?ut+"Capture":null:ut;Zt=[];for(var W=at,rt;W!==null;){var vt=W;if(rt=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||rt===null||et===null||(vt=Te(W,et),vt!=null&&Zt.push(jc(W,vt,rt))),Fe)break;W=W.return}0<Zt.length&&(ut=new ht(ut,te,null,u,yt),xt.push({event:ut,listeners:Zt}))}}if((a&7)===0){t:{if(ut=s==="mouseover"||s==="pointerover",ht=s==="mouseout"||s==="pointerout",ut&&u!==Yr&&(te=u.relatedTarget||u.fromElement)&&(Vi(te)||te[Us]))break t;if((ht||ut)&&(ut=yt.window===yt?yt:(ut=yt.ownerDocument)?ut.defaultView||ut.parentWindow:window,ht?(te=u.relatedTarget||u.toElement,ht=at,te=te?Vi(te):null,te!==null&&(Fe=o(te),Zt=te.tag,te!==Fe||Zt!==5&&Zt!==27&&Zt!==6)&&(te=null)):(ht=null,te=at),ht!==te)){if(Zt=ns,vt="onMouseLeave",et="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Zt=za,vt="onPointerLeave",et="onPointerEnter",W="pointer"),Fe=ht==null?ut:yi(ht),rt=te==null?ut:yi(te),ut=new Zt(vt,W+"leave",ht,u,yt),ut.target=Fe,ut.relatedTarget=rt,vt=null,Vi(yt)===at&&(Zt=new Zt(et,W+"enter",te,u,yt),Zt.target=rt,Zt.relatedTarget=Fe,vt=Zt),Fe=vt,ht&&te)e:{for(Zt=ht,et=te,W=0,rt=Zt;rt;rt=Tu(rt))W++;for(rt=0,vt=et;vt;vt=Tu(vt))rt++;for(;0<W-rt;)Zt=Tu(Zt),W--;for(;0<rt-W;)et=Tu(et),rt--;for(;W--;){if(Zt===et||et!==null&&Zt===et.alternate)break e;Zt=Tu(Zt),et=Tu(et)}Zt=null}else Zt=null;ht!==null&&kb(xt,ut,ht,Zt,!1),te!==null&&Fe!==null&&kb(xt,Fe,te,Zt,!0)}}t:{if(ut=at?yi(at):window,ht=ut.nodeName&&ut.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ut.type==="file")var Nt=Ua;else if(ta(ut))if(cc)Nt=Qm;else{Nt=Xm;var ge=fc}else ht=ut.nodeName,!ht||ht.toLowerCase()!=="input"||ut.type!=="checkbox"&&ut.type!=="radio"?at&&cr(at.elementType)&&(Nt=Ua):Nt=Xs;if(Nt&&(Nt=Nt(s,at))){Xh(xt,Nt,u,yt);break t}ge&&ge(s,ut,at),s==="focusout"&&at&&ut.type==="number"&&at.memoizedProps.value!=null&&ur(ut,"number",ut.value)}switch(ge=at?yi(at):window,s){case"focusin":(ta(ge)||ge.contentEditable==="true")&&(os=ge,qa=at,ea=null);break;case"focusout":ea=qa=os=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Jh(xt,u,yt);break;case"selectionchange":if(tu)break;case"keydown":case"keyup":Jh(xt,u,yt)}var Ut;if(Wt)t:{switch(s){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else rs?Si(s,u)&&(Yt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Yt="onCompositionStart");Yt&&(nn&&u.locale!=="ko"&&(rs||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&rs&&(Ut=dr()):(oi=yt,Se="value"in oi?oi.value:oi.textContent,rs=!0)),ge=jf(at,Yt),0<ge.length&&(Yt=new li(Yt,s,null,u,yt),xt.push({event:Yt,listeners:ge}),Ut?Yt.data=Ut:(Ut=ss(u),Ut!==null&&(Yt.data=Ut)))),(Ut=Me?Ba(s,u):Ym(s,u))&&(Yt=jf(at,"onBeforeInput"),0<Yt.length&&(ge=new li("onBeforeInput","beforeinput",null,u,yt),xt.push({event:ge,listeners:Yt}),ge.data=Ut)),TC(xt,s,at,u,yt)}Ob(xt,a)})}function jc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function jf(s,a){for(var u=a+"Capture",f=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Te(s,u),y!=null&&f.unshift(jc(s,y,b)),y=Te(s,a),y!=null&&f.push(jc(s,y,b))),s.tag===3)return f;s=s.return}return[]}function Tu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kb(s,a,u,f,y){for(var b=a._reactName,M=[];u!==null&&u!==f;){var P=u,Z=P.alternate,at=P.stateNode;if(P=P.tag,Z!==null&&Z===f)break;P!==5&&P!==26&&P!==27||at===null||(Z=at,y?(at=Te(u,b),at!=null&&M.unshift(jc(u,at,Z))):y||(at=Te(u,b),at!=null&&M.push(jc(u,at,Z)))),u=u.return}M.length!==0&&s.push({event:a,listeners:M})}var RC=/\r\n?/g,MC=/\u0000|\uFFFD/g;function Ib(s){return(typeof s=="string"?s:""+s).replace(RC,`
`).replace(MC,"")}function Pb(s,a){return a=Ib(a),Ib(s)===a}function Uf(){}function Ue(s,a,u,f,y,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Fn(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Fn(s,""+f);break;case"className":$r(s,"class",f);break;case"tabIndex":$r(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$r(s,u,f);break;case"style":$s(s,f,b);break;case"data":if(a!=="object"){$r(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Ei(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Ue(s,a,"name",y.name,y,null),Ue(s,a,"formEncType",y.formEncType,y,null),Ue(s,a,"formMethod",y.formMethod,y,null),Ue(s,a,"formTarget",y.formTarget,y,null)):(Ue(s,a,"encType",y.encType,y,null),Ue(s,a,"method",y.method,y,null),Ue(s,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Ei(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Uf);break;case"onScroll":f!=null&&ye("scroll",s);break;case"onScrollEnd":f!=null&&ye("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Ei(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":ye("beforetoggle",s),ye("toggle",s),Gr(s,"popover",f);break;case"xlinkActuate":zi(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":zi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":zi(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":zi(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":zi(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":zi(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":zi(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":zi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":zi(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Gr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Da.get(u)||u,Gr(s,u,f))}}function cg(s,a,u,f,y,b){switch(u){case"style":$s(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Fn(s,f):(typeof f=="number"||typeof f=="bigint")&&Fn(s,""+f);break;case"onScroll":f!=null&&ye("scroll",s);break;case"onScrollEnd":f!=null&&ye("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=s[On]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,y);break t}u in s?s[u]=f:f===!0?s.setAttribute(u,""):Gr(s,u,f)}}}function ei(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",s),ye("load",s);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var M=u[b];if(M!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ue(s,a,b,M,u,null)}}y&&Ue(s,a,"srcSet",u.srcSet,u,null),f&&Ue(s,a,"src",u.src,u,null);return;case"input":ye("invalid",s);var P=b=M=y=null,Z=null,at=null;for(f in u)if(u.hasOwnProperty(f)){var yt=u[f];if(yt!=null)switch(f){case"name":y=yt;break;case"type":M=yt;break;case"checked":Z=yt;break;case"defaultChecked":at=yt;break;case"value":b=yt;break;case"defaultValue":P=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(i(137,a));break;default:Ue(s,a,f,yt,u,null)}}Ko(s,b,P,Z,at,M,y,!1),ws(s);return;case"select":ye("invalid",s),f=M=b=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":M=P;break;case"multiple":f=P;default:Ue(s,a,y,P,u,null)}a=b,u=M,s.multiple=!!f,a!=null?ai(s,!!f,a,!1):u!=null&&ai(s,!!f,u,!0);return;case"textarea":ye("invalid",s),b=y=f=null;for(M in u)if(u.hasOwnProperty(M)&&(P=u[M],P!=null))switch(M){case"value":f=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Ue(s,a,M,P,u,null)}Ts(s,f,y,b),ws(s);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ue(s,a,Z,f,u,null)}return;case"dialog":ye("beforetoggle",s),ye("toggle",s),ye("cancel",s),ye("close",s);break;case"iframe":case"object":ye("load",s);break;case"video":case"audio":for(f=0;f<Bc.length;f++)ye(Bc[f],s);break;case"image":ye("error",s),ye("load",s);break;case"details":ye("toggle",s);break;case"embed":case"source":case"link":ye("error",s),ye("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in u)if(u.hasOwnProperty(at)&&(f=u[at],f!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ue(s,a,at,f,u,null)}return;default:if(cr(a)){for(yt in u)u.hasOwnProperty(yt)&&(f=u[yt],f!==void 0&&cg(s,a,yt,f,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(f=u[P],f!=null&&Ue(s,a,P,f,u,null))}function OC(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,M=null,P=null,Z=null,at=null,yt=null;for(ht in u){var xt=u[ht];if(u.hasOwnProperty(ht)&&xt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Z=xt;default:f.hasOwnProperty(ht)||Ue(s,a,ht,null,f,xt)}}for(var ut in f){var ht=f[ut];if(xt=u[ut],f.hasOwnProperty(ut)&&(ht!=null||xt!=null))switch(ut){case"type":b=ht;break;case"name":y=ht;break;case"checked":at=ht;break;case"defaultChecked":yt=ht;break;case"value":M=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,a));break;default:ht!==xt&&Ue(s,a,ut,ht,f,xt)}}Un(s,M,P,Z,at,yt,b,y);return;case"select":ht=M=P=ut=null;for(b in u)if(Z=u[b],u.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":ht=Z;default:f.hasOwnProperty(b)||Ue(s,a,b,null,f,Z)}for(y in f)if(b=f[y],Z=u[y],f.hasOwnProperty(y)&&(b!=null||Z!=null))switch(y){case"value":ut=b;break;case"defaultValue":P=b;break;case"multiple":M=b;default:b!==Z&&Ue(s,a,y,b,f,Z)}a=P,u=M,f=ht,ut!=null?ai(s,!!u,ut,!1):!!f!=!!u&&(a!=null?ai(s,!!u,a,!0):ai(s,!!u,u?[]:"",!1));return;case"textarea":ht=ut=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ue(s,a,P,null,f,y)}for(M in f)if(y=f[M],b=u[M],f.hasOwnProperty(M)&&(y!=null||b!=null))switch(M){case"value":ut=y;break;case"defaultValue":ht=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Ue(s,a,M,y,f,b)}We(s,ut,ht);return;case"option":for(var te in u)if(ut=u[te],u.hasOwnProperty(te)&&ut!=null&&!f.hasOwnProperty(te))switch(te){case"selected":s.selected=!1;break;default:Ue(s,a,te,null,f,ut)}for(Z in f)if(ut=f[Z],ht=u[Z],f.hasOwnProperty(Z)&&ut!==ht&&(ut!=null||ht!=null))switch(Z){case"selected":s.selected=ut&&typeof ut!="function"&&typeof ut!="symbol";break;default:Ue(s,a,Z,ut,f,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in u)ut=u[Zt],u.hasOwnProperty(Zt)&&ut!=null&&!f.hasOwnProperty(Zt)&&Ue(s,a,Zt,null,f,ut);for(at in f)if(ut=f[at],ht=u[at],f.hasOwnProperty(at)&&ut!==ht&&(ut!=null||ht!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,a));break;default:Ue(s,a,at,ut,f,ht)}return;default:if(cr(a)){for(var Fe in u)ut=u[Fe],u.hasOwnProperty(Fe)&&ut!==void 0&&!f.hasOwnProperty(Fe)&&cg(s,a,Fe,void 0,f,ut);for(yt in f)ut=f[yt],ht=u[yt],!f.hasOwnProperty(yt)||ut===ht||ut===void 0&&ht===void 0||cg(s,a,yt,ut,f,ht);return}}for(var et in u)ut=u[et],u.hasOwnProperty(et)&&ut!=null&&!f.hasOwnProperty(et)&&Ue(s,a,et,null,f,ut);for(xt in f)ut=f[xt],ht=u[xt],!f.hasOwnProperty(xt)||ut===ht||ut==null&&ht==null||Ue(s,a,xt,ut,f,ht)}var hg=null,fg=null;function Ff(s){return s.nodeType===9?s:s.ownerDocument}function Lb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function dg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mg=null;function DC(){var s=window.event;return s&&s.type==="popstate"?s===mg?!1:(mg=s,!0):(mg=null,!1)}var Vb=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,IC=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(s){return zb.resolve(null).then(s).catch(PC)}:Vb;function PC(s){setTimeout(function(){throw s})}function ho(s){return s==="head"}function Bb(s,a){var u=a,f=0,y=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var M=s.ownerDocument;if(u&1&&Uc(M.documentElement),u&2&&Uc(M.body),u&4)for(u=M.head,Uc(u),M=u.firstChild;M;){var P=M.nextSibling,Z=M.nodeName;M[Fs]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&M.rel.toLowerCase()==="stylesheet"||u.removeChild(M),M=P}}if(y===0){s.removeChild(b),Wc(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);Wc(a)}function pg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":pg(u),Fr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function LC(s,a,u,f){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Fs])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=er(s.nextSibling),s===null)break}return null}function NC(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=er(s.nextSibling),s===null))return null;return s}function gg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function VC(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function er(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var _g=null;function jb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function Ub(s,a,u){switch(a=Ff(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Uc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Fr(s)}var Is=new Map,Fb=new Set;function Hf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ma=pt.d;pt.d={f:zC,r:BC,D:jC,C:UC,L:FC,m:HC,X:GC,S:qC,M:$C};function zC(){var s=ma.f(),a=Pf();return s||a}function BC(s){var a=Ji(s);a!==null&&a.tag===5&&a.type==="form"?l0(a):ma.r(s)}var Su=typeof document>"u"?null:document;function Hb(s,a,u){var f=Su;if(f&&typeof a=="string"&&a){var y=ln(a);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Fb.has(y)||(Fb.add(y),s={rel:s,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),ei(a,"link",s),on(a),f.head.appendChild(a)))}}function jC(s){ma.D(s),Hb("dns-prefetch",s,null)}function UC(s,a){ma.C(s,a),Hb("preconnect",s,a)}function FC(s,a,u){ma.L(s,a,u);var f=Su;if(f&&s&&a){var y='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ln(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ln(u.imageSizes)+'"]')):y+='[href="'+ln(s)+'"]';var b=y;switch(a){case"style":b=Au(s);break;case"script":b=Cu(s)}Is.has(b)||(s=v({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),Is.set(b,s),f.querySelector(y)!==null||a==="style"&&f.querySelector(Fc(b))||a==="script"&&f.querySelector(Hc(b))||(a=f.createElement("link"),ei(a,"link",s),on(a),f.head.appendChild(a)))}}function HC(s,a){ma.m(s,a);var u=Su;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+ln(f)+'"][href="'+ln(s)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Cu(s)}if(!Is.has(b)&&(s=v({rel:"modulepreload",href:s},a),Is.set(b,s),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hc(b)))return}f=u.createElement("link"),ei(f,"link",s),on(f),u.head.appendChild(f)}}}function qC(s,a,u){ma.S(s,a,u);var f=Su;if(f&&s){var y=Hs(f).hoistableStyles,b=Au(s);a=a||"default";var M=y.get(b);if(!M){var P={loading:0,preload:null};if(M=f.querySelector(Fc(b)))P.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":a},u),(u=Is.get(b))&&yg(s,u);var Z=M=f.createElement("link");on(Z),ei(Z,"link",s),Z._p=new Promise(function(at,yt){Z.onload=at,Z.onerror=yt}),Z.addEventListener("load",function(){P.loading|=1}),Z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,qf(M,a,f)}M={type:"stylesheet",instance:M,count:1,state:P},y.set(b,M)}}}function GC(s,a){ma.X(s,a);var u=Su;if(u&&s){var f=Hs(u).hoistableScripts,y=Cu(s),b=f.get(y);b||(b=u.querySelector(Hc(y)),b||(s=v({src:s,async:!0},a),(a=Is.get(y))&&vg(s,a),b=u.createElement("script"),on(b),ei(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function $C(s,a){ma.M(s,a);var u=Su;if(u&&s){var f=Hs(u).hoistableScripts,y=Cu(s),b=f.get(y);b||(b=u.querySelector(Hc(y)),b||(s=v({src:s,async:!0,type:"module"},a),(a=Is.get(y))&&vg(s,a),b=u.createElement("script"),on(b),ei(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function qb(s,a,u,f){var y=(y=_t.current)?Hf(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Au(u.href),u=Hs(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Au(u.href);var b=Hs(y).hoistableStyles,M=b.get(s);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,M),(b=y.querySelector(Fc(s)))&&!b._p&&(M.instance=b,M.state.loading=5),Is.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Is.set(s,u),b||ZC(y,s,u,M.state))),a&&f===null)throw Error(i(528,""));return M}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Cu(u),u=Hs(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Au(s){return'href="'+ln(s)+'"'}function Fc(s){return'link[rel="stylesheet"]['+s+"]"}function Gb(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function ZC(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ei(a,"link",u),on(a),s.head.appendChild(a))}function Cu(s){return'[src="'+ln(s)+'"]'}function Hc(s){return"script[async]"+s}function $b(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+ln(u.href)+'"]');if(f)return a.instance=f,on(f),f;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),on(f),ei(f,"style",y),qf(f,u.precedence,s),a.instance=f;case"stylesheet":y=Au(u.href);var b=s.querySelector(Fc(y));if(b)return a.state.loading|=4,a.instance=b,on(b),b;f=Gb(u),(y=Is.get(y))&&yg(f,y),b=(s.ownerDocument||s).createElement("link"),on(b);var M=b;return M._p=new Promise(function(P,Z){M.onload=P,M.onerror=Z}),ei(b,"link",f),a.state.loading|=4,qf(b,u.precedence,s),a.instance=b;case"script":return b=Cu(u.src),(y=s.querySelector(Hc(b)))?(a.instance=y,on(y),y):(f=u,(y=Is.get(b))&&(f=v({},u),vg(f,y)),s=s.ownerDocument||s,y=s.createElement("script"),on(y),ei(y,"link",f),s.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,qf(f,u.precedence,s));return a.instance}function qf(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,M=0;M<f.length;M++){var P=f[M];if(P.dataset.precedence===a)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function yg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function vg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Gf=null;function Zb(s,a,u){if(Gf===null){var f=new Map,y=Gf=new Map;y.set(u,f)}else y=Gf,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[Fs]||b[an]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(a)||"";M=s+M;var P=f.get(M);P?P.push(b):f.set(M,[b])}}return f}function Kb(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function KC(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var qc=null;function WC(){}function YC(s,a,u){if(qc===null)throw Error(i(475));var f=qc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Au(u.href),b=s.querySelector(Fc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=$f.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=b,on(b);return}b=s.ownerDocument||s,u=Gb(u),(y=Is.get(y))&&yg(u,y),b=b.createElement("link"),on(b);var M=b;M._p=new Promise(function(P,Z){M.onload=P,M.onerror=Z}),ei(b,"link",u),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=$f.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function XC(){if(qc===null)throw Error(i(475));var s=qc;return s.stylesheets&&s.count===0&&bg(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&bg(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zf=null;function bg(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zf=new Map,a.forEach(QC,s),Zf=null,$f.call(s))}function QC(s,a){if(!(a.state.loading&4)){var u=Zf.get(s);if(u)var f=u.get(null);else{u=new Map,Zf.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var M=y[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),f=M)}f&&u.set(null,f)}y=a.instance,M=y.getAttribute("data-precedence"),b=u.get(M)||f,b===f&&u.set(null,y),u.set(M,y),this.count++,f=$f.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),a.state.loading|=4}}var Gc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function JC(s,a,u,f,y,b,M,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Yb(s,a,u,f,y,b,M,P,Z,at,yt,xt){return s=new JC(s,a,u,M,P,Z,at,xt),a=1,b===!0&&(a|=24),b=Di(3,null,null,a),s.current=b,b.stateNode=s,a=ep(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},rp(b),s}function Xb(s){return s?(s=ra,s):ra}function Qb(s,a,u,f,y,b){y=Xb(y),f.context===null?f.context=y:f.pendingContext=y,f=Qa(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ja(s,f,a),u!==null&&(ps(u,s,a),xc(u,s,a))}function Jb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function xg(s,a){Jb(s,a),(s=s.alternate)&&Jb(s,a)}function t1(s){if(s.tag===13){var a=Za(s,67108864);a!==null&&ps(a,s,67108864),xg(s,67108864)}}var Kf=!0;function tR(s,a,u,f){var y=tt.T;tt.T=null;var b=pt.p;try{pt.p=2,Eg(s,a,u,f)}finally{pt.p=b,tt.T=y}}function eR(s,a,u,f){var y=tt.T;tt.T=null;var b=pt.p;try{pt.p=8,Eg(s,a,u,f)}finally{pt.p=b,tt.T=y}}function Eg(s,a,u,f){if(Kf){var y=wg(f);if(y===null)ug(s,a,f,Wf,u),n1(s,f);else if(iR(y,s,a,u,f))f.stopPropagation();else if(n1(s,f),a&4&&-1<nR.indexOf(s)){for(;y!==null;){var b=Ji(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Ii(b.pendingLanes);if(M!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;M;){var Z=1<<31-_n(M);P.entanglements[1]|=Z,M&=~Z}wr(b),(Le&6)===0&&(kf=le()+500,zc(0))}}break;case 13:P=Za(b,2),P!==null&&ps(P,b,2),Pf(),xg(b,2)}if(b=wg(f),b===null&&ug(s,a,f,Wf,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else ug(s,a,f,null,u)}}function wg(s){return s=hr(s),Tg(s)}var Wf=null;function Tg(s){if(Wf=null,s=Vi(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Wf=s,null}function e1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case Jt:return 2;case re:return 8;case dn:case Rn:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Sg=!1,fo=null,mo=null,po=null,$c=new Map,Zc=new Map,go=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n1(s,a){switch(s){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":$c.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(a.pointerId)}}function Kc(s,a,u,f,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=Ji(a),a!==null&&t1(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function iR(s,a,u,f,y){switch(a){case"focusin":return fo=Kc(fo,s,a,u,f,y),!0;case"dragenter":return mo=Kc(mo,s,a,u,f,y),!0;case"mouseover":return po=Kc(po,s,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return $c.set(b,Kc($c.get(b)||null,s,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Zc.set(b,Kc(Zc.get(b)||null,s,a,u,f,y)),!0}return!1}function i1(s){var a=Vi(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){s.blockedOn=a,Zo(s.priority,function(){if(u.tag===13){var f=ms();f=Go(f);var y=Za(u,f);y!==null&&ps(y,u,f),xg(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=wg(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Yr=f,u.target.dispatchEvent(f),Yr=null}else return a=Ji(u),a!==null&&t1(a),s.blockedOn=u,!1;a.shift()}return!0}function s1(s,a,u){Yf(s)&&u.delete(a)}function sR(){Sg=!1,fo!==null&&Yf(fo)&&(fo=null),mo!==null&&Yf(mo)&&(mo=null),po!==null&&Yf(po)&&(po=null),$c.forEach(s1),Zc.forEach(s1)}function Xf(s,a){s.blockedOn===a&&(s.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sR)))}var Qf=null;function r1(s){Qf!==s&&(Qf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qf===s&&(Qf=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],y=s[a+2];if(typeof f!="function"){if(Tg(f||u)===null)continue;break}var b=Ji(u);b!==null&&(s.splice(a,3),a-=3,Tp(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function Wc(s){function a(Z){return Xf(Z,s)}fo!==null&&Xf(fo,s),mo!==null&&Xf(mo,s),po!==null&&Xf(po,s),$c.forEach(a),Zc.forEach(a);for(var u=0;u<go.length;u++){var f=go[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<go.length&&(u=go[0],u.blockedOn===null);)i1(u),u.blockedOn===null&&go.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],M=y[On]||null;if(typeof b=="function")M||r1(u);else if(M){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,M=b[On]||null)P=M.formAction;else if(Tg(y)!==null)continue}else P=M.action;typeof P=="function"?u[f+1]=P:(u.splice(f,3),f-=3),r1(u)}}}function Ag(s){this._internalRoot=s}Jf.prototype.render=Ag.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,f=ms();Qb(u,f,s,a,null,null)},Jf.prototype.unmount=Ag.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Qb(s.current,2,null,s,null,null),Pf(),a[Us]=null}};function Jf(s){this._internalRoot=s}Jf.prototype.unstable_scheduleHydration=function(s){if(s){var a=js();s={blockedOn:null,target:s,priority:a};for(var u=0;u<go.length&&a!==0&&a<go[u].priority;u++);go.splice(u,0,s),u===0&&i1(s)}};var a1=t.version;if(a1!=="19.1.1")throw Error(i(527,a1,"19.1.1"));pt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var rR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{zt=td.inject(rR),ue=td}catch{}}return Xc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,f="",y=E0,b=w0,M=T0,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=Yb(s,1,!1,null,null,u,f,y,b,M,P,null),s[Us]=a.current,lg(s),new Ag(a)},Xc.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var f=!1,y="",b=E0,M=w0,P=T0,Z=null,at=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Z=u.unstable_transitionCallbacks),u.formState!==void 0&&(at=u.formState)),a=Yb(s,1,!0,a,u??null,f,y,b,M,P,Z,at),a.context=Xb(null),u=a.current,f=ms(),f=Go(f),y=Qa(f),y.callback=null,Ja(u,y,f),u=f,a.current.lanes=u,en(a,u),wr(a),s[Us]=a.current,lg(s),new Jf(a)},Xc.version="19.1.1",Xc}var g1;function mR(){if(g1)return Mg.exports;g1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mg.exports=dR(),Mg.exports}var pR=mR();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _1="popstate";function gR(n={}){function t(i,r){let{pathname:o,search:c,hash:d}=i.location;return m_("",{pathname:o,search:c,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:xh(r)}return yR(t,e,null,n)}function hn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function kr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _R(){return Math.random().toString(36).substring(2,10)}function y1(n,t){return{usr:n.state,key:n.key,idx:t}}function m_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ju(t):t,state:e,key:t&&t.key||i||_R()}}function xh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Ju(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function yR(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let z=v(),K=z==null?null:z-p;p=z,m&&m({action:d,location:j.location,delta:K})}function w(z,K){d="PUSH";let X=m_(j.location,z,K);p=v()+1;let Y=y1(X,p),ot=j.createHref(X);try{c.pushState(Y,"",ot)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign(ot)}o&&m&&m({action:d,location:j.location,delta:1})}function D(z,K){d="REPLACE";let X=m_(j.location,z,K);p=v();let Y=y1(X,p),ot=j.createHref(X);c.replaceState(Y,"",ot),o&&m&&m({action:d,location:j.location,delta:0})}function N(z){return vR(z)}let j={get action(){return d},get location(){return n(r,c)},listen(z){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(_1,E),m=z,()=>{r.removeEventListener(_1,E),m=null}},createHref(z){return t(r,z)},createURL:N,encodeLocation(z){let K=N(z);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:D,go(z){return c.go(z)}};return j}function vR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),hn(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:xh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function ww(n,t,e="/"){return bR(n,t,e,!1)}function bR(n,t,e,i){let r=typeof t=="string"?Ju(t):t,o=wa(r.pathname||"/",e);if(o==null)return null;let c=Tw(n);xR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=kR(o);d=OR(c[m],p,i)}return d}function Tw(n,t=[],e=[],i="",r=!1){let o=(c,d,m=r,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;hn(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=xa([i,v.relativePath]),w=e.concat(v);c.children&&c.children.length>0&&(hn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Tw(c.children,t,w,E,m)),!(c.path==null&&!c.index)&&t.push({path:E,score:RR(E,c.index),routesMeta:w})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let m of Sw(c.path))o(c,d,!0,m)}),t}function Sw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=Sw(i.join("/")),d=[];return d.push(...c.map(m=>m===""?o:[o,m].join("/"))),r&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function xR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:MR(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var ER=/^:[\w-]+$/,wR=3,TR=2,SR=1,AR=10,CR=-2,v1=n=>n==="*";function RR(n,t){let e=n.split("/"),i=e.length;return e.some(v1)&&(i+=CR),t&&(i+=TR),e.filter(r=>!v1(r)).reduce((r,o)=>r+(ER.test(o)?wR:o===""?SR:AR),i)}function MR(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function OR(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=o==="/"?t:t.slice(o.length)||"/",E=Pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!E&&p&&e&&!i[i.length-1].route.index&&(E=Pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(r,E.params),c.push({params:r,pathname:xa([o,E.pathname]),pathnameBase:NR(xa([o,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(o=xa([o,E.pathnameBase]))}return c}function Pd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=DR(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:E},w)=>{if(v==="*"){let N=d[w]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const D=d[w];return E&&!D?p[v]=void 0:p[v]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function DR(n,t=!1,e=!0){kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function kR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function wa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function IR(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Ju(n):n;return{pathname:e?e.startsWith("/")?e:PR(e,t):t,search:VR(i),hash:zR(r)}}function PR(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ig(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Aw(n){let t=LR(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Cw(n,t,e,i=!1){let r;typeof n=="string"?r=Ju(n):(r={...n},hn(!r.pathname||!r.pathname.includes("?"),Ig("?","pathname","search",r)),hn(!r.pathname||!r.pathname.includes("#"),Ig("#","pathname","hash",r)),hn(!r.search||!r.search.includes("#"),Ig("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,d;if(c==null)d=e;else{let E=t.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;r.pathname=w.join("/")}d=E>=0?t[E]:"/"}let m=IR(r,d),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var xa=n=>n.join("/").replace(/\/\/+/g,"/"),NR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rw=["POST","PUT","PATCH","DELETE"];new Set(Rw);var jR=["GET",...Rw];new Set(jR);var tc=I.createContext(null);tc.displayName="DataRouter";var dm=I.createContext(null);dm.displayName="DataRouterState";I.createContext(!1);var Mw=I.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var UR=I.createContext(new Map);UR.displayName="Fetchers";var FR=I.createContext(null);FR.displayName="Await";var Vr=I.createContext(null);Vr.displayName="Navigation";var Bh=I.createContext(null);Bh.displayName="Location";var zr=I.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var ty=I.createContext(null);ty.displayName="RouteError";function HR(n,{relative:t}={}){hn(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=I.useContext(Vr),{hash:r,pathname:o,search:c}=Uh(n,{relative:t}),d=o;return e!=="/"&&(d=o==="/"?e:xa([e,o])),i.createHref({pathname:d,search:c,hash:r})}function jh(){return I.useContext(Bh)!=null}function Uo(){return hn(jh(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Bh).location}var Ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dw(n){I.useContext(Vr).static||I.useLayoutEffect(n)}function qR(){let{isDataRoute:n}=I.useContext(zr);return n?sM():GR()}function GR(){hn(jh(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(tc),{basename:t,navigator:e}=I.useContext(Vr),{matches:i}=I.useContext(zr),{pathname:r}=Uo(),o=JSON.stringify(Aw(i)),c=I.useRef(!1);return Dw(()=>{c.current=!0}),I.useCallback((m,p={})=>{if(kr(c.current,Ow),!c.current)return;if(typeof m=="number"){e.go(m);return}let v=Cw(m,JSON.parse(o),r,p.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:xa([t,v.pathname])),(p.replace?e.replace:e.push)(v,p.state,p)},[t,e,o,r,n])}I.createContext(null);function $R(){let{matches:n}=I.useContext(zr),t=n[n.length-1];return t?t.params:{}}function Uh(n,{relative:t}={}){let{matches:e}=I.useContext(zr),{pathname:i}=Uo(),r=JSON.stringify(Aw(e));return I.useMemo(()=>Cw(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function ZR(n,t){return kw(n,t)}function kw(n,t,e,i,r){hn(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=I.useContext(Vr),{matches:c}=I.useContext(zr),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let X=E&&E.path||"";Iw(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Uo(),D;if(t){let X=typeof t=="string"?Ju(t):t;hn(v==="/"||X.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=w;let N=D.pathname||"/",j=N;if(v!=="/"){let X=v.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=ww(n,{pathname:j});kr(E||z!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),kr(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=QR(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:xa([v,o.encodeLocation?o.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:xa([v,o.encodeLocation?o.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,e,i,r);return t&&K?I.createElement(Bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function KR(){let n=iM(),t=BR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"ErrorBoundary")," or"," ",I.createElement("code",{style:o},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),e?I.createElement("pre",{style:r},e):null,c)}var WR=I.createElement(KR,null),YR=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(zr.Provider,{value:this.props.routeContext},I.createElement(ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XR({routeContext:n,match:t,children:e}){let i=I.useContext(tc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(zr.Provider,{value:n},e)}function QR(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let p=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);hn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(e)for(let p=0;p<o.length;p++){let v=o[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=p),v.route.id){let{loaderData:E,errors:w}=e,D=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||D){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,v,E)=>{let w,D=!1,N=null,j=null;e&&(w=c&&v.route.id?c[v.route.id]:void 0,N=v.route.errorElement||WR,d&&(m<0&&E===0?(Iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,j=null):m===E&&(D=!0,j=v.route.hydrateFallbackElement||null)));let z=t.concat(o.slice(0,E+1)),K=()=>{let X;return w?X=N:D?X=j:v.route.Component?X=I.createElement(v.route.Component,null):v.route.element?X=v.route.element:X=p,I.createElement(XR,{match:v,routeContext:{outlet:p,matches:z,isDataRoute:e!=null},children:X})};return e&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?I.createElement(YR,{location:e.location,revalidation:e.revalidation,component:N,error:w,children:K(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:i}):K()},null)}function ey(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JR(n){let t=I.useContext(tc);return hn(t,ey(n)),t}function tM(n){let t=I.useContext(dm);return hn(t,ey(n)),t}function eM(n){let t=I.useContext(zr);return hn(t,ey(n)),t}function ny(n){let t=eM(n),e=t.matches[t.matches.length-1];return hn(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function nM(){return ny("useRouteId")}function iM(){let n=I.useContext(ty),t=tM("useRouteError"),e=ny("useRouteError");return n!==void 0?n:t.errors?.[e]}function sM(){let{router:n}=JR("useNavigate"),t=ny("useNavigate"),e=I.useRef(!1);return Dw(()=>{e.current=!0}),I.useCallback(async(r,o={})=>{kr(e.current,Ow),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var b1={};function Iw(n,t,e){!t&&!b1[n]&&(b1[n]=!0,kr(!1,e))}I.memo(rM);function rM({routes:n,future:t,state:e,unstable_onError:i}){return kw(n,void 0,e,i,t)}function va(n){hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aM({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){hn(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Ju(e));let{pathname:m="/",search:p="",hash:v="",state:E=null,key:w="default"}=e,D=I.useMemo(()=>{let N=wa(m,c);return N==null?null:{location:{pathname:N,search:p,hash:v,state:E,key:w},navigationType:i}},[c,m,p,v,E,w,i]);return kr(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:I.createElement(Vr.Provider,{value:d},I.createElement(Bh.Provider,{children:t,value:D}))}function Pw({children:n,location:t}){return ZR(p_(n),t)}function p_(n,t=[]){let e=[];return I.Children.forEach(n,(i,r)=>{if(!I.isValidElement(i))return;let o=[...t,r];if(i.type===I.Fragment){e.push.apply(e,p_(i.props.children,o));return}hn(i.type===va,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),hn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=p_(i.props.children,o)),e.push(c)}),e}var Ed="get",wd="application/x-www-form-urlencoded";function mm(n){return n!=null&&typeof n.tagName=="string"}function oM(n){return mm(n)&&n.tagName.toLowerCase()==="button"}function lM(n){return mm(n)&&n.tagName.toLowerCase()==="form"}function uM(n){return mm(n)&&n.tagName.toLowerCase()==="input"}function cM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hM(n,t){return n.button===0&&(!t||t==="_self")&&!cM(n)}var ed=null;function fM(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var dM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(n){return n!=null&&!dM.has(n)?(kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):n}function mM(n,t){let e,i,r,o,c;if(lM(n)){let d=n.getAttribute("action");i=d?wa(d,t):null,e=n.getAttribute("method")||Ed,r=Pg(n.getAttribute("enctype"))||wd,o=new FormData(n)}else if(oM(n)||uM(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?wa(m,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||Ed,r=Pg(n.getAttribute("formenctype"))||Pg(d.getAttribute("enctype"))||wd,o=new FormData(d,n),!fM()){let{name:p,type:v,value:E}=n;if(v==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,E)}}else{if(mm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ed,i=null,r=wd,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function pM(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&wa(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function gM(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _M(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yM(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await gM(o,e);return c.links?c.links():[]}return[]}));return EM(i.flat(1).filter(_M).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function x1(n,t,e,i,r,o){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,d=(m,p)=>e[p].pathname!==m.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):o==="data"?t.filter((m,p)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function vM(n,t,{includeHydrateFallback:e}={}){return bM(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function bM(n){return[...new Set(n)]}function xM(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function EM(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(xM(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function Lw(){let n=I.useContext(tc);return iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wM(){let n=I.useContext(dm);return iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sy=I.createContext(void 0);sy.displayName="FrameworkContext";function Nw(){let n=I.useContext(sy);return iy(n,"You must render this element inside a <HydratedRouter> element"),n}function TM(n,t){let e=I.useContext(sy),[i,r]=I.useState(!1),[o,c]=I.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=t,w=I.useRef(null);I.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=K=>{K.forEach(X=>{c(X.isIntersecting)})},z=new IntersectionObserver(j,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[n]),I.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let D=()=>{r(!0)},N=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Qc(d,D),onBlur:Qc(m,N),onMouseEnter:Qc(p,D),onMouseLeave:Qc(v,N),onTouchStart:Qc(E,D)}]:[!1,w,{}]}function Qc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function SM({page:n,...t}){let{router:e}=Lw(),i=I.useMemo(()=>ww(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?I.createElement(CM,{page:n,matches:i,...t}):null}function AM(n){let{manifest:t,routeModules:e}=Nw(),[i,r]=I.useState([]);return I.useEffect(()=>{let o=!1;return yM(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function CM({page:n,matches:t,...e}){let i=Uo(),{manifest:r,routeModules:o}=Nw(),{basename:c}=Lw(),{loaderData:d,matches:m}=wM(),p=I.useMemo(()=>x1(n,t,m,r,i,"data"),[n,t,m,r,i]),v=I.useMemo(()=>x1(n,t,m,r,i,"assets"),[n,t,m,r,i]),E=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,j=!1;if(t.forEach(K=>{let X=r.routes[K.route.id];!X||!X.hasLoader||(!p.some(Y=>Y.route.id===K.route.id)&&K.route.id in d&&o[K.route.id]?.shouldRevalidate||X.hasClientLoader?j=!0:N.add(K.route.id))}),N.size===0)return[];let z=pM(n,c,"data");return j&&N.size>0&&z.searchParams.set("_routes",t.filter(K=>N.has(K.route.id)).map(K=>K.route.id).join(",")),[z.pathname+z.search]},[c,d,i,r,p,t,n,o]),w=I.useMemo(()=>vM(v,r),[v,r]),D=AM(v);return I.createElement(I.Fragment,null,E.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...e})),w.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...e})),D.map(({key:N,link:j})=>I.createElement("link",{key:N,nonce:e.nonce,...j})))}function RM(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.9.4")}catch{}function MM({basename:n,children:t,window:e}){let i=I.useRef();i.current==null&&(i.current=gR({window:e,v5Compat:!0}));let r=i.current,[o,c]=I.useState({action:r.action,location:r.location}),d=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>r.listen(d),[r,d]),I.createElement(aM,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bw=I.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:E,...w},D){let{basename:N}=I.useContext(Vr),j=typeof p=="string"&&zw.test(p),z,K=!1;if(typeof p=="string"&&j&&(z=p,Vw))try{let O=new URL(window.location.href),V=p.startsWith("//")?new URL(O.protocol+p):new URL(p),B=wa(V.pathname,N);V.origin===O.origin&&B!=null?p=B+V.search+V.hash:K=!0}catch{kr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=HR(p,{relative:r}),[Y,ot,J]=TM(i,w),mt=kM(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:r,viewTransition:E});function F(O){t&&t(O),O.defaultPrevented||mt(O)}let A=I.createElement("a",{...w,...J,href:z||X,onClick:K||o?t:F,ref:RM(D,ot),target:m,"data-discover":!j&&e==="render"?"true":void 0});return Y&&!j?I.createElement(I.Fragment,null,A,I.createElement(SM,{page:X})):A});Bw.displayName="Link";var wl=I.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:d,children:m,...p},v){let E=Uh(c,{relative:p.relative}),w=Uo(),D=I.useContext(dm),{navigator:N,basename:j}=I.useContext(Vr),z=D!=null&&VM(E)&&d===!0,K=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,X=w.pathname,Y=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;e||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,K=K.toLowerCase()),Y&&j&&(Y=wa(Y,j)||Y);const ot=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let J=X===K||!r&&X.startsWith(K)&&X.charAt(ot)==="/",mt=Y!=null&&(Y===K||!r&&Y.startsWith(K)&&Y.charAt(K.length)==="/"),F={isActive:J,isPending:mt,isTransitioning:z},A=J?t:void 0,O;typeof i=="function"?O=i(F):O=[i,J?"active":null,mt?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(F):o;return I.createElement(Bw,{...p,"aria-current":A,className:O,ref:v,style:V,to:c,viewTransition:d},typeof m=="function"?m(F):m)});wl.displayName="NavLink";var OM=I.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Ed,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,...w},D)=>{let N=LM(),j=NM(d,{relative:p}),z=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&zw.test(d),X=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ot=Y.nativeEvent.submitter,J=ot?.getAttribute("formmethod")||c;N(ot||Y.currentTarget,{fetcherKey:t,method:J,navigate:e,replace:r,state:o,relative:p,preventScrollReset:v,viewTransition:E})};return I.createElement("form",{ref:D,method:z,action:j,onSubmit:i?m:X,...w,"data-discover":!K&&n==="render"?"true":void 0})});OM.displayName="Form";function DM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(n){let t=I.useContext(tc);return hn(t,DM(n)),t}function kM(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let d=qR(),m=Uo(),p=Uh(n,{relative:o});return I.useCallback(v=>{if(hM(v,t)){v.preventDefault();let E=e!==void 0?e:xh(m)===xh(p);d(n,{replace:E,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[m,d,p,e,i,t,n,r,o,c])}var IM=0,PM=()=>`__${String(++IM)}__`;function LM(){let{router:n}=jw("useSubmit"),{basename:t}=I.useContext(Vr),e=nM();return I.useCallback(async(i,r={})=>{let{action:o,method:c,encType:d,formData:m,body:p}=mM(i,t);if(r.navigate===!1){let v=r.fetcherKey||PM();await n.fetch(v,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||d,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function NM(n,{relative:t}={}){let{basename:e}=I.useContext(Vr),i=I.useContext(zr);hn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Uh(n||".",{relative:t})},c=Uo();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:xa([e,o.pathname])),xh(o)}function VM(n,{relative:t}={}){let e=I.useContext(Mw);hn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jw("useViewTransitionState"),r=Uh(n,{relative:t});if(!e.isTransitioning)return!1;let o=wa(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=wa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Pd(r.pathname,c)!=null||Pd(r.pathname,o)!=null}var Uw=Ew();const Vu=zh(Uw);var Fw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E1=Vn.createContext&&Vn.createContext(Fw),zM=["attr","size","title"];function BM(n,t){if(n==null)return{};var e=jM(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function jM(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Ld(){return Ld=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ld.apply(this,arguments)}function w1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Nd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(e),!0).forEach(function(i){UM(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):w1(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function UM(n,t,e){return t=FM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function FM(n){var t=HM(n,"string");return typeof t=="symbol"?t:t+""}function HM(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Hw(n){return n&&n.map((t,e)=>Vn.createElement(t.tag,Nd({key:e},t.attr),Hw(t.child)))}function Qi(n){return t=>Vn.createElement(qM,Ld({attr:Nd({},n.attr)},t),Hw(n.child))}function qM(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=BM(n,zM),d=r||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),Vn.createElement("svg",Ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:m,style:Nd(Nd({color:n.color||e.color},e.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Vn.createElement("title",null,o),n.children)};return E1!==void 0?Vn.createElement(E1.Consumer,null,e=>t(e)):t(Fw)}function GM(n){return Qi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 75.2v361.7c0 24.3-19 43.2-43.2 43.2H43.2C19.3 480 0 461.4 0 436.8V75.2C0 51.1 18.8 32 43.2 32h361.7c24 0 43.1 18.8 43.1 43.2zm-37.3 361.6V75.2c0-3-2.6-5.8-5.8-5.8h-9.3L285.3 144 224 94.1 162.8 144 52.5 69.3h-9.3c-3.2 0-5.8 2.8-5.8 5.8v361.7c0 3 2.6 5.8 5.8 5.8h361.7c3.2.1 5.8-2.7 5.8-5.8zM150.2 186v37H76.7v-37h73.5zm0 74.4v37.3H76.7v-37.3h73.5zm11.1-147.3l54-43.7H96.8l64.5 43.7zm210 72.9v37h-196v-37h196zm0 74.4v37.3h-196v-37.3h196zm-84.6-147.3l64.5-43.7H232.8l53.9 43.7zM371.3 335v37.3h-99.4V335h99.4z"},child:[]}]})(n)}function $M(n){return Qi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(n)}function ZM(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(n)}function KM(n){return Qi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(n)}function WM(n){return Qi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(n)}function YM(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function XM(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function QM(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function JM(n){return Qi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function tO(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(n)}function eO(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function nO(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(n)}function qw(n){return Qi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(n)}function T1(n){return Qi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}const iO=()=>R.jsxs("div",{className:"sidebar",children:[R.jsxs("div",{className:"sidebar-title text-center",children:[R.jsx(KM,{className:"me-2"}),"Aset App"]}),R.jsxs(wl,{to:"/",children:[R.jsx(eO,{className:"me-2"})," Dashboard"]}),R.jsxs(wl,{to:"/aset-manajemen",children:[R.jsx($M,{className:"me-2"})," Aset Manajemen"]}),R.jsxs(wl,{to:"/form-aset",children:[R.jsx(GM,{className:"me-2"})," Form Aset"]}),R.jsxs(wl,{to:"/publish-aset",children:[R.jsx(WM,{className:"me-2"})," Publish Aset"]}),R.jsxs(wl,{to:"/manajemen-kartu",children:[R.jsx(qw,{className:"me-2"})," Manajemen Kartu"]}),R.jsxs(wl,{to:"/peta",children:[R.jsx(tO,{className:"me-2"})," Peta Publik"]})]}),sO=({title:n})=>R.jsx("div",{className:"content-header",children:R.jsx("h2",{children:n})}),rO=()=>{};var S1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},aO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],d=n[e++],m=((r&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,d=c?n[r+1]:0,m=r+2<n.length,p=m?n[r+2]:0,v=o>>2,E=(o&3)<<4|d>>4;let w=(d&15)<<2|p>>6,D=p&63;m||(D=64,c||(w=64)),i.push(e[v],e[E],e[w],e[D])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Gw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):aO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],d=r<n.length?e[n.charAt(r)]:0;++r;const p=r<n.length?e[n.charAt(r)]:64;++r;const E=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||d==null||p==null||E==null)throw new oO;const w=o<<2|d>>4;if(i.push(w),p!==64){const D=d<<4&240|p>>2;if(i.push(D),E!==64){const N=p<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lO=function(n){const t=Gw(n);return $w.encodeByteArray(t,!0)},Vd=function(n){return lO(n).replace(/\./g,"")},uO=function(n){try{return $w.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=()=>cO().__FIREBASE_DEFAULTS__,fO=()=>{if(typeof process>"u"||typeof S1>"u")return;const n=S1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&uO(n[1]);return t&&JSON.parse(t)},ry=()=>{try{return rO()||hO()||fO()||dO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mO=n=>ry()?.emulatorHosts?.[n],Zw=n=>{const t=mO(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Kw=()=>ry()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ww(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Vd(JSON.stringify(e)),Vd(JSON.stringify(c)),""].join(".")}const dh={};function gO(){const n={prod:[],emulator:[]};for(const t of Object.keys(dh))dh[t]?n.emulator.push(t):n.prod.push(t);return n}function _O(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let A1=!1;function Xw(n,t){if(typeof window>"u"||typeof document>"u"||!pm(window.location.host)||dh[n]===t||dh[n]||A1)return;dh[n]=t;function e(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=gO().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{A1=!0,c()},w}function v(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=_O(i),D=e("text"),N=document.getElementById(D)||document.createElement("span"),j=e("learnmore"),z=document.getElementById(j)||document.createElement("a"),K=e("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;d(Y),v(z,j);const ot=p();m(X,K),Y.append(X,N,z,ot),document.body.appendChild(Y)}o?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vO(){const n=ry()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bO(){return!vO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xO(){try{return typeof indexedDB=="object"}catch{return!1}}function EO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="FirebaseError";class Bl extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=wO,Object.setPrototypeOf(this,Bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qw.prototype.create)}}class Qw{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?TO(o,i):"Error",d=`${this.serviceName}: ${c} (${r}).`;return new Bl(r,d,i)}}function TO(n,t){return n.replace(SO,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const SO=/\{\$([^}]+)}/g;function zd(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(C1(o)&&C1(c)){if(!zd(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function C1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(n){return n&&n._delegate?n._delegate:n}class Hu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AO=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new pO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RO(t))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Tl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tl){return this.instances.has(t)}getOptions(t=Tl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Tl){return this.component?this.component.multipleInstances?t:Tl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CO(n){return n===Tl?void 0:n}function RO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const OO={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},DO=Re.INFO,kO={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},IO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=kO[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jw{constructor(t){this.name=t,this._logLevel=DO,this._logHandler=IO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const PO=(n,t)=>t.some(e=>n instanceof e);let R1,M1;function LO(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return M1||(M1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,g_=new WeakMap,eT=new WeakMap,Lg=new WeakMap,ay=new WeakMap;function VO(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(wo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&tT.set(e,n)}).catch(()=>{}),ay.set(t,n),t}function zO(n){if(g_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});g_.set(n,t)}let __={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return g_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||eT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return wo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function BO(n){__=n(__)}function jO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ng(this),t,...e);return eT.set(i,t.sort?t.sort():[t]),wo(i)}:NO().includes(n)?function(...t){return n.apply(Ng(this),t),wo(tT.get(this))}:function(...t){return wo(n.apply(Ng(this),t))}}function UO(n){return typeof n=="function"?jO(n):(n instanceof IDBTransaction&&zO(n),PO(n,LO())?new Proxy(n,__):n)}function wo(n){if(n instanceof IDBRequest)return VO(n);if(Lg.has(n))return Lg.get(n);const t=UO(n);return t!==n&&(Lg.set(n,t),ay.set(t,n)),t}const Ng=n=>ay.get(n);function FO(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),d=wo(c);return i&&c.addEventListener("upgradeneeded",m=>{i(wo(c.result),m.oldVersion,m.newVersion,wo(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),r&&m.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const HO=["get","getKey","getAll","getAllKeys","count"],qO=["put","add","delete","clear"],Vg=new Map;function O1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Vg.get(t))return Vg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=qO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||HO.includes(e)))return;const o=async function(c,...d){const m=this.transaction(c,r?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),r&&m.done]))[0]};return Vg.set(t,o),o}BO(n=>({...n,get:(t,e,i)=>O1(t,e)||n.get(t,e,i),has:(t,e)=>!!O1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($O(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function $O(n){return n.getComponent()?.type==="VERSION"}const y_="@firebase/app",D1="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Jw("@firebase/app"),ZO="@firebase/app-compat",KO="@firebase/analytics-compat",WO="@firebase/analytics",YO="@firebase/app-check-compat",XO="@firebase/app-check",QO="@firebase/auth",JO="@firebase/auth-compat",tD="@firebase/database",eD="@firebase/data-connect",nD="@firebase/database-compat",iD="@firebase/functions",sD="@firebase/functions-compat",rD="@firebase/installations",aD="@firebase/installations-compat",oD="@firebase/messaging",lD="@firebase/messaging-compat",uD="@firebase/performance",cD="@firebase/performance-compat",hD="@firebase/remote-config",fD="@firebase/remote-config-compat",dD="@firebase/storage",mD="@firebase/storage-compat",pD="@firebase/firestore",gD="@firebase/ai",_D="@firebase/firestore-compat",yD="firebase",vD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",bD={[y_]:"fire-core",[ZO]:"fire-core-compat",[WO]:"fire-analytics",[KO]:"fire-analytics-compat",[XO]:"fire-app-check",[YO]:"fire-app-check-compat",[QO]:"fire-auth",[JO]:"fire-auth-compat",[tD]:"fire-rtdb",[eD]:"fire-data-connect",[nD]:"fire-rtdb-compat",[iD]:"fire-fn",[sD]:"fire-fn-compat",[rD]:"fire-iid",[aD]:"fire-iid-compat",[oD]:"fire-fcm",[lD]:"fire-fcm-compat",[uD]:"fire-perf",[cD]:"fire-perf-compat",[hD]:"fire-rc",[fD]:"fire-rc-compat",[dD]:"fire-gcs",[mD]:"fire-gcs-compat",[pD]:"fire-fst",[_D]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[yD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,xD=new Map,b_=new Map;function k1(n,t){try{n.container.addComponent(t)}catch(e){Ta.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Eh(n){const t=n.name;if(b_.has(t))return Ta.debug(`There were multiple attempts to register component ${t}.`),!1;b_.set(t,n);for(const e of Bd.values())k1(e,n);for(const e of xD.values())k1(e,n);return!0}function nT(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function iT(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Qw("app","Firebase",ED);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=vD;function oy(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:v_,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw To.create("bad-app-name",{appName:String(r)});if(e||(e=Kw()),!e)throw To.create("no-options");const o=Bd.get(r);if(o){if(zd(e,o.options)&&zd(i,o.config))return o;throw To.create("duplicate-app",{appName:r})}const c=new MO(r);for(const m of b_.values())c.addComponent(m);const d=new wD(e,i,c);return Bd.set(r,d),d}function rT(n=v_){const t=Bd.get(n);if(!t&&n===v_&&Kw())return oy();if(!t)throw To.create("no-app",{appName:n});return t}function So(n,t,e){let i=bD[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ta.warn(c.join(" "));return}Eh(new Hu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebase-heartbeat-database",SD=1,wh="firebase-heartbeat-store";let zg=null;function aT(){return zg||(zg=FO(TD,SD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(wh)}catch(e){console.warn(e)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),zg}async function AD(n){try{const e=(await aT()).transaction(wh),i=await e.objectStore(wh).get(oT(n));return await e.done,i}catch(t){if(t instanceof Bl)Ta.warn(t.message);else{const e=To.create("idb-get",{originalErrorMessage:t?.message});Ta.warn(e.message)}}}async function I1(n,t){try{const i=(await aT()).transaction(wh,"readwrite");await i.objectStore(wh).put(t,oT(n)),await i.done}catch(e){if(e instanceof Bl)Ta.warn(e.message);else{const i=To.create("idb-set",{originalErrorMessage:e?.message});Ta.warn(i.message)}}}function oT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1024,RD=30;class MD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=P1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>RD){const r=kD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ta.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P1(),{heartbeatsToSend:e,unsentEntries:i}=OD(this._heartbeatsCache.heartbeats),r=Vd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ta.warn(t),""}}}function P1(){return new Date().toISOString().substring(0,10)}function OD(n,t=CD){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),L1(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),L1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class DD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xO()?EO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return I1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return I1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function L1(n){return Vd(JSON.stringify({version:2,heartbeats:n})).length}function kD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){Eh(new Hu("platform-logger",t=>new GO(t),"PRIVATE")),Eh(new Hu("heartbeat",t=>new MD(t),"PRIVATE")),So(y_,D1,n),So(y_,D1,"esm2020"),So("fire-js","")}ID("");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,lT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(F,A){function O(){}O.prototype=A.prototype,F.F=A.prototype,F.prototype=new O,F.prototype.constructor=F,F.D=function(V,B,q){for(var H=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)H[Mt-2]=arguments[Mt];return A.prototype[B].apply(V,H)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(F,A,O){O||(O=0);const V=Array(16);if(typeof A=="string")for(var B=0;B<16;++B)V[B]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(B=0;B<16;++B)V[B]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=F.g[0],O=F.g[1],B=F.g[2];let q=F.g[3],H;H=A+(q^O&(B^q))+V[0]+3614090360&4294967295,A=O+(H<<7&4294967295|H>>>25),H=q+(B^A&(O^B))+V[1]+3905402710&4294967295,q=A+(H<<12&4294967295|H>>>20),H=B+(O^q&(A^O))+V[2]+606105819&4294967295,B=q+(H<<17&4294967295|H>>>15),H=O+(A^B&(q^A))+V[3]+3250441966&4294967295,O=B+(H<<22&4294967295|H>>>10),H=A+(q^O&(B^q))+V[4]+4118548399&4294967295,A=O+(H<<7&4294967295|H>>>25),H=q+(B^A&(O^B))+V[5]+1200080426&4294967295,q=A+(H<<12&4294967295|H>>>20),H=B+(O^q&(A^O))+V[6]+2821735955&4294967295,B=q+(H<<17&4294967295|H>>>15),H=O+(A^B&(q^A))+V[7]+4249261313&4294967295,O=B+(H<<22&4294967295|H>>>10),H=A+(q^O&(B^q))+V[8]+1770035416&4294967295,A=O+(H<<7&4294967295|H>>>25),H=q+(B^A&(O^B))+V[9]+2336552879&4294967295,q=A+(H<<12&4294967295|H>>>20),H=B+(O^q&(A^O))+V[10]+4294925233&4294967295,B=q+(H<<17&4294967295|H>>>15),H=O+(A^B&(q^A))+V[11]+2304563134&4294967295,O=B+(H<<22&4294967295|H>>>10),H=A+(q^O&(B^q))+V[12]+1804603682&4294967295,A=O+(H<<7&4294967295|H>>>25),H=q+(B^A&(O^B))+V[13]+4254626195&4294967295,q=A+(H<<12&4294967295|H>>>20),H=B+(O^q&(A^O))+V[14]+2792965006&4294967295,B=q+(H<<17&4294967295|H>>>15),H=O+(A^B&(q^A))+V[15]+1236535329&4294967295,O=B+(H<<22&4294967295|H>>>10),H=A+(B^q&(O^B))+V[1]+4129170786&4294967295,A=O+(H<<5&4294967295|H>>>27),H=q+(O^B&(A^O))+V[6]+3225465664&4294967295,q=A+(H<<9&4294967295|H>>>23),H=B+(A^O&(q^A))+V[11]+643717713&4294967295,B=q+(H<<14&4294967295|H>>>18),H=O+(q^A&(B^q))+V[0]+3921069994&4294967295,O=B+(H<<20&4294967295|H>>>12),H=A+(B^q&(O^B))+V[5]+3593408605&4294967295,A=O+(H<<5&4294967295|H>>>27),H=q+(O^B&(A^O))+V[10]+38016083&4294967295,q=A+(H<<9&4294967295|H>>>23),H=B+(A^O&(q^A))+V[15]+3634488961&4294967295,B=q+(H<<14&4294967295|H>>>18),H=O+(q^A&(B^q))+V[4]+3889429448&4294967295,O=B+(H<<20&4294967295|H>>>12),H=A+(B^q&(O^B))+V[9]+568446438&4294967295,A=O+(H<<5&4294967295|H>>>27),H=q+(O^B&(A^O))+V[14]+3275163606&4294967295,q=A+(H<<9&4294967295|H>>>23),H=B+(A^O&(q^A))+V[3]+4107603335&4294967295,B=q+(H<<14&4294967295|H>>>18),H=O+(q^A&(B^q))+V[8]+1163531501&4294967295,O=B+(H<<20&4294967295|H>>>12),H=A+(B^q&(O^B))+V[13]+2850285829&4294967295,A=O+(H<<5&4294967295|H>>>27),H=q+(O^B&(A^O))+V[2]+4243563512&4294967295,q=A+(H<<9&4294967295|H>>>23),H=B+(A^O&(q^A))+V[7]+1735328473&4294967295,B=q+(H<<14&4294967295|H>>>18),H=O+(q^A&(B^q))+V[12]+2368359562&4294967295,O=B+(H<<20&4294967295|H>>>12),H=A+(O^B^q)+V[5]+4294588738&4294967295,A=O+(H<<4&4294967295|H>>>28),H=q+(A^O^B)+V[8]+2272392833&4294967295,q=A+(H<<11&4294967295|H>>>21),H=B+(q^A^O)+V[11]+1839030562&4294967295,B=q+(H<<16&4294967295|H>>>16),H=O+(B^q^A)+V[14]+4259657740&4294967295,O=B+(H<<23&4294967295|H>>>9),H=A+(O^B^q)+V[1]+2763975236&4294967295,A=O+(H<<4&4294967295|H>>>28),H=q+(A^O^B)+V[4]+1272893353&4294967295,q=A+(H<<11&4294967295|H>>>21),H=B+(q^A^O)+V[7]+4139469664&4294967295,B=q+(H<<16&4294967295|H>>>16),H=O+(B^q^A)+V[10]+3200236656&4294967295,O=B+(H<<23&4294967295|H>>>9),H=A+(O^B^q)+V[13]+681279174&4294967295,A=O+(H<<4&4294967295|H>>>28),H=q+(A^O^B)+V[0]+3936430074&4294967295,q=A+(H<<11&4294967295|H>>>21),H=B+(q^A^O)+V[3]+3572445317&4294967295,B=q+(H<<16&4294967295|H>>>16),H=O+(B^q^A)+V[6]+76029189&4294967295,O=B+(H<<23&4294967295|H>>>9),H=A+(O^B^q)+V[9]+3654602809&4294967295,A=O+(H<<4&4294967295|H>>>28),H=q+(A^O^B)+V[12]+3873151461&4294967295,q=A+(H<<11&4294967295|H>>>21),H=B+(q^A^O)+V[15]+530742520&4294967295,B=q+(H<<16&4294967295|H>>>16),H=O+(B^q^A)+V[2]+3299628645&4294967295,O=B+(H<<23&4294967295|H>>>9),H=A+(B^(O|~q))+V[0]+4096336452&4294967295,A=O+(H<<6&4294967295|H>>>26),H=q+(O^(A|~B))+V[7]+1126891415&4294967295,q=A+(H<<10&4294967295|H>>>22),H=B+(A^(q|~O))+V[14]+2878612391&4294967295,B=q+(H<<15&4294967295|H>>>17),H=O+(q^(B|~A))+V[5]+4237533241&4294967295,O=B+(H<<21&4294967295|H>>>11),H=A+(B^(O|~q))+V[12]+1700485571&4294967295,A=O+(H<<6&4294967295|H>>>26),H=q+(O^(A|~B))+V[3]+2399980690&4294967295,q=A+(H<<10&4294967295|H>>>22),H=B+(A^(q|~O))+V[10]+4293915773&4294967295,B=q+(H<<15&4294967295|H>>>17),H=O+(q^(B|~A))+V[1]+2240044497&4294967295,O=B+(H<<21&4294967295|H>>>11),H=A+(B^(O|~q))+V[8]+1873313359&4294967295,A=O+(H<<6&4294967295|H>>>26),H=q+(O^(A|~B))+V[15]+4264355552&4294967295,q=A+(H<<10&4294967295|H>>>22),H=B+(A^(q|~O))+V[6]+2734768916&4294967295,B=q+(H<<15&4294967295|H>>>17),H=O+(q^(B|~A))+V[13]+1309151649&4294967295,O=B+(H<<21&4294967295|H>>>11),H=A+(B^(O|~q))+V[4]+4149444226&4294967295,A=O+(H<<6&4294967295|H>>>26),H=q+(O^(A|~B))+V[11]+3174756917&4294967295,q=A+(H<<10&4294967295|H>>>22),H=B+(A^(q|~O))+V[2]+718787259&4294967295,B=q+(H<<15&4294967295|H>>>17),H=O+(q^(B|~A))+V[9]+3951481745&4294967295,F.g[0]=F.g[0]+A&4294967295,F.g[1]=F.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,F.g[2]=F.g[2]+B&4294967295,F.g[3]=F.g[3]+q&4294967295}i.prototype.v=function(F,A){A===void 0&&(A=F.length);const O=A-this.blockSize,V=this.C;let B=this.h,q=0;for(;q<A;){if(B==0)for(;q<=O;)r(this,F,q),q+=this.blockSize;if(typeof F=="string"){for(;q<A;)if(V[B++]=F.charCodeAt(q++),B==this.blockSize){r(this,V),B=0;break}}else for(;q<A;)if(V[B++]=F[q++],B==this.blockSize){r(this,V),B=0;break}}this.h=B,this.o+=A},i.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var A=1;A<F.length-8;++A)F[A]=0;A=this.o*8;for(var O=F.length-8;O<F.length;++O)F[O]=A&255,A/=256;for(this.v(F),F=Array(16),A=0,O=0;O<4;++O)for(let V=0;V<32;V+=8)F[A++]=this.g[O]>>>V&255;return F};function o(F,A){var O=d;return Object.prototype.hasOwnProperty.call(O,F)?O[F]:O[F]=A(F)}function c(F,A){this.h=A;const O=[];let V=!0;for(let B=F.length-1;B>=0;B--){const q=F[B]|0;V&&q==A||(O[B]=q,V=!1)}this.g=O}var d={};function m(F){return-128<=F&&F<128?o(F,function(A){return new c([A|0],A<0?-1:0)}):new c([F|0],F<0?-1:0)}function p(F){if(isNaN(F)||!isFinite(F))return E;if(F<0)return z(p(-F));const A=[];let O=1;for(let V=0;F>=O;V++)A[V]=F/O|0,O*=4294967296;return new c(A,0)}function v(F,A){if(F.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(F.charAt(0)=="-")return z(v(F.substring(1),A));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=p(Math.pow(A,8));let V=E;for(let q=0;q<F.length;q+=8){var B=Math.min(8,F.length-q);const H=parseInt(F.substring(q,q+B),A);B<8?(B=p(Math.pow(A,B)),V=V.j(B).add(p(H))):(V=V.j(O),V=V.add(p(H)))}return V}var E=m(0),w=m(1),D=m(16777216);n=c.prototype,n.m=function(){if(j(this))return-z(this).m();let F=0,A=1;for(let O=0;O<this.g.length;O++){const V=this.i(O);F+=(V>=0?V:4294967296+V)*A,A*=4294967296}return F},n.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(N(this))return"0";if(j(this))return"-"+z(this).toString(F);const A=p(Math.pow(F,6));var O=this;let V="";for(;;){const B=ot(O,A).g;O=K(O,B.j(A));let q=((O.g.length>0?O.g[0]:O.h)>>>0).toString(F);if(O=B,N(O))return q+V;for(;q.length<6;)q="0"+q;V=q+V}},n.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function N(F){if(F.h!=0)return!1;for(let A=0;A<F.g.length;A++)if(F.g[A]!=0)return!1;return!0}function j(F){return F.h==-1}n.l=function(F){return F=K(this,F),j(F)?-1:N(F)?0:1};function z(F){const A=F.g.length,O=[];for(let V=0;V<A;V++)O[V]=~F.g[V];return new c(O,~F.h).add(w)}n.abs=function(){return j(this)?z(this):this},n.add=function(F){const A=Math.max(this.g.length,F.g.length),O=[];let V=0;for(let B=0;B<=A;B++){let q=V+(this.i(B)&65535)+(F.i(B)&65535),H=(q>>>16)+(this.i(B)>>>16)+(F.i(B)>>>16);V=H>>>16,q&=65535,H&=65535,O[B]=H<<16|q}return new c(O,O[O.length-1]&-2147483648?-1:0)};function K(F,A){return F.add(z(A))}n.j=function(F){if(N(this)||N(F))return E;if(j(this))return j(F)?z(this).j(z(F)):z(z(this).j(F));if(j(F))return z(this.j(z(F)));if(this.l(D)<0&&F.l(D)<0)return p(this.m()*F.m());const A=this.g.length+F.g.length,O=[];for(var V=0;V<2*A;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(let B=0;B<F.g.length;B++){const q=this.i(V)>>>16,H=this.i(V)&65535,Mt=F.i(B)>>>16,It=F.i(B)&65535;O[2*V+2*B]+=H*It,X(O,2*V+2*B),O[2*V+2*B+1]+=q*It,X(O,2*V+2*B+1),O[2*V+2*B+1]+=H*Mt,X(O,2*V+2*B+1),O[2*V+2*B+2]+=q*Mt,X(O,2*V+2*B+2)}for(F=0;F<A;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=A;F<2*A;F++)O[F]=0;return new c(O,0)};function X(F,A){for(;(F[A]&65535)!=F[A];)F[A+1]+=F[A]>>>16,F[A]&=65535,A++}function Y(F,A){this.g=F,this.h=A}function ot(F,A){if(N(A))throw Error("division by zero");if(N(F))return new Y(E,E);if(j(F))return A=ot(z(F),A),new Y(z(A.g),z(A.h));if(j(A))return A=ot(F,z(A)),new Y(z(A.g),A.h);if(F.g.length>30){if(j(F)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var O=w,V=A;V.l(F)<=0;)O=J(O),V=J(V);var B=mt(O,1),q=mt(V,1);for(V=mt(V,2),O=mt(O,2);!N(V);){var H=q.add(V);H.l(F)<=0&&(B=B.add(O),q=H),V=mt(V,1),O=mt(O,1)}return A=K(F,B.j(A)),new Y(B,A)}for(B=E;F.l(A)>=0;){for(O=Math.max(1,Math.floor(F.m()/A.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),q=p(O),H=q.j(A);j(H)||H.l(F)>0;)O-=V,q=p(O),H=q.j(A);N(q)&&(q=w),B=B.add(q),F=K(F,H)}return new Y(B,F)}n.B=function(F){return ot(this,F).h},n.and=function(F){const A=Math.max(this.g.length,F.g.length),O=[];for(let V=0;V<A;V++)O[V]=this.i(V)&F.i(V);return new c(O,this.h&F.h)},n.or=function(F){const A=Math.max(this.g.length,F.g.length),O=[];for(let V=0;V<A;V++)O[V]=this.i(V)|F.i(V);return new c(O,this.h|F.h)},n.xor=function(F){const A=Math.max(this.g.length,F.g.length),O=[];for(let V=0;V<A;V++)O[V]=this.i(V)^F.i(V);return new c(O,this.h^F.h)};function J(F){const A=F.g.length+1,O=[];for(let V=0;V<A;V++)O[V]=F.i(V)<<1|F.i(V-1)>>>31;return new c(O,F.h)}function mt(F,A){const O=A>>5;A%=32;const V=F.g.length-O,B=[];for(let q=0;q<V;q++)B[q]=A>0?F.i(q+O)>>>A|F.i(q+O+1)<<32-A:F.i(q+O);return new c(B,F.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ao=c}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,sh,cT,Td,x_,hT,fT,dT;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var T=0;T<g.length;++T){var C=g[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=e(this);function r(g,T){if(T)t:{var C=i;g=g.split(".");for(var U=0;U<g.length-1;U++){var it=g[U];if(!(it in C))break t;C=C[it]}g=g[g.length-1],U=C[g],T=T(U),T!=U&&T!=null&&t(C,g,{configurable:!0,writable:!0,value:T})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(T){var C=[],U;for(U in T)Object.prototype.hasOwnProperty.call(T,U)&&C.push([U,T[U]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function m(g,T,C){return g.call.apply(g.bind,arguments)}function p(g,T,C){return p=m,p.apply(null,arguments)}function v(g,T){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function E(g,T){function C(){}C.prototype=T.prototype,g.Z=T.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(U,it,ct){for(var At=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)At[Wt-2]=arguments[Wt];return T.prototype[it].apply(U,At)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function D(g){const T=g.length;if(T>0){const C=Array(T);for(let U=0;U<T;U++)C[U]=g[U];return C}return[]}function N(g,T){for(let U=1;U<arguments.length;U++){const it=arguments[U];var C=typeof it;if(C=C!="object"?C:it?Array.isArray(it)?"array":C:"null",C=="array"||C=="object"&&typeof it.length=="number"){C=g.length||0;const ct=it.length||0;g.length=C+ct;for(let At=0;At<ct;At++)g[C+At]=it[At]}else g.push(it)}}class j{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function z(g){c.setTimeout(()=>{throw g},0)}function K(){var g=F;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class X{constructor(){this.h=this.g=null}add(T,C){const U=Y.get();U.set(T,C),this.h?this.h.next=U:this.g=U,this.h=U}}var Y=new j(()=>new ot,g=>g.reset());class ot{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let J,mt=!1,F=new X,A=()=>{const g=Promise.resolve(void 0);J=()=>{g.then(O)}};function O(){for(var g;g=K();){try{g.h.call(g.g)}catch(C){z(C)}var T=Y;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}mt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};c.addEventListener("test",C,T),c.removeEventListener("test",C,T)}catch{}return g})();function H(g){return/^[\s\xa0]*$/.test(g)}function Mt(g,T){B.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}E(Mt,B),Mt.prototype.init=function(g,T){const C=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(C=="mouseover"?T=g.fromElement:C=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Mt.Z.h.call(this)},Mt.prototype.h=function(){Mt.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),tt=0;function pt(g,T,C,U,it){this.listener=g,this.proxy=null,this.src=T,this.type=C,this.capture=!!U,this.ha=it,this.key=++tt,this.da=this.fa=!1}function dt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function St(g,T,C){for(const U in g)T.call(C,g[U],U,g)}function G(g,T){for(const C in g)T.call(void 0,g[C],C,g)}function Q(g){const T={};for(const C in g)T[C]=g[C];return T}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(g,T){let C,U;for(let it=1;it<arguments.length;it++){U=arguments[it];for(C in U)g[C]=U[C];for(let ct=0;ct<gt.length;ct++)C=gt[ct],Object.prototype.hasOwnProperty.call(U,C)&&(g[C]=U[C])}}function bt(g){this.src=g,this.g={},this.h=0}bt.prototype.add=function(g,T,C,U,it){const ct=g.toString();g=this.g[ct],g||(g=this.g[ct]=[],this.h++);const At=_t(g,T,U,it);return At>-1?(T=g[At],C||(T.fa=!1)):(T=new pt(T,this.src,ct,!!U,it),T.fa=C,g.push(T)),T};function lt(g,T){const C=T.type;if(C in g.g){var U=g.g[C],it=Array.prototype.indexOf.call(U,T,void 0),ct;(ct=it>=0)&&Array.prototype.splice.call(U,it,1),ct&&(dt(T),g.g[C].length==0&&(delete g.g[C],g.h--))}}function _t(g,T,C,U){for(let it=0;it<g.length;++it){const ct=g[it];if(!ct.da&&ct.listener==T&&ct.capture==!!C&&ct.ha==U)return it}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Ct={};function Ht(g,T,C,U,it){if(Array.isArray(T)){for(let ct=0;ct<T.length;ct++)Ht(g,T[ct],C,U,it);return null}return C=ae(C),g&&g[It]?g.J(T,C,d(U)?!!U.capture:!1,it):fe(g,T,C,!1,U,it)}function fe(g,T,C,U,it,ct){if(!T)throw Error("Invalid event type");const At=d(it)?!!it.capture:!!it;let Wt=$t(g);if(Wt||(g[Ft]=Wt=new bt(g)),C=Wt.add(T,C,U,At,ct),C.proxy)return C;if(U=qt(),C.proxy=U,U.src=g,U.listener=C,g.addEventListener)q||(it=At),it===void 0&&(it=!1),g.addEventListener(T.toString(),U,it);else if(g.attachEvent)g.attachEvent(de(T.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function qt(){function g(C){return T.call(g.src,g.listener,C)}const T=jt;return g}function ie(g,T,C,U,it){if(Array.isArray(T))for(var ct=0;ct<T.length;ct++)ie(g,T[ct],C,U,it);else U=d(U)?!!U.capture:!!U,C=ae(C),g&&g[It]?(g=g.i,ct=String(T).toString(),ct in g.g&&(T=g.g[ct],C=_t(T,C,U,it),C>-1&&(dt(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete g.g[ct],g.h--)))):g&&(g=$t(g))&&(T=g.g[T.toString()],g=-1,T&&(g=_t(T,C,U,it)),(C=g>-1?T[g]:null)&&ve(C))}function ve(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[It])lt(T.i,g);else{var C=g.type,U=g.proxy;T.removeEventListener?T.removeEventListener(C,U,g.capture):T.detachEvent?T.detachEvent(de(C),U):T.addListener&&T.removeListener&&T.removeListener(U),(C=$t(T))?(lt(C,g),C.h==0&&(C.src=null,T[Ft]=null)):dt(g)}}}function de(g){return g in Ct?Ct[g]:Ct[g]="on"+g}function jt(g,T){if(g.da)g=!0;else{T=new Mt(T,this);const C=g.listener,U=g.ha||g.src;g.fa&&ve(g),g=C.call(U,T)}return g}function $t(g){return g=g[Ft],g instanceof bt?g:null}var le="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(g){return typeof g=="function"?g:(g[le]||(g[le]=function(T){return g.handleEvent(T)}),g[le])}function Jt(){V.call(this),this.i=new bt(this),this.M=this,this.G=null}E(Jt,V),Jt.prototype[It]=!0,Jt.prototype.removeEventListener=function(g,T,C,U){ie(this,g,T,C,U)};function re(g,T){var C,U=g.G;if(U)for(C=[];U;U=U.G)C.push(U);if(g=g.M,U=T.type||T,typeof T=="string")T=new B(T,g);else if(T instanceof B)T.target=T.target||g;else{var it=T;T=new B(U,g),st(T,it)}it=!0;let ct,At;if(C)for(At=C.length-1;At>=0;At--)ct=T.g=C[At],it=dn(ct,U,!0,T)&&it;if(ct=T.g=g,it=dn(ct,U,!0,T)&&it,it=dn(ct,U,!1,T)&&it,C)for(At=0;At<C.length;At++)ct=T.g=C[At],it=dn(ct,U,!1,T)&&it}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const C=g.g[T];for(let U=0;U<C.length;U++)dt(C[U]);delete g.g[T],g.h--}}this.G=null},Jt.prototype.J=function(g,T,C,U){return this.i.add(String(g),T,!1,C,U)},Jt.prototype.K=function(g,T,C,U){return this.i.add(String(g),T,!0,C,U)};function dn(g,T,C,U){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let it=!0;for(let ct=0;ct<T.length;++ct){const At=T[ct];if(At&&!At.da&&At.capture==C){const Wt=At.listener,pe=At.ha||At.src;At.fa&&lt(g.i,At),it=Wt.call(pe,U)!==!1&&it}}return it&&!U.defaultPrevented}function Rn(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=p(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(g,T||0)}function ri(g){g.g=Rn(()=>{g.g=null,g.i&&(g.i=!1,ri(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Ke extends V{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(g){V.call(this),this.h=g,this.g={}}E(mn,V);var zt=[];function ue(g){St(g.g,function(T,C){this.g.hasOwnProperty(C)&&ve(T)},g),g.g={}}mn.prototype.N=function(){mn.Z.N.call(this),ue(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=c.JSON.stringify,_n=c.JSON.parse,jr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ki(){}function Qn(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _i(){B.call(this,"d")}E(_i,B);function Ii(){B.call(this,"c")}E(Ii,B);var Pi={},Li=null;function Ma(){return Li=Li||new Jt}Pi.Ia="serverreachability";function qo(g){B.call(this,Pi.Ia,g)}E(qo,B);function Bs(g){const T=Ma();re(T,new qo(T))}Pi.STAT_EVENT="statevent";function Ur(g,T){B.call(this,Pi.STAT_EVENT,g),this.stat=T}E(Ur,B);function en(g){const T=Ma();re(T,new Ur(T,g))}Pi.Ja="timingevent";function ql(g,T){B.call(this,Pi.Ja,g),this.size=T}E(ql,B);function or(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},T)}function lr(){this.g=!0}lr.prototype.ua=function(){this.g=!1};function Go(g,T,C,U,it,ct){g.info(function(){if(g.g)if(ct){var At="",Wt=ct.split("&");for(let Me=0;Me<Wt.length;Me++){var pe=Wt[Me].split("=");if(pe.length>1){const nn=pe[0];pe=pe[1];const Ti=nn.split("_");At=Ti.length>=2&&Ti[1]=="type"?At+(nn+"="+pe+"&"):At+(nn+"=redacted&")}}}else At=null;else At=ct;return"XMLHTTP REQ ("+U+") [attempt "+it+"]: "+T+`
`+C+`
`+At})}function $o(g,T,C,U,it,ct,At){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+it+"]: "+T+`
`+C+`
`+ct+" "+At})}function js(g,T,C,U){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+ys(g,C)+(U?" "+U:"")})}function Zo(g,T){g.info(function(){return"TIMEOUT: "+T})}lr.prototype.info=function(){};function ys(g,T){if(!g.g)return T;if(!T)return null;try{const ct=JSON.parse(T);if(ct){for(g=0;g<ct.length;g++)if(Array.isArray(ct[g])){var C=ct[g];if(!(C.length<2)){var U=C[1];if(Array.isArray(U)&&!(U.length<1)){var it=U[0];if(it!="noop"&&it!="stop"&&it!="close")for(let At=1;At<U.length;At++)U[At]=""}}}}return ze(ct)}catch{return T}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},On={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Us;function jn(){}E(jn,ki),jn.prototype.g=function(){return new XMLHttpRequest},Us=new jn;function Lt(g){return encodeURIComponent(String(g))}function Gl(g){var T=1;g=g.split(":");const C=[];for(;T>0&&g.length;)C.push(g.shift()),T--;return g.length&&C.push(g.join(":")),C}function Ni(g,T,C,U){this.j=g,this.i=T,this.l=C,this.S=U||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fs}function Fs(){this.i=null,this.g="",this.h=!1}var Fr={},Vi={};function Ji(g,T,C){g.M=1,g.A=ke(Be(T)),g.u=C,g.R=!0,yi(g,null)}function yi(g,T){g.F=Date.now(),Hr(g),g.B=Be(g.A);var C=g.B,U=g.S;Array.isArray(U)||(U=[String(U)]),Da(C.i,"t",U),g.C=0,C=g.j.L,g.h=new Fs,g.g=Jr(g.j,C?T:null,!g.u),g.P>0&&(g.O=new Ke(p(g.Y,g,g.g),g.P)),T=g.V,C=g.g,U=g.ba;var it="readystatechange";Array.isArray(it)||(it&&(zt[0]=it.toString()),it=zt);for(let ct=0;ct<it.length;ct++){const At=Ht(C,it[ct],U||T.handleEvent,!1,T.h||T);if(!At)break;T.g[At.key]=At}T=g.J?Q(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Bs(),Go(g.i,g.v,g.B,g.l,g.S,g.u)}Ni.prototype.ba=function(g){g=g.target;const T=this.O;T&&Gn(g)==3?T.j():this.Y(g)},Ni.prototype.Y=function(g){try{if(g==this.g)t:{const Wt=Gn(this.g),pe=this.g.ya(),Me=this.g.ca();if(!(Wt<3)&&(Wt!=3||this.g&&(this.h.h||this.g.la()||mr(this.g)))){this.K||Wt!=4||pe==7||(pe==8||Me<=0?Bs(3):Bs(2)),ts(this);var T=this.g.ca();this.X=T;var C=Hs(this);if(this.o=T==200,$o(this.i,this.v,this.B,this.l,this.S,Wt,T),this.o){if(this.U&&!this.L){e:{if(this.g){var U,it=this.g;if((U=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(U)){var ct=U;break e}}ct=null}if(g=ct)js(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oa(this,g);else{this.o=!1,this.m=3,en(12),vi(this),qr(this);break t}}if(this.R){g=!0;let nn;for(;!this.K&&this.C<C.length;)if(nn=$l(this,C),nn==Vi){Wt==4&&(this.m=4,en(14),g=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Fr){this.m=4,en(15),js(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else js(this.i,this.l,nn,null),Oa(this,nn);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||C.length!=0||this.h.h||(this.m=1,en(16),g=!1),this.o=this.o&&g,!g)js(this.i,this.l,C,"[Invalid Chunked Response]"),vi(this),qr(this);else if(C.length>0&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.aa&&!At.P&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Xo(At),At.P=!0,en(11))}}else js(this.i,this.l,C,null),Oa(this,C);Wt==4&&vi(this),this.o&&!this.K&&(Wt==4?li(this.j,this):(this.o=!1,Hr(this)))}else Ks(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),vi(this),qr(this)}}}catch{}finally{}};function Hs(g){if(!on(g))return g.g.la();const T=mr(g.g);if(T==="")return"";let C="";const U=T.length,it=Gn(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return vi(g),qr(g),"";g.h.i=new c.TextDecoder}for(let ct=0;ct<U;ct++)g.h.h=!0,C+=g.h.i.decode(T[ct],{stream:!(it&&ct==U-1)});return T.length=0,g.h.g+=C,g.C=0,g.h.g}function on(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function $l(g,T){var C=g.C,U=T.indexOf(`
`,C);return U==-1?Vi:(C=Number(T.substring(C,U)),isNaN(C)?Fr:(U+=1,U+C>T.length?Vi:(T=T.slice(U,U+C),g.C=U+C,T)))}Ni.prototype.cancel=function(){this.K=!0,vi(this)};function Hr(g){g.T=Date.now()+g.H,vs(g,g.H)}function vs(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=or(p(g.aa,g),T)}function ts(g){g.D&&(c.clearTimeout(g.D),g.D=null)}Ni.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Zo(this.i,this.B),this.M!=2&&(Bs(),en(17)),vi(this),this.m=2,qr(this)):vs(this,this.T-g)};function qr(g){g.j.I==0||g.K||li(g.j,g)}function vi(g){ts(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,ue(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function Oa(g,T){try{var C=g.j;if(C.I!=0&&(C.g==g||qs(C.h,g))){if(!g.L&&qs(C.h,g)&&C.I==3){try{var U=C.Ba.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var it=U;if(it[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)La(C),As(C);else break t;Yo(C),en(18)}}else C.xa=it[1],0<C.xa-C.K&&it[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=or(p(C.Va,C),6e3));zi(C.h)<=1&&C.ta&&(C.ta=void 0)}else Cs(C,11)}else if((g.L||C.g==g)&&La(C),!H(T))for(it=C.Ba.g.parse(T),T=0;T<it.length;T++){let Me=it[T];const nn=Me[0];if(!(nn<=C.K))if(C.K=nn,Me=Me[1],C.I==2)if(Me[0]=="c"){C.M=Me[1],C.ba=Me[2];const Ti=Me[3];Ti!=null&&(C.ka=Ti,C.j.info("VER="+C.ka));const ji=Me[4];ji!=null&&(C.za=ji,C.j.info("SVER="+C.za));const Si=Me[5];Si!=null&&typeof Si=="number"&&Si>0&&(U=1.5*Si,C.O=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const ss=g.g;if(ss){const rs=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var ct=U.h;ct.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(bs(ct,ct.h),ct.h=null))}if(U.G){const Ba=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(U.wa=Ba,Ot(U.J,U.G,Ba))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),U=C;var At=g;if(U.na=Qo(U,U.L?U.ba:null,U.W),At.L){xs(U.h,At);var Wt=At,pe=U.O;pe&&(Wt.H=pe),Wt.D&&(ts(Wt),Hr(Wt)),U.g=At}else Wo(U);C.i.length>0&&ns(C)}else Me[0]!="stop"&&Me[0]!="close"||Cs(C,7);else C.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Cs(C,7):oe(C):Me[0]!="noop"&&C.l&&C.l.qa(Me),C.A=0)}}Bs(4)}catch{}}var uc=class{constructor(g,T){this.g=g,this.map=T}};function Gr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function zi(g){return g.h?1:g.g?g.g.size:0}function qs(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function bs(g,T){g.g?g.g.add(T):g.h=T}function xs(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Gr.prototype.cancel=function(){if(this.i=Zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Zr(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const C of g.g.values())T=T.concat(C.G);return T}return D(g.i)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function be(g,T){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const U=g[C].indexOf("=");let it,ct=null;U>=0?(it=g[C].substring(0,U),ct=g[C].substring(U+1)):it=g[C],T(it,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}function we(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof we?(this.l=g.l,bi(this,g.j),this.o=g.o,this.g=g.g,Bi(this,g.u),this.h=g.h,ws(this,Wr(g.i)),this.m=g.m):g&&(T=String(g).match(Es))?(this.l=!1,bi(this,T[1]||"",!0),this.o=Gs(T[2]||""),this.g=Gs(T[3]||"",!0),Bi(this,T[4]),this.h=Gs(T[5]||"",!0),ws(this,T[6]||"",!0),this.m=Gs(T[7]||"")):(this.l=!1,this.i=new Fn(null,this.l))}we.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(ln(T,Ko,!0),":");var C=this.g;return(C||T=="file")&&(g.push("//"),(T=this.o)&&g.push(ln(T,Ko,!0),"@"),g.push(Lt(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(ln(C,C.charAt(0)=="/"?ai:ur,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",ln(C,Ts)),g.join("")},we.prototype.resolve=function(g){const T=Be(this);let C=!!g.j;C?bi(T,g.j):C=!!g.o,C?T.o=g.o:C=!!g.g,C?T.g=g.g:C=g.u!=null;var U=g.h;if(C)Bi(T,g.u);else if(C=!!g.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var it=T.h.lastIndexOf("/");it!=-1&&(U=T.h.slice(0,it+1)+U)}if(it=U,it==".."||it==".")U="";else if(it.indexOf("./")!=-1||it.indexOf("/.")!=-1){U=it.lastIndexOf("/",0)==0,it=it.split("/");const ct=[];for(let At=0;At<it.length;){const Wt=it[At++];Wt=="."?U&&At==it.length&&ct.push(""):Wt==".."?((ct.length>1||ct.length==1&&ct[0]!="")&&ct.pop(),U&&At==it.length&&ct.push("")):(ct.push(Wt),U=!0)}U=ct.join("/")}else U=it}return C?T.h=U:C=g.i.toString()!=="",C?ws(T,Wr(g.i)):C=!!g.m,C&&(T.m=g.m),T};function Be(g){return new we(g)}function bi(g,T,C){g.j=C?Gs(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Bi(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function ws(g,T,C){T instanceof Fn?(g.i=T,Yr(g.i,g.l)):(C||(T=ln(T,We)),g.i=new Fn(T,g.l))}function Ot(g,T,C){g.i.set(T,C)}function ke(g){return Ot(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Gs(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ln(g,T,C){return typeof g=="string"?(g=encodeURI(g).replace(T,Un),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Un(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ko=/[#\/\?@]/g,ur=/[#\?:]/g,ai=/[#\?]/g,We=/[#\?@]/g,Ts=/#/g;function Fn(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function xi(g){g.g||(g.g=new Map,g.h=0,g.i&&be(g.i,function(T,C){g.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Fn.prototype,n.add=function(g,T){xi(this),this.i=null,g=Ei(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(T),this.h+=1,this};function Kr(g,T){xi(g),T=Ei(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function $s(g,T){return xi(g),T=Ei(g,T),g.g.has(T)}n.forEach=function(g,T){xi(this),this.g.forEach(function(C,U){C.forEach(function(it){g.call(T,it,U,this)},this)},this)};function cr(g,T){xi(g);let C=[];if(typeof T=="string")$s(g,T)&&(C=C.concat(g.g.get(Ei(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)C=C.concat(g[T]);return C}n.set=function(g,T){return xi(this),this.i=null,g=Ei(this,g),$s(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=cr(this,g),g.length>0?String(g[0]):T):T};function Da(g,T,C){Kr(g,T),C.length>0&&(g.i=null,g.g.set(Ei(g,T),D(C)),g.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let U=0;U<T.length;U++){var C=T[U];const it=Lt(C);C=cr(this,C);for(let ct=0;ct<C.length;ct++){let At=it;C[ct]!==""&&(At+="="+Lt(C[ct])),g.push(At)}}return this.i=g.join("&")};function Wr(g){const T=new Fn;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Ei(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function Yr(g,T){T&&!g.j&&(xi(g),g.i=null,g.g.forEach(function(C,U){const it=U.toLowerCase();U!=it&&(Kr(this,U),Da(this,it,C))},g)),g.j=T}function hr(g,T){const C=new lr;if(c.Image){const U=new Image;U.onload=v(Dn,C,"TestLoadImage: loaded",!0,T,U),U.onerror=v(Dn,C,"TestLoadImage: error",!1,T,U),U.onabort=v(Dn,C,"TestLoadImage: abort",!1,T,U),U.ontimeout=v(Dn,C,"TestLoadImage: timeout",!1,T,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else T(!1)}function Zs(g,T){const C=new lr,U=new AbortController,it=setTimeout(()=>{U.abort(),Dn(C,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:U.signal}).then(ct=>{clearTimeout(it),ct.ok?Dn(C,"TestPingServer: ok",!0,T):Dn(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(it),Dn(C,"TestPingServer: error",!1,T)})}function Dn(g,T,C,U,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),U(C)}catch{}}function Zl(){this.g=new jr}function Kt(g){this.i=g.Sb||null,this.h=g.ab||!1}E(Kt,ki),Kt.prototype.g=function(){return new Hn(this.i,this.h)};function Hn(g,T){Jt.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Hn,Jt),n=Hn.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,es(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Te(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Te(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?qn(this):es(this),this.readyState==3&&Te(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,qn(this))},n.Na=function(g){this.g&&(this.response=g,qn(this))},n.ga=function(){this.g&&qn(this)};function qn(g){g.readyState=4,g.l=null,g.j=null,g.B=null,es(g)}n.setRequestHeader=function(g,T){this.A.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=T.next();return g.join(`\r
`)};function es(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Hn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ss(g){let T="";return St(g,function(C,U){T+=U,T+=":",T+=C,T+=`\r
`}),T}function oi(g,T,C){t:{for(U in C){var U=!1;break t}U=!0}U||(C=Ss(C),typeof g=="string"?C!=null&&Lt(C):Ot(g,T,C))}function Se(g){Jt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Se,Jt);var fr=/^https?$/i,dr=["POST","PUT"];n=Se.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,T,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Us.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(ct){Ye(this,ct);return}if(g=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var it in U)C.set(it,U[it]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ct of U.keys())C.set(ct,U.get(ct));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(ct=>ct.toLowerCase()=="content-type"),it=c.FormData&&g instanceof c.FormData,!(Array.prototype.indexOf.call(dr,T,void 0)>=0)||U||it||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,At]of C)this.g.setRequestHeader(ct,At);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ct){Ye(this,ct)}};function Ye(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,wi(g),pn(g)}function wi(g){g.A||(g.A=!0,re(g,"complete"),re(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,re(this,"complete"),re(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Se.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},n.Xa=function(){ka(this)};function ka(g){if(g.h&&typeof o<"u"){if(g.v&&Gn(g)==4)setTimeout(g.Ca.bind(g),0);else if(re(g,"readystatechange"),Gn(g)==4){g.h=!1;try{const ct=g.ca();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var C;if(!(C=T)){var U;if(U=ct===0){let At=String(g.D).match(Es)[1]||null;!At&&c.self&&c.self.location&&(At=c.self.location.protocol.slice(0,-1)),U=!fr.test(At?At.toLowerCase():"")}C=U}if(C)re(g,"complete"),re(g,"success");else{g.o=6;try{var it=Gn(g)>2?g.g.statusText:""}catch{it=""}g.l=it+" ["+g.ca()+"]",wi(g)}}finally{pn(g)}}}}function pn(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,T||re(g,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gn(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),_n(T)}};function mr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(g){const T={};g=(g.g&&Gn(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(H(g[U]))continue;var C=Gl(g[U]);const it=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ct=T[it]||[];T[it]=ct,ct.push(C)}G(T,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(g,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||T}function Qr(g){this.za=0,this.i=[],this.j=new lr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xr("baseRetryDelayMs",5e3,g),this.Za=Xr("retryDelaySeedMs",1e4,g),this.Ta=Xr("forwardChannelMaxRetries",2,g),this.va=Xr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Gr(g&&g.concurrentRequestLimit),this.Ba=new Zl,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qr.prototype,n.ka=8,n.I=1,n.connect=function(g,T,C,U){en(0),this.W=g,this.H=T||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.J=Qo(this,null,this.W),ns(this)};function oe(g){if(kn(g),g.I==3){var T=g.V++,C=Be(g.J);if(Ot(C,"SID",g.M),Ot(C,"RID",T),Ot(C,"TYPE","terminate"),Ws(g,C),T=new Ni(g,g.j,T),T.M=2,T.A=ke(Be(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=T.A,C=!0),C||(T.g=Jr(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Hr(T)}is(g)}function As(g){g.g&&(Xo(g),g.g.cancel(),g.g=null)}function kn(g){As(g),g.v&&(c.clearTimeout(g.v),g.v=null),La(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&c.clearTimeout(g.m),g.m=null)}function ns(g){if(!$r(g.h)&&!g.m){g.m=!0;var T=g.Ea;J||A(),mt||(J(),mt=!0),F.add(T,g),g.D=0}}function Kl(g,T){return zi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=or(p(g.Ea,g,T),Yl(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const it=new Ni(this,this.j,g);let ct=this.o;if(this.U&&(ct?(ct=Q(ct),st(ct,this.U)):ct=this.U),this.u!==null||this.R||(it.J=ct,ct=null),this.S)t:{for(var T=0,C=0;C<this.i.length;C++){e:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break e}U=void 0}if(U===void 0)break;if(T+=U,T>4096){T=C;break t}if(T===4096||C===this.i.length-1){T=C+1;break t}}T=1e3}else T=1e3;T=Ia(this,it,T),C=Be(this.J),Ot(C,"RID",g),Ot(C,"CVER",22),this.G&&Ot(C,"X-HTTP-Session-Id",this.G),Ws(this,C),ct&&(this.R?T="headers="+Lt(Ss(ct))+"&"+T:this.u&&oi(C,this.u,ct)),bs(this.h,it),this.Ra&&Ot(C,"TYPE","init"),this.S?(Ot(C,"$req",T),Ot(C,"SID","null"),it.U=!0,Ji(it,C,null)):Ji(it,C,T),this.I=2}}else this.I==3&&(g?Wl(this,g):this.i.length==0||$r(this.h)||Wl(this))};function Wl(g,T){var C;T?C=T.l:C=g.V++;const U=Be(g.J);Ot(U,"SID",g.M),Ot(U,"RID",C),Ot(U,"AID",g.K),Ws(g,U),g.u&&g.o&&oi(U,g.u,g.o),C=new Ni(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Ia(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),bs(g.h,C),Ji(C,U,T)}function Ws(g,T){g.H&&St(g.H,function(C,U){Ot(T,U,C)}),g.l&&St({},function(C,U){Ot(T,U,C)})}function Ia(g,T,C){C=Math.min(g.i.length,C);const U=g.l?p(g.l.Ka,g.l,g):null;t:{var it=g.i;let Wt=-1;for(;;){const pe=["count="+C];Wt==-1?C>0?(Wt=it[0].g,pe.push("ofs="+Wt)):Wt=0:pe.push("ofs="+Wt);let Me=!0;for(let nn=0;nn<C;nn++){var ct=it[nn].g;const Ti=it[nn].map;if(ct-=Wt,ct<0)Wt=Math.max(0,it[nn].g-100),Me=!1;else try{ct="req"+ct+"_"||"";try{var At=Ti instanceof Map?Ti:Object.entries(Ti);for(const[ji,Si]of At){let ss=Si;d(Si)&&(ss=ze(Si)),pe.push(ct+ji+"="+encodeURIComponent(ss))}}catch(ji){throw pe.push(ct+"type="+encodeURIComponent("_badmap")),ji}}catch{U&&U(Ti)}}if(Me){At=pe.join("&");break t}}At=void 0}return g=g.i.splice(0,C),T.G=g,At}function Wo(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;J||A(),mt||(J(),mt=!0),F.add(T,g),g.A=0}}function Yo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=or(p(g.Da,g),Yl(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,Pa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=or(p(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),As(this),Pa(this))};function Xo(g){g.B!=null&&(c.clearTimeout(g.B),g.B=null)}function Pa(g){g.g=new Ni(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Be(g.na);Ot(T,"RID","rpc"),Ot(T,"SID",g.M),Ot(T,"AID",g.K),Ot(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ot(T,"TO",g.ia),Ot(T,"TYPE","xmlhttp"),Ws(g,T),g.u&&g.o&&oi(T,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=ke(Be(T)),C.u=null,C.R=!0,yi(C,g)}n.Va=function(){this.C!=null&&(this.C=null,As(this),Yo(this),en(19))};function La(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function li(g,T){var C=null;if(g.g==T){La(g),Xo(g),g.g=null;var U=2}else if(qs(g.h,T))C=T.G,xs(g.h,T),U=1;else return;if(g.I!=0){if(T.o)if(U==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var it=g.D;U=Ma(),re(U,new ql(U,C)),ns(g)}else Wo(g);else if(it=T.m,it==3||it==0&&T.X>0||!(U==1&&Kl(g,T)||U==2&&Yo(g)))switch(C&&C.length>0&&(T=g.h,T.i=T.i.concat(C)),it){case 1:Cs(g,5);break;case 4:Cs(g,10);break;case 3:Cs(g,6);break;default:Cs(g,2)}}}function Yl(g,T){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*T}function Cs(g,T){if(g.j.info("Error code "+T),T==2){var C=p(g.bb,g),U=g.Ua;const it=!U;U=new we(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bi(U,"https"),ke(U),it?hr(U.toString(),C):Zs(U.toString(),C)}else en(2);g.I=0,g.l&&g.l.pa(T),is(g),kn(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function is(g){if(g.I=0,g.ja=[],g.l){const T=Zr(g.h);(T.length!=0||g.i.length!=0)&&(N(g.ja,T),N(g.ja,g.i),g.h.i.length=0,D(g.i),g.i.length=0),g.l.oa()}}function Qo(g,T,C){var U=C instanceof we?Be(C):new we(C);if(U.g!="")T&&(U.g=T+"."+U.g),Bi(U,U.u);else{var it=c.location;U=it.protocol,T=T?T+"."+it.hostname:it.hostname,it=+it.port;const ct=new we(null);U&&bi(ct,U),T&&(ct.g=T),it&&Bi(ct,it),C&&(ct.h=C),U=ct}return C=g.G,T=g.wa,C&&T&&Ot(U,C,T),Ot(U,"VER",g.ka),Ws(g,U),U}function Jr(g,T,C){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Se(new Kt({ab:C})):new Se(g.ma),T.Fa(g.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Na(){}n=Na.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Va(){}Va.prototype.g=function(g,T){return new $n(g,T)};function $n(g,T){Jt.call(this),this.g=new Qr(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!H(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!H(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new pr(this)}E($n,Jt),$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){oe(this.g)},$n.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=ze(g),g=C);T.i.push(new uc(T.Ya++,g)),T.I==3&&ns(T)},$n.prototype.N=function(){this.g.l=null,delete this.j,oe(this.g),delete this.g,$n.Z.N.call(this)};function za(g){_i.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){t:{for(const C in T){g=C;break t}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}E(za,_i);function Xl(){Ii.call(this),this.status=1}E(Xl,Ii);function pr(g){this.g=g}E(pr,Na),pr.prototype.ra=function(){re(this.g,"a")},pr.prototype.qa=function(g){re(this.g,new za(g))},pr.prototype.pa=function(g){re(this.g,new Xl)},pr.prototype.oa=function(){re(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,dT=function(){return new Va},fT=function(){return Ma()},hT=Pi,x_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Td=an,On.COMPLETE="complete",cT=On,Qn.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,sh=Qn,Se.prototype.listenOnce=Se.prototype.K,Se.prototype.getLastError=Se.prototype.Ha,Se.prototype.getLastErrorCode=Se.prototype.ya,Se.prototype.getStatus=Se.prototype.ca,Se.prototype.getResponseJson=Se.prototype.La,Se.prototype.getResponseText=Se.prototype.la,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Fa,uT=Se}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});const V1="@firebase/firestore",z1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Jw("@firebase/firestore");function Iu(){return Pl.logLevel}function kt(n,...t){if(Pl.logLevel<=Re.DEBUG){const e=t.map(ly);Pl.debug(`Firestore (${ec}): ${n}`,...e)}}function Sa(n,...t){if(Pl.logLevel<=Re.ERROR){const e=t.map(ly);Pl.error(`Firestore (${ec}): ${n}`,...e)}}function qu(n,...t){if(Pl.logLevel<=Re.WARN){const e=t.map(ly);Pl.warn(`Firestore (${ec}): ${n}`,...e)}}function ly(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,mT(n,i,e)}function mT(n,t,e){let i=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Sa(i),new Error(i)}function Pe(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||mT(t,r,i)}function se(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends Bl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(di.UNAUTHENTICATED)))}shutdown(){}}class LD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ND{constructor(t){this.t=t,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Pe(this.o===void 0,42304);let i=this.i;const r=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let o=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ea,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const m=o;t.enqueueRetryable((async()=>{await m.promise,await r(this.currentUser)}))},d=m=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ea)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pe(typeof i.accessToken=="string",31837,{l:i}),new pT(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new di(t)}}class VD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=di.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new VD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(di.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,iT(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Pe(this.o===void 0,3512);const i=o=>{o.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,kt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Pe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new B1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=jD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function xe(n,t){return n<t?-1:n>t?1:0}function E_(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Bg(r)===Bg(o)?xe(r,o):Bg(r)?1:-1}return xe(n.length,t.length)}const UD=55296,FD=57343;function Bg(n){const t=n.charCodeAt(0);return t>=UD&&t<=FD}function Gu(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__name__";class Cr{constructor(t,e,i){e===void 0?e=0:e>t.length&&Qt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Qt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Cr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Cr?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Cr.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return xe(t.length,e.length)}static compareSegments(t,e){const i=Cr.isNumericId(t),r=Cr.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Cr.extractNumericId(t).compare(Cr.extractNumericId(e)):E_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ao.fromString(t.substring(4,t.length-2))}}class Je extends Cr{construct(t,e,i){return new Je(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new Je(e)}static emptyPath(){return new Je([])}}const HD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends Cr{construct(t,e,i){return new ii(t,e,i)}static isValidIdentifier(t){return HD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j1}static keyField(){return new ii([j1])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new Vt(Tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if(d==="\\"){if(r+1===t.length)throw new Vt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Vt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else d==="`"?(c=!c,r++):d!=="."||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Vt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ii(e)}static emptyPath(){return new ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.path=t}static fromPath(t){return new Gt(Je.fromString(t))}static fromName(t){return new Gt(Je.fromString(t).popFirst(5))}static empty(){return new Gt(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Je.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Je.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Gt(new Je(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,t,e){if(!e)throw new Vt(Tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qD(n,t,e,i){if(t===!0&&i===!0)throw new Vt(Tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function U1(n){if(!Gt.isDocumentKey(n))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F1(n){if(Gt.isDocumentKey(n))throw new Vt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _T(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function cy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Qt(12329,{type:typeof n})}function Ir(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Vt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cy(n);throw new Vt(Tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,t){const e={typeString:n};return t&&(e.value=t),e}function Fh(n,t){if(!_T(n))throw new Vt(Tt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new Vt(Tt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=-62135596800,q1=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(t){return tn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*q1);return new tn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<H1)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q1}_compareTo(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fh(t,tn._jsonSchema))return new tn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:Cn("string",tn._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(t){return new ne(t)}static min(){return new ne(new tn(0,0))}static max(){return new ne(new tn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=-1;function GD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ne.fromTimestamp(i===1e9?new tn(e+1,0):new tn(e,i));return new ko(r,Gt.empty(),t)}function $D(n){return new ko(n.readTime,n.key,Th)}class ko{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ko(ne.min(),Gt.empty(),Th)}static max(){return new ko(ne.max(),Gt.empty(),Th)}}function ZD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Gt.comparator(n.documentKey,t.documentKey),e!==0?e:xe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(n){if(n.code!==Tt.FAILED_PRECONDITION||n.message!==KD)throw n;kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Et(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Et?e:Et.resolve(e)}catch(e){return Et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Et.reject(e)}static resolve(t){return new Et(((e,i)=>{e(t)}))}static reject(t){return new Et(((e,i)=>{i(t)}))}static waitFor(t){return new Et(((e,i)=>{let r=0,o=0,c=!1;t.forEach((d=>{++r,d.next((()=>{++o,c&&o===r&&e()}),(m=>i(m)))})),c=!0,o===r&&e()}))}static or(t){let e=Et.resolve(!1);for(const i of t)e=e.next((r=>r?Et.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new Et(((i,r)=>{const o=t.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const p=m;e(t[p]).next((v=>{c[p]=v,++d,d===o&&i(c)}),(v=>r(v)))}}))}static doWhile(t,e){return new Et(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function YD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ic(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function _m(n){return n==null}function jd(n){return n===0&&1/n==-1/0}function XD(n){return typeof n=="number"&&Number.isInteger(n)&&!jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function QD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=G1(t)),t=JD(n.get(e),t);return G1(t)}function JD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case yT:e+="";break;default:e+=o}}return e}function G1(n){return n+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,e){this.comparator=t,this.root=e||ni.EMPTY}insert(t,e){return new fn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(t){return new fn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ni.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new id(this.root,t,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new id(this.root,t,this.comparator,!0)}}class id{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ni{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ni.RED,this.left=r??ni.EMPTY,this.right=o??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ni(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return ni.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Qt(27949);return t+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new ni(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.comparator=t,this.data=new fn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Z1(this.data.getIterator())}getIteratorFrom(t){return new Z1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Bn(this.comparator);return e.data=t,e}}class Z1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this.fields=t,t.sort(ii.comparator)}static empty(){return new _s([])}unionWith(t){let e=new Bn(ii.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _s(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gu(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bT("Invalid base64 string: "+o):o}})(t);return new si(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new si(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}si.EMPTY_BYTE_STRING=new si("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(n){if(Pe(!!n,39018),typeof n=="string"){let t=0;const e=tk.exec(n);if(Pe(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Po(n){return typeof n=="string"?si.fromBase64String(n):si.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",ET="__type__",wT="__previous_value__",TT="__local_write_time__";function fy(n){return(n?.mapValue?.fields||{})[ET]?.stringValue===xT}function ym(n){const t=n.mapValue.fields[wT];return fy(t)?ym(t):t}function Sh(n){const t=Io(n.mapValue.fields[TT].timestampValue);return new tn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,e,i,r,o,c,d,m,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ud="(default)";class Ah{constructor(t,e){this.projectId=t,this.database=e||Ud}static empty(){return new Ah("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(t){return t instanceof Ah&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",nk="__max__",sd={mapValue:{}},AT="__vector__",Fd="value";function Lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fy(n)?4:sk(n)?9007199254740991:ik(n)?10:11:Qt(28295,{value:n})}function Pr(n,t){if(n===t)return!0;const e=Lo(n);if(e!==Lo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Sh(n).isEqual(Sh(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Io(r.timestampValue),d=Io(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Po(r.bytesValue).isEqual(Po(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return xn(r.geoPointValue.latitude)===xn(o.geoPointValue.latitude)&&xn(r.geoPointValue.longitude)===xn(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return xn(r.integerValue)===xn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=xn(r.doubleValue),d=xn(o.doubleValue);return c===d?jd(c)===jd(d):isNaN(c)&&isNaN(d)}return!1})(n,t);case 9:return Gu(n.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if($1(c)!==$1(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Pr(c[m],d[m])))return!1;return!0})(n,t);default:return Qt(52216,{left:n})}}function Ch(n,t){return(n.values||[]).find((e=>Pr(e,t)))!==void 0}function $u(n,t){if(n===t)return 0;const e=Lo(n),i=Lo(t);if(e!==i)return xe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const d=xn(o.integerValue||o.doubleValue),m=xn(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,t);case 3:return K1(n.timestampValue,t.timestampValue);case 4:return K1(Sh(n),Sh(t));case 5:return E_(n.stringValue,t.stringValue);case 6:return(function(o,c){const d=Po(o),m=Po(c);return d.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const d=o.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=xe(d[p],m[p]);if(v!==0)return v}return xe(d.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const d=xe(xn(o.latitude),xn(c.latitude));return d!==0?d:xe(xn(o.longitude),xn(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return W1(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const d=o.fields||{},m=c.fields||{},p=d[Fd]?.arrayValue,v=m[Fd]?.arrayValue,E=xe(p?.values?.length||0,v?.values?.length||0);return E!==0?E:W1(p,v)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===sd.mapValue&&c===sd.mapValue)return 0;if(o===sd.mapValue)return 1;if(c===sd.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const w=E_(m[E],v[E]);if(w!==0)return w;const D=$u(d[m[E]],p[v[E]]);if(D!==0)return D}return xe(m.length,v.length)})(n.mapValue,t.mapValue);default:throw Qt(23264,{he:e})}}function K1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return xe(n,t);const e=Io(n),i=Io(t),r=xe(e.seconds,i.seconds);return r!==0?r:xe(e.nanos,i.nanos)}function W1(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=$u(e[r],i[r]);if(o)return o}return xe(e.length,i.length)}function Zu(n){return w_(n)}function w_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Io(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Po(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Gt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=w_(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${w_(e.fields[c])}`;return r+"}"})(n.mapValue):Qt(61005,{value:n})}function Sd(n){switch(Lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ym(n);return t?16+Sd(t):16;case 5:return 2*n.stringValue.length;case 6:return Po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Sd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Fo(i.fields,((o,c)=>{r+=o.length+Sd(c)})),r})(n.mapValue);default:throw Qt(13486,{value:n})}}function T_(n){return!!n&&"integerValue"in n}function dy(n){return!!n&&"arrayValue"in n}function Y1(n){return!!n&&"nullValue"in n}function X1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ad(n){return!!n&&"mapValue"in n}function ik(n){return(n?.mapValue?.fields||{})[ST]?.stringValue===AT}function mh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Fo(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=mh(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mh(n.arrayValue.values[e]);return t}return{...n}}function sk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.value=t}static empty(){return new Zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ad(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(e)}setAll(t){let e=ii.emptyPath(),i={},r=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=mh(c):r.push(d.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Ad(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ad(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Fo(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Zi(mh(this.value))}}function CT(n){const t=[];return Fo(n.fields,((e,i)=>{const r=new ii([e]);if(Ad(i)){const o=CT(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new _s(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,e,i,r,o,c,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(t){return new mi(t,0,ne.min(),ne.min(),ne.min(),Zi.empty(),0)}static newFoundDocument(t,e,i,r){return new mi(t,1,e,ne.min(),i,r,0)}static newNoDocument(t,e){return new mi(t,2,e,ne.min(),ne.min(),Zi.empty(),0)}static newUnknownDocument(t,e){return new mi(t,3,e,ne.min(),ne.min(),Zi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,e){this.position=t,this.inclusive=e}}function Q1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=Gt.comparator(Gt.fromName(c.referenceValue),e.key):i=$u(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function J1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,e="asc"){this.field=t,this.dir=e}}function rk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class Ln extends RT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ok(t,e,i):e==="array-contains"?new ck(t,i):e==="in"?new hk(t,i):e==="not-in"?new fk(t,i):e==="array-contains-any"?new dk(t,i):new Ln(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new lk(t,i):new uk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison($u(e,this.value)):e!==null&&Lo(this.value)===Lo(e)&&this.matchesComparison($u(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends RT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Lr(t,e)}matches(t){return MT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MT(n){return n.op==="and"}function OT(n){return ak(n)&&MT(n)}function ak(n){for(const t of n.filters)if(t instanceof Lr)return!1;return!0}function S_(n){if(n instanceof Ln)return n.field.canonicalString()+n.op.toString()+Zu(n.value);if(OT(n))return n.filters.map((t=>S_(t))).join(",");{const t=n.filters.map((e=>S_(e))).join(",");return`${n.op}(${t})`}}function DT(n,t){return n instanceof Ln?(function(i,r){return r instanceof Ln&&i.op===r.op&&i.field.isEqual(r.field)&&Pr(i.value,r.value)})(n,t):n instanceof Lr?(function(i,r){return r instanceof Lr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,d)=>o&&DT(c,r.filters[d])),!0):!1})(n,t):void Qt(19439)}function kT(n){return n instanceof Ln?(function(e){return`${e.field.canonicalString()} ${e.op} ${Zu(e.value)}`})(n):n instanceof Lr?(function(e){return e.op.toString()+" {"+e.getFilters().map(kT).join(" ,")+"}"})(n):"Filter"}class ok extends Ln{constructor(t,e,i){super(t,e,i),this.key=Gt.fromName(i.referenceValue)}matches(t){const e=Gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lk extends Ln{constructor(t,e){super(t,"in",e),this.keys=IT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class uk extends Ln{constructor(t,e){super(t,"not-in",e),this.keys=IT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function IT(n,t){return(t.arrayValue?.values||[]).map((e=>Gt.fromName(e.referenceValue)))}class ck extends Ln{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return dy(e)&&Ch(e.arrayValue,this.value)}}class hk extends Ln{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ch(this.value.arrayValue,e)}}class fk extends Ln{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ch(this.value.arrayValue,e)}}class dk extends Ln{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!dy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Ch(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function tx(n,t=null,e=[],i=[],r=null,o=null,c=null){return new mk(n,t,e,i,r,o,c)}function my(n){const t=se(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>S_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),_m(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Zu(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Zu(i))).join(",")),t.Te=e}return t.Te}function py(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!rk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!DT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!J1(n.startAt,t.startAt)&&J1(n.endAt,t.endAt)}function A_(n){return Gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pk(n,t,e,i,r,o,c,d){return new vm(n,t,e,i,r,o,c,d)}function gy(n){return new vm(n)}function ex(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gk(n){return n.collectionGroup!==null}function ph(n){const t=se(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bn(ii.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new qd(o,i))})),e.has(ii.keyField().canonicalString())||t.Ie.push(new qd(ii.keyField(),i))}return t.Ie}function Rr(n){const t=se(n);return t.Ee||(t.Ee=_k(t,ph(n))),t.Ee}function _k(n,t){if(n.limitType==="F")return tx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new qd(r.field,o)}));const e=n.endAt?new Hd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Hd(n.startAt.position,n.startAt.inclusive):null;return tx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function C_(n,t,e){return new vm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bm(n,t){return py(Rr(n),Rr(t))&&n.limitType===t.limitType}function PT(n){return`${my(Rr(n))}|lt:${n.limitType}`}function Pu(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>kT(r))).join(", ")}]`),_m(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Zu(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Zu(r))).join(",")),`Target(${i})`})(Rr(n))}; limitType=${n.limitType})`}function xm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Gt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of ph(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,d,m){const p=Q1(c,d,m);return c.inclusive?p<=0:p<0})(i.startAt,ph(i),r)||i.endAt&&!(function(c,d,m){const p=Q1(c,d,m);return c.inclusive?p>=0:p>0})(i.endAt,ph(i),r))})(n,t)}function yk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LT(n){return(t,e)=>{let i=!1;for(const r of ph(n)){const o=vk(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function vk(n,t,e){const i=n.field.isKeyField()?Gt.comparator(t.key,e.key):(function(o,c,d){const m=c.data.field(o),p=d.data.field(o);return m!==null&&p!==null?$u(m,p):Qt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Qt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Fo(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new fn(Gt.comparator);function Aa(){return bk}const NT=new fn(Gt.comparator);function rh(...n){let t=NT;for(const e of n)t=t.insert(e.key,e);return t}function VT(n){let t=NT;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ml(){return gh()}function zT(){return gh()}function gh(){return new jl((n=>n.toString()),((n,t)=>n.isEqual(t)))}const xk=new fn(Gt.comparator),Ek=new Bn(Gt.comparator);function Ee(...n){let t=Ek;for(const e of n)t=t.add(e);return t}const wk=new Bn(xe);function Tk(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(t)?"-0":t}}function BT(n){return{integerValue:""+n}}function Sk(n,t){return XD(t)?BT(t):_y(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this._=void 0}}function Ak(n,t,e){return n instanceof Gd?(function(r,o){const c={fields:{[ET]:{stringValue:xT},[TT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&fy(o)&&(o=ym(o)),o&&(c.fields[wT]=o),{mapValue:c}})(e,t):n instanceof Rh?UT(n,t):n instanceof Mh?FT(n,t):(function(r,o){const c=jT(r,o),d=nx(c)+nx(r.Ae);return T_(c)&&T_(r.Ae)?BT(d):_y(r.serializer,d)})(n,t)}function Ck(n,t,e){return n instanceof Rh?UT(n,t):n instanceof Mh?FT(n,t):e}function jT(n,t){return n instanceof $d?(function(i){return T_(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Gd extends Em{}class Rh extends Em{constructor(t){super(),this.elements=t}}function UT(n,t){const e=HT(t);for(const i of n.elements)e.some((r=>Pr(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Mh extends Em{constructor(t){super(),this.elements=t}}function FT(n,t){let e=HT(t);for(const i of n.elements)e=e.filter((r=>!Pr(r,i)));return{arrayValue:{values:e}}}class $d extends Em{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function nx(n){return xn(n.integerValue||n.doubleValue)}function HT(n){return dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Rk(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Rh&&r instanceof Rh||i instanceof Mh&&r instanceof Mh?Gu(i.elements,r.elements,Pr):i instanceof $d&&r instanceof $d?Pr(i.Ae,r.Ae):i instanceof Gd&&r instanceof Gd})(n.transform,t.transform)}class Mk{constructor(t,e){this.version=t,this.transformResults=e}}class Yi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Yi}static exists(t){return new Yi(void 0,t)}static updateTime(t){return new Yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class wm{}function qT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Tm(n.key,Yi.none()):new Hh(n.key,n.data,Yi.none());{const e=n.data,i=Zi.empty();let r=new Bn(ii.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ho(n.key,i,new _s(r.toArray()),Yi.none())}}function Ok(n,t,e){n instanceof Hh?(function(r,o,c){const d=r.value.clone(),m=sx(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,t,e):n instanceof Ho?(function(r,o,c){if(!Cd(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=sx(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(GT(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function _h(n,t,e,i){return n instanceof Hh?(function(o,c,d,m){if(!Cd(o.precondition,c))return d;const p=o.value.clone(),v=rx(o.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ho?(function(o,c,d,m){if(!Cd(o.precondition,c))return d;const p=rx(o.fieldTransforms,m,c),v=c.data;return v.setAll(GT(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((E=>E.field)))})(n,t,e,i):(function(o,c,d){return Cd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,t,e)}function Dk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=jT(i.transform,r||null);o!=null&&(e===null&&(e=Zi.empty()),e.set(i.field,o))}return e||null}function ix(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Gu(i,r,((o,c)=>Rk(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Hh extends wm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ho extends wm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GT(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function sx(n,t,e){const i=new Map;Pe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,Ck(c,d,e[r]))}return i}function rx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,Ak(o,c,t))}return i}class Tm extends wm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends wm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Ok(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=_h(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=_h(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=zT();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=e.has(r.key)?null:d;const m=qT(c,d);m!==null&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(ne.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ee())}isEqual(t){return this.batchId===t.batchId&&Gu(this.mutations,t.mutations,((e,i)=>ix(e,i)))&&Gu(this.baseMutations,t.baseMutations,((e,i)=>ix(e,i)))}}class yy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Pe(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return xk})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new yy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,Ce;function Nk(n){switch(n){case Tt.OK:return Qt(64938);case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return Qt(15467,{code:n})}}function $T(n){if(n===void 0)return Sa("GRPC error has no .code"),Tt.UNKNOWN;switch(n){case Sn.OK:return Tt.OK;case Sn.CANCELLED:return Tt.CANCELLED;case Sn.UNKNOWN:return Tt.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return Tt.INTERNAL;case Sn.UNAVAILABLE:return Tt.UNAVAILABLE;case Sn.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case Sn.NOT_FOUND:return Tt.NOT_FOUND;case Sn.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case Sn.ABORTED:return Tt.ABORTED;case Sn.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case Sn.DATA_LOSS:return Tt.DATA_LOSS;default:return Qt(39323,{code:n})}}(Ce=Sn||(Sn={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new Ao([4294967295,4294967295],0);function ax(n){const t=Vk().encode(n),e=new lT;return e.update(t),new Uint8Array(e.digest())}function ox(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ao([e,i],0),new Ao([r,o],0)]}class vy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ah(`Invalid padding: ${e}`);if(i<0)throw new ah(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ah(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ao.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Ao.fromNumber(i)));return r.compare(zk)===1&&(r=new Ao([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=ax(t),[i,r]=ox(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new vy(o,r,e);return i.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=ax(t),[i,r]=ox(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,qh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Sm(ne.min(),r,new fn(xe),Aa(),Ee())}}class qh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new qh(i,e,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class ZT{constructor(t,e){this.targetId=t,this.Ce=e}}class KT{constructor(t,e,i=si.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class lx{constructor(){this.ve=0,this.Fe=ux(),this.Me=si.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ee(),e=Ee(),i=Ee();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Qt(38017,{changeType:o})}})),new qh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=ux()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Aa(),this.Je=rd(),this.He=rd(),this.Ye=new fn(xe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Qt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(A_(o))if(i===0){const c=new Gt(o.path);this.et(e,c,mi.newNoDocument(c,ne.min()))}else Pe(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,d;try{c=Po(i).toUint8Array()}catch(m){if(m instanceof bT)return qu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new vy(c,r,o)}catch(m){return qu(m instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(d)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&A_(d.target)){const m=new Gt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,mi.newNoDocument(m,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ee();this.He.forEach(((o,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new Sm(t,e,this.Ye,this.je,i);return this.je=Aa(),this.Je=rd(),this.He=rd(),this.Ye=new fn(xe),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new lx,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Bn(xe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Bn(xe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||kt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lx),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rd(){return new fn(Gt.comparator)}function ux(){return new fn(Gt.comparator)}const jk={asc:"ASCENDING",desc:"DESCENDING"},Uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fk={and:"AND",or:"OR"};class Hk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function R_(n,t){return n.useProto3Json||_m(t)?t:{value:t}}function Zd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function qk(n,t){return Zd(n,t.toTimestamp())}function Mr(n){return Pe(!!n,49232),ne.fromTimestamp((function(e){const i=Io(e);return new tn(i.seconds,i.nanos)})(n))}function by(n,t){return M_(n,t).canonicalString()}function M_(n,t){const e=(function(r){return new Je(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function YT(n){const t=Je.fromString(n);return Pe(eS(t),10190,{key:t.toString()}),t}function O_(n,t){return by(n.databaseId,t.path)}function jg(n,t){const e=YT(t);if(e.get(1)!==n.databaseId.projectId)throw new Vt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Vt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Gt(QT(e))}function XT(n,t){return by(n.databaseId,t)}function Gk(n){const t=YT(n);return t.length===4?Je.emptyPath():QT(t)}function D_(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QT(n){return Pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cx(n,t,e){return{name:O_(n,t),fields:e.value.mapValue.fields}}function $k(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Qt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(Pe(v===void 0||typeof v=="string",58123),si.fromBase64String(v||"")):(Pe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),si.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?Tt.UNKNOWN:$T(p.code);return new Vt(v,p.message||"")})(c);e=new KT(i,r,o,d||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=jg(n,i.document.name),o=Mr(i.document.updateTime),c=i.document.createTime?Mr(i.document.createTime):ne.min(),d=new Zi({mapValue:{fields:i.document.fields}}),m=mi.newFoundDocument(r,o,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];e=new Rd(p,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=jg(n,i.document),o=i.readTime?Mr(i.readTime):ne.min(),c=mi.newNoDocument(r,o),d=i.removedTargetIds||[];e=new Rd([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=jg(n,i.document),o=i.removedTargetIds||[];e=new Rd([],o,r,null)}else{if(!("filter"in t))return Qt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Lk(r,o),d=i.targetId;e=new ZT(d,c)}}return e}function Zk(n,t){let e;if(t instanceof Hh)e={update:cx(n,t.key,t.value)};else if(t instanceof Tm)e={delete:O_(n,t.key)};else if(t instanceof Ho)e={update:cx(n,t.key,t.data),updateMask:nI(t.fieldMask)};else{if(!(t instanceof kk))return Qt(16599,{Vt:t.type});e={verify:O_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const d=c.transform;if(d instanceof Gd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Mh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $d)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Qt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:qk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qt(27497)})(n,t.precondition)),e}function Kk(n,t){return n&&n.length>0?(Pe(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?Mr(r.updateTime):Mr(o);return c.isEqual(ne.min())&&(c=Mr(o)),new Mk(c,r.transformResults||[])})(e,t)))):[]}function Wk(n,t){return{documents:[XT(n,t.path)]}}function Yk(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=XT(n,r);const o=(function(p){if(p.length!==0)return tS(Lr.create(p,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Lu(w.field),direction:Jk(w.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=R_(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:r}}function Xk(n){let t=Gk(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pe(i===1,65062);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(E){const w=JT(E);return w instanceof Lr&&OT(w)?w.getFilters():[w]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((w=>(function(N){return new qd(Nu(N.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(e.orderBy));let d=null;e.limit&&(d=(function(E){let w;return w=typeof E=="object"?E.value:E,_m(w)?null:w})(e.limit));let m=null;e.startAt&&(m=(function(E){const w=!!E.before,D=E.values||[];return new Hd(D,w)})(e.startAt));let p=null;return e.endAt&&(p=(function(E){const w=!E.before,D=E.values||[];return new Hd(D,w)})(e.endAt)),pk(t,r,c,o,d,"F",m,p)}function Qk(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function JT(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Nu(e.unaryFilter.field);return Ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Nu(e.unaryFilter.field);return Ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(e.unaryFilter.field);return Ln.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nu(e.unaryFilter.field);return Ln.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qt(61313);default:return Qt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ln.create(Nu(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qt(58110);default:return Qt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Lr.create(e.compositeFilter.filters.map((i=>JT(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Qt(1026)}})(e.compositeFilter.op))})(n):Qt(30097,{filter:n})}function Jk(n){return jk[n]}function tI(n){return Uk[n]}function eI(n){return Fk[n]}function Lu(n){return{fieldPath:n.canonicalString()}}function Nu(n){return ii.fromServerFormat(n.fieldPath)}function tS(n){return n instanceof Ln?(function(e){if(e.op==="=="){if(X1(e.value))return{unaryFilter:{field:Lu(e.field),op:"IS_NAN"}};if(Y1(e.value))return{unaryFilter:{field:Lu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(X1(e.value))return{unaryFilter:{field:Lu(e.field),op:"IS_NOT_NAN"}};if(Y1(e.value))return{unaryFilter:{field:Lu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(e.field),op:tI(e.op),value:e.value}}})(n):n instanceof Lr?(function(e){const i=e.getFilters().map((r=>tS(r)));return i.length===1?i[0]:{compositeFilter:{op:eI(e.op),filters:i}}})(n):Qt(54877,{filter:n})}function nI(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function eS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,e,i,r,o=ne.min(),c=ne.min(),d=si.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new vo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.yt=t}}function sI(n){const t=Xk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?C_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Cn=new aI}addToCollectionParentIndex(t,e){return this.Cn.add(e),Et.resolve()}getCollectionParents(t,e){return Et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Et.resolve()}deleteFieldIndex(t,e){return Et.resolve()}deleteAllFieldIndexes(t){return Et.resolve()}createTargetIndexes(t,e){return Et.resolve()}getDocumentsMatchingTarget(t,e){return Et.resolve(null)}getIndexType(t,e){return Et.resolve(0)}getFieldIndexes(t,e){return Et.resolve([])}getNextCollectionGroupToUpdate(t){return Et.resolve(null)}getMinOffset(t,e){return Et.resolve(ko.min())}getMinOffsetFromCollectionGroup(t,e){return Et.resolve(ko.min())}updateCollectionGroup(t,e,i){return Et.resolve()}updateIndexEntries(t,e){return Et.resolve()}}class aI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Bn(Je.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Bn(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class $i{static withCacheSize(t){return new $i(t,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(nS,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ku(0)}static cr(){return new Ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="LruGarbageCollector",oI=1048576;function dx([n,t],[e,i]){const r=xe(n,e);return r===0?xe(t,i):r}class lI{constructor(t){this.Ir=t,this.buffer=new Bn(dx),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();dx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class uI{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){kt(fx,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ic(e)?kt(fx,"Ignoring IndexedDB error during garbage collection: ",e):await nc(e)}await this.Vr(3e5)}))}}class cI{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return Et.resolve(gm.ce);const i=new lI(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(hx)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hx):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,d,m,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r)))).next((E=>(i=E,d=Date.now(),this.removeTargets(t,i,e)))).next((E=>(o=E,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((E=>(p=Date.now(),Iu()<=Re.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${r} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E}))))}}function hI(n,t){return new cI(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.changes=new jl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,mi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&_h(i.mutation,r,_s.empty(),tn.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ee()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ee()){const r=Ml();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=rh();return o.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ml();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ee())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,i,r){let o=Aa();const c=gh(),d=(function(){return gh()})();return e.forEach(((m,p)=>{const v=i.get(p.key);r.has(p.key)&&(v===void 0||v.mutation instanceof Ho)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),_h(v.mutation,p,v.mutation.getFieldMask(),tn.now())):c.set(p.key,_s.empty())})),this.recalculateAndSaveOverlays(t,o).next((m=>(m.forEach(((p,v)=>c.set(p,v))),e.forEach(((p,v)=>d.set(p,new dI(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,e){const i=gh();let r=new fn(((c,d)=>c-d)),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let v=i.get(m)||_s.empty();v=d.applyToLocalView(p,v),i.set(m,v);const E=(r.get(d.batchId)||Ee()).add(m);r=r.insert(d.batchId,E)}))})).next((()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,E=zT();v.forEach((w=>{if(!o.has(w)){const D=qT(e.get(w),i.get(w));D!==null&&E.set(w,D),o=o.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,E))}return Et.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return Gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Et.resolve(Ml());let d=Th,m=o;return c.next((p=>Et.forEach(p,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),o.get(v)?Et.resolve():this.remoteDocumentCache.getEntry(t,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(t,p,o))).next((()=>this.computeViews(t,m,p,Ee()))).next((v=>({batchId:d,changes:VT(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Gt(e)).next((i=>{let r=rh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=rh();return this.indexManager.getCollectionParents(t,o).next((d=>Et.forEach(d,(m=>{const p=(function(E,w){return new vm(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,m.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,i,r).next((v=>{v.forEach(((E,w)=>{c=c.insert(E,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,mi.newInvalidDocument(v)))}));let d=rh();return c.forEach(((m,p)=>{const v=o.get(m);v!==void 0&&_h(v.mutation,p,_s.empty(),tn.now()),xm(e,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Mr(r.createTime)}})(e)),Et.resolve()}getNamedQuery(t,e){return Et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:sI(r.bundledQuery),readTime:Mr(r.readTime)}})(e)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.overlays=new fn(Gt.comparator),this.qr=new Map}getOverlay(t,e){return Et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ml();return Et.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),Et.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),Et.resolve()}getOverlaysForCollection(t,e,i){const r=Ml(),o=e.length+1,c=new Gt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return Et.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new fn(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let v=o.get(p.largestBatchId);v===null&&(v=Ml(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Ml(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=r)););return Et.resolve(d)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Pk(e,i));let o=this.qr.get(e);o===void 0&&(o=Ee(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.sessionToken=si.EMPTY_BYTE_STRING}getSessionToken(t){return Et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Qr=new Bn(Xn.$r),this.Ur=new Bn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Xn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Xn(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Gt(new Je([])),i=new Xn(e,t),r=new Xn(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Gt(new Je([])),i=new Xn(e,t),r=new Xn(e,t+1);let o=Ee();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Gt.comparator(t.key,e.key)||xe(t.Yr,e.Yr)}static Kr(t,e){return xe(t.Yr,e.Yr)||Gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Xn.$r)}checkEmpty(t){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ik(o,e,i,r);this.mutationQueue.push(c);for(const d of r)this.Zr=this.Zr.add(new Xn(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return Et.resolve(c)}lookupMutationBatch(t,e){return Et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return Et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?hy:this.tr-1)}getAllMutationBatches(t){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xn(e,0),r=new Xn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const d=this.Xr(c.Yr);o.push(d)})),Et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(xe);return e.forEach((r=>{const o=new Xn(r,0),c=new Xn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(d=>{i=i.add(d.Yr)}))})),Et.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Gt.isDocumentKey(o)||(o=o.child(""));const c=new Xn(new Gt(o),0);let d=new Bn(xe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(d=d.add(m.Yr)),!0)}),c),Et.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Pe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Et.forEach(e.mutations,(r=>{const o=new Xn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Xn(e,0),r=this.Zr.firstAfterOrEqual(i);return Et.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.ri=t,this.docs=(function(){return new fn(Gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Et.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(e))}getEntries(t,e){let i=Aa();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():mi.newInvalidDocument(r))})),Et.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Aa();const c=e.path,d=new Gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||ZD($D(v),i)<=0||(r.has(v.key)||xm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Et.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Qt(9500)}ii(t,e){return Et.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new bI(this)}getSize(t){return Et.resolve(this.size)}}class bI extends fI{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),Et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t){this.persistence=t,this.si=new jl((e=>my(e)),py),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new xy,this.targetCount=0,this.ai=Ku.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),Et.resolve()}getLastRemoteSnapshotVersion(t){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ku(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Et.resolve()}updateTargetData(t,e){return this.Pr(e),Et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Et.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&i.get(d.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)})),Et.waitFor(o).next((()=>r))}getTargetCount(t){return Et.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Et.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Et.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),Et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Et.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Et.resolve(i)}containsKey(t,e){return Et.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,e){this.ui={},this.overlays={},this.ci=new gm(0),this.li=!1,this.li=!0,this.hi=new _I,this.referenceDelegate=t(this),this.Pi=new xI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(r){return new vI(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new iI(e),this.Ii=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gI,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new yI(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){kt("MemoryPersistence","Starting transaction:",t);const r=new EI(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return Et.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class EI extends WD{constructor(t){super(),this.currentSequenceNumber=t}}class Ey{constructor(t){this.persistence=t,this.Ri=new xy,this.Vi=null}static mi(t){return new Ey(t)}get fi(){if(this.Vi)return this.Vi;throw Qt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Et.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.fi,(i=>{const r=Gt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,ne.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Et.or([()=>Et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Kd{constructor(t,e){this.persistence=t,this.pi=new jl((i=>QD(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=hI(this,e)}static mi(t,e){return new Kd(t,e)}Ei(){}di(t){return Et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return Et.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?Et.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((d=>{d||(i++,o.removeEntry(c,ne.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Et.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Sd(t.data.value)),e}br(t,e,i){return Et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return Et.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Ee(),r=Ee();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new wy(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bO()?8:YD(yO())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new wI;return this.Ss(t,e,c).next((d=>{if(o.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Iu()<=Re.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",Pu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Et.resolve()):(Iu()<=Re.DEBUG&&kt("QueryEngine","Query:",Pu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Iu()<=Re.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",Pu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(e))):Et.resolve())}ys(t,e){if(ex(e))return Et.resolve(null);let i=Rr(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=C_(e,null,"F"),i=Rr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ee(...o);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(e,d);return this.Cs(e,p,c,m.readTime)?this.ys(t,C_(e,null,"F")):this.vs(t,p,e,m)}))))})))))}ws(t,e,i,r){return ex(e)||r.isEqual(ne.min())?Et.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?Et.resolve(null):(Iu()<=Re.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pu(e)),this.vs(t,c,e,GD(r,Th)).next((d=>d)))}))}Ds(t,e){let i=new Bn(LT(t));return e.forEach(((r,o)=>{xm(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Iu()<=Re.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",Pu(e)),this.ps.getDocumentsMatchingQuery(t,e,ko.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",SI=3e8;class AI{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new fn(xe),this.xs=new jl((o=>my(o)),py),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function CI(n,t,e,i){return new AI(n,t,e,i)}async function sS(n,t){const e=se(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],d=[];let m=Ee();for(const p of r){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of o){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function RI(n,t){const e=se(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const E=p.batch,w=E.keys();let D=Et.resolve();return w.forEach((N=>{D=D.next((()=>v.getEntry(m,N))).next((j=>{const z=p.docVersions.get(N);Pe(z!==null,48541),j.version.compareTo(z)<0&&(E.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ee();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function rS(n){const t=se(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function MI(n,t){const e=se(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const d=[];t.targetChanges.forEach(((v,E)=>{const w=r.get(E);if(!w)return;d.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,E).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,E))));let D=w.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(E)!==null?D=D.withResumeToken(si.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,i)),r=r.insert(E,D),(function(j,z,K){return j.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=SI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(w,D,v)&&d.push(e.Pi.updateTargetData(o,D))}));let m=Aa(),p=Ee();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(OI(o,c,t.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!i.isEqual(ne.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((E=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));d.push(v)}return Et.waitFor(d).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,m,p))).next((()=>m))})).then((o=>(e.Ms=r,o)))}function OI(n,t,e){let i=Ee(),r=Ee();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Aa();return e.forEach(((d,m)=>{const p=o.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(d)),m.isNoDocument()&&m.version.isEqual(ne.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):kt(Ty,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:r}}))}function DI(n,t){const e=se(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=hy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function kI(n,t){const e=se(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,Et.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new vo(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function k_(n,t,e){const i=se(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ic(c))throw c;kt(Ty,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function mx(n,t,e){const i=se(n);let r=ne.min(),o=Ee();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const E=se(m),w=E.xs.get(v);return w!==void 0?Et.resolve(E.Ms.get(w)):E.Pi.getTargetData(p,v)})(i,c,Rr(t)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{o=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:ne.min(),e?o:Ee()))).next((d=>(II(i,yk(t),d),{documents:d,Qs:o})))))}function II(n,t,e){let i=n.Os.get(t)||ne.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class px{constructor(){this.activeTargetIds=Tk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(){this.Mo=new px,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new px,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="ConnectivityMonitor";class _x{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){kt(gx,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){kt(gx,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad=null;function I_(){return ad===null?ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():ad++,"0x"+ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ud?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=I_(),d=this.zo(t,e.toUriEncodedString());kt(Ug,`Sending RPC '${t}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,r,o);const{host:p}=new URL(d),v=pm(p);return this.Jo(t,d,m,i,v).then((E=>(kt(Ug,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw qu(Ug,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ec})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=NI[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class BI extends VI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=I_();return new Promise(((d,m)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Td.NO_ERROR:const E=p.getResponseJson();kt(hi,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Td.TIMEOUT:kt(hi,`RPC '${t}' ${c} timed out`),m(new Vt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const w=p.getStatus();if(kt(hi,`RPC '${t}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const N=D?.error;if(N&&N.status&&N.message){const j=(function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(X)>=0?X:Tt.UNKNOWN})(N.status);m(new Vt(j,N.message))}else m(new Vt(Tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Vt(Tt.UNAVAILABLE,"Connection failed."));break;default:Qt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{kt(hi,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(r);kt(hi,`RPC '${t}' ${c} sending request:`,r),p.send(e,"POST",v,i,15)}))}T_(t,e,i){const r=I_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=dT(),d=fT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const v=o.join("");kt(hi,`Creating RPC '${t}' stream ${r}: ${v}`,m);const E=c.createWebChannel(v,m);this.I_(E);let w=!1,D=!1;const N=new zI({Yo:z=>{D?kt(hi,`Not sending because RPC '${t}' stream ${r} is closed:`,z):(w||(kt(hi,`Opening RPC '${t}' stream ${r} transport.`),E.open(),w=!0),kt(hi,`RPC '${t}' stream ${r} sending:`,z),E.send(z))},Zo:()=>E.close()}),j=(z,K,X)=>{z.listen(K,(Y=>{try{X(Y)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return j(E,sh.EventType.OPEN,(()=>{D||(kt(hi,`RPC '${t}' stream ${r} transport opened.`),N.o_())})),j(E,sh.EventType.CLOSE,(()=>{D||(D=!0,kt(hi,`RPC '${t}' stream ${r} transport closed`),N.a_(),this.E_(E))})),j(E,sh.EventType.ERROR,(z=>{D||(D=!0,qu(hi,`RPC '${t}' stream ${r} transport errored. Name:`,z.name,"Message:",z.message),N.a_(new Vt(Tt.UNAVAILABLE,"The operation could not be completed")))})),j(E,sh.EventType.MESSAGE,(z=>{if(!D){const K=z.data[0];Pe(!!K,16349);const X=K,Y=X?.error||X[0]?.error;if(Y){kt(hi,`RPC '${t}' stream ${r} received error:`,Y);const ot=Y.status;let J=(function(A){const O=Sn[A];if(O!==void 0)return $T(O)})(ot),mt=Y.message;J===void 0&&(J=Tt.INTERNAL,mt="Unknown error status: "+ot+" with message "+Y.message),D=!0,N.a_(new Vt(J,mt)),E.close()}else kt(hi,`RPC '${t}' stream ${r} received:`,K),N.u_(K)}})),j(d,hT.STAT_EVENT,(z=>{z.stat===x_.PROXY?kt(hi,`RPC '${t}' stream ${r} detected buffering proxy`):z.stat===x_.NOPROXY&&kt(hi,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n){return new Hk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&kt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="PersistentStream";class oS{constructor(t,e,i,r,o,c,d,m){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Tt.RESOURCE_EXHAUSTED?(Sa(e.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new Vt(Tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return kt(yx,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(kt(yx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends oS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=$k(this.serializer,t),i=(function(o){if(!("targetChange"in o))return ne.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ne.min():c.readTime?Mr(c.readTime):ne.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=D_(this.serializer),e.addTarget=(function(o,c){let d;const m=c.target;if(d=A_(m)?{documents:Wk(o,m)}:{query:Yk(o,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=WT(o,c.resumeToken);const p=R_(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(ne.min())>0){d.readTime=Zd(o,c.snapshotVersion.toTimestamp());const p=R_(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const i=Qk(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=D_(this.serializer),e.removeTarget=t,this.q_(e)}}class UI extends oS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Kk(t.writeResults,t.commitTime),i=Mr(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=D_(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Zk(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{}class HI extends FI{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Vt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,M_(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Vt(Tt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,M_(e,i),r,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Vt(Tt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sa(e),this.aa=!1):kt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="RemoteStore";class GI{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ul(this)&&(kt(Ll,"Restarting streams for network reachability change."),await(async function(m){const p=se(m);p.Ea.add(4),await Gh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Cm(p)})(this))}))})),this.Ra=new qI(i,r)}}async function Cm(n){if(Ul(n))for(const t of n.da)await t(!0)}async function Gh(n){for(const t of n.da)await t(!1)}function lS(n,t){const e=se(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ry(e)?Cy(e):sc(e).O_()&&Ay(e,t))}function Sy(n,t){const e=se(n),i=sc(e);e.Ia.delete(t),i.O_()&&uS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ul(e)&&e.Ra.set("Unknown"))}function Ay(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ne.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sc(n).Y_(t)}function uS(n,t){n.Va.Ue(t),sc(n).Z_(t)}function Cy(n){n.Va=new Bk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),sc(n).start(),n.Ra.ua()}function Ry(n){return Ul(n)&&!sc(n).x_()&&n.Ia.size>0}function Ul(n){return se(n).Ea.size===0}function cS(n){n.Va=void 0}async function $I(n){n.Ra.set("Online")}async function ZI(n){n.Ia.forEach(((t,e)=>{Ay(n,t)}))}async function KI(n,t){cS(n),Ry(n)?(n.Ra.ha(t),Cy(n)):n.Ra.set("Unknown")}async function WI(n,t,e){if(n.Ra.set("Online"),t instanceof KT&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const d of o.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,c),r.Ia.delete(d),r.Va.removeTarget(d))})(n,t)}catch(i){kt(Ll,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Wd(n,i)}else if(t instanceof Rd?n.Va.Ze(t):t instanceof ZT?n.Va.st(t):n.Va.tt(t),!e.isEqual(ne.min()))try{const i=await rS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const d=o.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const v=o.Ia.get(m);if(!v)return;o.Ia.set(m,v.withResumeToken(si.EMPTY_BYTE_STRING,v.snapshotVersion)),uS(o,m);const E=new vo(v.target,m,p,v.sequenceNumber);Ay(o,E)})),o.remoteSyncer.applyRemoteEvent(d)})(n,e)}catch(i){kt(Ll,"Failed to raise snapshot:",i),await Wd(n,i)}}async function Wd(n,t,e){if(!ic(t))throw t;n.Ea.add(1),await Gh(n),n.Ra.set("Offline"),e||(e=()=>rS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{kt(Ll,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Cm(n)}))}function hS(n,t){return t().catch((e=>Wd(n,e,t)))}async function Rm(n){const t=se(n),e=No(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hy;for(;YI(t);)try{const r=await DI(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,XI(t,r)}catch(r){await Wd(t,r)}fS(t)&&dS(t)}function YI(n){return Ul(n)&&n.Ta.length<10}function XI(n,t){n.Ta.push(t);const e=No(n);e.O_()&&e.X_&&e.ea(t.mutations)}function fS(n){return Ul(n)&&!No(n).x_()&&n.Ta.length>0}function dS(n){No(n).start()}async function QI(n){No(n).ra()}async function JI(n){const t=No(n);for(const e of n.Ta)t.ea(e.mutations)}async function tP(n,t,e){const i=n.Ta.shift(),r=yy.from(i,t,e);await hS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Rm(n)}async function eP(n,t){t&&No(n).X_&&await(async function(i,r){if((function(c){return Nk(c)&&c!==Tt.ABORTED})(r.code)){const o=i.Ta.shift();No(i).B_(),await hS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rm(i)}})(n,t),fS(n)&&dS(n)}async function vx(n,t){const e=se(n);e.asyncQueue.verifyOperationInProgress(),kt(Ll,"RemoteStore received new credentials");const i=Ul(e);e.Ea.add(3),await Gh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Cm(e)}async function nP(n,t){const e=se(n);t?(e.Ea.delete(2),await Cm(e)):t||(e.Ea.add(2),await Gh(e),e.Ra.set("Unknown"))}function sc(n){return n.ma||(n.ma=(function(e,i,r){const o=se(e);return o.sa(),new jI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:$I.bind(null,n),t_:ZI.bind(null,n),r_:KI.bind(null,n),H_:WI.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Ry(n)?Cy(n):n.Ra.set("Unknown")):(await n.ma.stop(),cS(n))}))),n.ma}function No(n){return n.fa||(n.fa=(function(e,i,r){const o=se(e);return o.sa(),new UI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:QI.bind(null,n),r_:eP.bind(null,n),ta:JI.bind(null,n),na:tP.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Rm(n)):(await n.fa.stop(),n.Ta.length>0&&(kt(Ll,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new My(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vt(Tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oy(n,t){if(Sa("AsyncQueue",`${t}: ${n}`),ic(n))return new Vt(Tt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{static emptySet(t){return new Bu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Gt.comparator(e.key,i.key):(e,i)=>Gt.comparator(e.key,i.key),this.keyedMap=rh(),this.sortedSet=new fn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Bu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.ga=new fn(Gt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Qt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Wu{constructor(t,e,i,r,o,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new Wu(t,e,Bu.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class sP{constructor(){this.queries=xx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=se(e),o=r.queries;r.queries=xx(),o.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new Vt(Tt.ABORTED,"Firestore shutting down"))}}function xx(){return new jl((n=>PT(n)),bm)}async function mS(n,t){const e=se(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new iP,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const d=Oy(c,`Initialization of query '${Pu(t.query)}' failed`);return void t.onError(d)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Dy(e)}async function pS(n,t){const e=se(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function rP(n,t){const e=se(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const d of c.Sa)d.Fa(r)&&(i=!0);c.wa=r}}i&&Dy(e)}function aP(n,t,e){const i=se(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function Dy(n){n.Ca.forEach((t=>{t.next()}))}var P_,Ex;(Ex=P_||(P_={})).Ma="default",Ex.Cache="cache";class gS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Wu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Wu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.key=t}}class yS{constructor(t){this.key=t}}class oP{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=LT(t),this.tu=new Bu(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new bx,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((v,E)=>{const w=r.get(v),D=xm(this.query,E)?E:null,N=!!w&&this.mutatedKeys.has(w.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;w&&D?w.data.isEqual(D.data)?N!==j&&(i.track({type:3,doc:D}),z=!0):this.su(w,D)||(i.track({type:2,doc:D}),z=!0,(m&&this.eu(D,m)>0||p&&this.eu(D,p)<0)&&(d=!0)):!w&&D?(i.track({type:0,doc:D}),z=!0):w&&!D&&(i.track({type:1,doc:w}),z=!0,(m||p)&&(d=!0)),z&&(D?(c=c.add(D),o=j?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(D,N){const j=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt(20277,{Rt:z})}};return j(D)-j(N)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),r=r??!1;const d=e&&!r?this._u():[],m=this.Xa.size===0&&this.current&&!r?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Wu(this.query,t.tu,o,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ee(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new yS(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new _S(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ee();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Wu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ky="SyncEngine";class lP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class uP{constructor(t){this.key=t,this.hu=!1}}class cP{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new jl((d=>PT(d)),bm),this.Iu=new Map,this.Eu=new Set,this.du=new fn(Gt.comparator),this.Au=new Map,this.Ru=new xy,this.Vu={},this.mu=new Map,this.fu=Ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hP(n,t,e=!0){const i=TS(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await vS(i,t,e,!0),r}async function fP(n,t){const e=TS(n);await vS(e,t,!0,!1)}async function vS(n,t,e,i){const r=await kI(n.localStore,Rr(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let d;return i&&(d=await dP(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&lS(n.remoteStore,r),d}async function dP(n,t,e,i,r){n.pu=(E,w,D)=>(async function(j,z,K,X){let Y=z.view.ru(K);Y.Cs&&(Y=await mx(j.localStore,z.query,!1).then((({documents:F})=>z.view.ru(F,Y))));const ot=X&&X.targetChanges.get(z.targetId),J=X&&X.targetMismatches.get(z.targetId)!=null,mt=z.view.applyChanges(Y,j.isPrimaryClient,ot,J);return Tx(j,z.targetId,mt.au),mt.snapshot})(n,E,w,D);const o=await mx(n.localStore,t,!0),c=new oP(t,o.Qs),d=c.ru(o.documents),m=qh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),p=c.applyChanges(d,n.isPrimaryClient,m);Tx(n,e,p.au);const v=new lP(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function mP(n,t,e){const i=se(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!bm(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await k_(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Sy(i.remoteStore,r.targetId),L_(i,r.targetId)})).catch(nc)):(L_(i,r.targetId),await k_(i.localStore,r.targetId,!0))}async function pP(n,t){const e=se(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Sy(e.remoteStore,i.targetId))}async function gP(n,t,e){const i=wP(n);try{const r=await(function(c,d){const m=se(c),p=tn.now(),v=d.reduce(((D,N)=>D.add(N.key)),Ee());let E,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let N=Aa(),j=Ee();return m.Ns.getEntries(D,v).next((z=>{N=z,N.forEach(((K,X)=>{X.isValidDocument()||(j=j.add(K))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,N))).next((z=>{E=z;const K=[];for(const X of d){const Y=Dk(X,E.get(X.key).overlayedDocument);Y!=null&&K.push(new Ho(X.key,Y,CT(Y.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(D,p,K,d)})).next((z=>{w=z;const K=z.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(D,z.batchId,K)}))})).then((()=>({batchId:w.batchId,changes:VT(E)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new fn(xe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(i,r.batchId,e),await $h(i,r.changes),await Rm(i.remoteStore)}catch(r){const o=Oy(r,"Failed to persist write");e.reject(o)}}async function bS(n,t){const e=se(n);try{const i=await MI(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Pe(c.hu,14607):r.removedDocuments.size>0&&(Pe(c.hu,42227),c.hu=!1))})),await $h(e,i,t)}catch(i){await nc(i)}}function wx(n,t,e){const i=se(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const d=c.view.va(t);d.snapshot&&r.push(d.snapshot)})),(function(c,d){const m=se(c);m.onlineState=d;let p=!1;m.queries.forEach(((v,E)=>{for(const w of E.Sa)w.va(d)&&(p=!0)})),p&&Dy(m)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function _P(n,t,e){const i=se(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new fn(Gt.comparator);c=c.insert(o,mi.newNoDocument(o,ne.min()));const d=Ee().add(o),m=new Sm(ne.min(),new Map,new fn(xe),c,d);await bS(i,m),i.du=i.du.remove(o),i.Au.delete(t),Iy(i)}else await k_(i.localStore,t,!1).then((()=>L_(i,t,e))).catch(nc)}async function yP(n,t){const e=se(n),i=t.batch.batchId;try{const r=await RI(e.localStore,t);ES(e,i,null),xS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await $h(e,r)}catch(r){await nc(r)}}async function vP(n,t,e){const i=se(n);try{const r=await(function(c,d){const m=se(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((E=>(Pe(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,t);ES(i,t,e),xS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await $h(i,r)}catch(r){await nc(r)}}function xS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function ES(n,t,e){const i=se(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function L_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||wS(n,i)}))}function wS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Sy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Iy(n))}function Tx(n,t,e){for(const i of e)i instanceof _S?(n.Ru.addReference(i.key,t),bP(n,i)):i instanceof yS?(kt(ky,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||wS(n,i.key)):Qt(19791,{wu:i})}function bP(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(kt(ky,"New document in limbo: "+e),n.Eu.add(i),Iy(n))}function Iy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Gt(Je.fromString(t)),i=n.fu.next();n.Au.set(i,new uP(e)),n.du=n.du.insert(e,i),lS(n.remoteStore,new vo(Rr(gy(e.path)),i,"TargetPurposeLimboResolution",gm.ce))}}async function $h(n,t,e){const i=se(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const v=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){r.push(p);const v=wy.As(m.targetId,p);o.push(v)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(m,p){const v=se(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Et.forEach(p,(w=>Et.forEach(w.Es,(D=>v.persistence.referenceDelegate.addReference(E,w.targetId,D))).next((()=>Et.forEach(w.ds,(D=>v.persistence.referenceDelegate.removeReference(E,w.targetId,D)))))))))}catch(E){if(!ic(E))throw E;kt(Ty,"Failed to update sequence numbers: "+E)}for(const E of p){const w=E.targetId;if(!E.fromCache){const D=v.Ms.get(w),N=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(w,j)}}})(i.localStore,o))}async function xP(n,t){const e=se(n);if(!e.currentUser.isEqual(t)){kt(ky,"User change. New user:",t.toKey());const i=await sS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new Vt(Tt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await $h(e,i.Ls)}}function EP(n,t){const e=se(n),i=e.Au.get(t);if(i&&i.hu)return Ee().add(i.key);{let r=Ee();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const d=e.Tu.get(c);r=r.unionWith(d.view.nu)}return r}}function TS(n){const t=se(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_P.bind(null,t),t.Pu.H_=rP.bind(null,t.eventManager),t.Pu.yu=aP.bind(null,t.eventManager),t}function wP(n){const t=se(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vP.bind(null,t),t}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Am(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return CI(this.persistence,new TI,t.initialUser,this.serializer)}Cu(t){return new iS(Ey.mi,this.serializer)}Du(t){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class TP extends Yd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Pe(this.persistence.referenceDelegate instanceof Kd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new uI(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new iS((i=>Kd.mi(i,e)),this.serializer)}}class N_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xP.bind(null,this.syncEngine),await nP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sP})()}createDatastore(t){const e=Am(t.databaseInfo.databaseId),i=(function(o){return new BI(o)})(t.databaseInfo);return(function(o,c,d,m){return new HI(o,c,d,m)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,d){return new GI(i,r,o,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>wx(this.syncEngine,e,0)),(function(){return _x.v()?new _x:new LI})())}createSyncEngine(t,e){return(function(r,o,c,d,m,p,v){const E=new cP(r,o,c,d,m,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=se(e);kt(Ll,"RemoteStore shutting down."),i.Ea.add(5),await Gh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}N_.provider={build:()=>new N_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Sa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class SP{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=di.UNAUTHENTICATED,this.clientId=uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{kt(Vo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(kt(Vo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Oy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Hg(n,t){n.asyncQueue.verifyOperationInProgress(),kt(Vo,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await sS(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Sx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await AP(n);kt(Vo,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>vx(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>vx(t.remoteStore,r))),n._onlineComponents=t}async function AP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){kt(Vo,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===Tt.FAILED_PRECONDITION||r.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;qu("Error using user provided cache. Falling back to memory cache: "+e),await Hg(n,new Yd)}}else kt(Vo,"Using default OfflineComponentProvider"),await Hg(n,new TP(void 0));return n._offlineComponents}async function AS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(kt(Vo,"Using user provided OnlineComponentProvider"),await Sx(n,n._uninitializedComponentsProvider._online)):(kt(Vo,"Using default OnlineComponentProvider"),await Sx(n,new N_))),n._onlineComponents}function CP(n){return AS(n).then((t=>t.syncEngine))}async function CS(n){const t=await AS(n),e=t.eventManager;return e.onListen=hP.bind(null,t.syncEngine),e.onUnlisten=mP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=fP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=pP.bind(null,t.syncEngine),e}function RP(n,t,e={}){const i=new Ea;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,p){const v=new SS({next:w=>{v.Nu(),c.enqueueAndForget((()=>pS(o,E)));const D=w.docs.has(d);!D&&w.fromCache?p.reject(new Vt(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?p.reject(new Vt(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new gS(gy(d.path),v,{includeMetadataChanges:!0,qa:!0});return mS(o,E)})(await CS(n),n.asyncQueue,t,e,i))),i.promise}function MP(n,t,e={}){const i=new Ea;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,m,p){const v=new SS({next:w=>{v.Nu(),c.enqueueAndForget((()=>pS(o,E))),w.fromCache&&m.source==="server"?p.reject(new Vt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),E=new gS(d,v,{includeMetadataChanges:!0,qa:!0});return mS(o,E)})(await CS(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firestore.googleapis.com",Cx=!0;class Rx{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Vt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=Cx}else this.host=t.host,this.ssl=t.ssl??Cx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oI)throw new Vt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Vt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Vt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Vt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Vt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rx(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new PD;switch(i.type){case"firstParty":return new zD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Vt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Ax.get(e);i&&(kt("ComponentProvider","Removing Datastore"),Ax.delete(e),i.terminate())})(this),Promise.resolve()}}function OP(n,t,e,i={}){n=Ir(n,Mm);const r=pm(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;r&&(Ww(`https://${d}`),Xw("Firestore",!0)),o.host!==MS&&o.host!==d&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:r,emulatorOptions:i};if(!zd(m,c)&&(n._setSettings(m),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=di.MOCK_USER;else{p=Yw(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Vt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new di(E)}n._authCredentials=new LD(new pT(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Om(this.firestore,t,this._query)}}class zn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}toJSON(){return{type:zn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Fh(e,zn._jsonSchema))return new zn(t,i||null,new Gt(Je.fromString(e.referencePath)))}}zn._jsonSchemaVersion="firestore/documentReference/1.0",zn._jsonSchema={type:Cn("string",zn._jsonSchemaVersion),referencePath:Cn("string")};class Co extends Om{constructor(t,e,i){super(t,e,gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new Gt(t))}withConverter(t){return new Co(this.firestore,t,this._path)}}function zo(n,t,...e){if(n=ar(n),gT("collection","path",t),n instanceof Mm){const i=Je.fromString(t,...e);return F1(i),new Co(n,null,i)}{if(!(n instanceof zn||n instanceof Co))throw new Vt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(t,...e));return F1(i),new Co(n.firestore,null,i)}}function Nl(n,t,...e){if(n=ar(n),arguments.length===1&&(t=uy.newId()),gT("doc","path",t),n instanceof Mm){const i=Je.fromString(t,...e);return U1(i),new zn(n,null,new Gt(i))}{if(!(n instanceof zn||n instanceof Co))throw new Vt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(t,...e));return U1(i),new zn(n.firestore,n instanceof Co?n.converter:null,new Gt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="AsyncQueue";class Ox{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aS(this,"async_queue_retry"),this._c=()=>{const i=Fg();i&&kt(Mx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Fg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Fg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ic(t))throw t;kt(Mx,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Sa("INTERNAL UNHANDLED ERROR: ",Dx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=My.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Qt(47125,{Pc:Dx(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Dx(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Fl extends Mm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Ox,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ox(t),this._firestoreClient=void 0,await t}}}function OS(n,t){const e=typeof n=="object"?n:rT(),i=typeof n=="string"?n:Ud,r=nT(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Zw("firestore");o&&OP(r,...o)}return r}function Dm(n){if(n._terminated)throw new Vt(Tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DP(n),n._firestoreClient}function DP(n){const t=n._freezeSettings(),e=(function(r,o,c,d){return new ek(r,o,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new SP(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ls(si.fromBase64String(t))}catch(e){throw new Vt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ls(si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fh(t,Ls._jsonSchema))return Ls.fromBase64String(t.bytes)}}Ls._jsonSchemaVersion="firestore/bytes/1.0",Ls._jsonSchema={type:Cn("string",Ls._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Vt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Vt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Vt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xe(this._lat,t._lat)||xe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(t){if(Fh(t,Or._jsonSchema))return new Or(t.latitude,t.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Cn("string",Or._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fh(t,Dr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Dr(t.vectorValues);throw new Vt(Tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Cn("string",Dr._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^__.*__$/;class IP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ho(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hh(t,this.data,e,this.fieldTransforms)}}class DS{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ho(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt(40011,{Ac:n})}}class Ly{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ly({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kS(this.Ac)&&kP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class PP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Am(t)}Cc(t,e,i,r=!1){return new Ly({Ac:t,methodName:e,Dc:i,path:ii.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ny(n){const t=n._freezeSettings(),e=Am(n._databaseId);return new PP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function IS(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);Vy("Data must be an object, but it was:",c,i);const d=NS(i,c);let m,p;if(o.merge)m=new _s(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const E of o.mergeFields){const w=V_(t,E,e);if(!c.contains(w))throw new Vt(Tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zS(v,w)||v.push(w)}m=new _s(v),p=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,p=c.fieldTransforms;return new IP(new Zi(d),m,p)}class km extends Py{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof km}}function PS(n,t,e,i){const r=n.Cc(1,t,e);Vy("Data must be an object, but it was:",r,i);const o=[],c=Zi.empty();Fo(i,((m,p)=>{const v=zy(t,m,e);p=ar(p);const E=r.yc(v);if(p instanceof km)o.push(v);else{const w=Im(p,E);w!=null&&(o.push(v),c.set(v,w))}}));const d=new _s(o);return new DS(c,d,r.fieldTransforms)}function LS(n,t,e,i,r,o){const c=n.Cc(1,t,e),d=[V_(t,i,e)],m=[r];if(o.length%2!=0)throw new Vt(Tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)d.push(V_(t,o[w])),m.push(o[w+1]);const p=[],v=Zi.empty();for(let w=d.length-1;w>=0;--w)if(!zS(p,d[w])){const D=d[w];let N=m[w];N=ar(N);const j=c.yc(D);if(N instanceof km)p.push(D);else{const z=Im(N,j);z!=null&&(p.push(D),v.set(D,z))}}const E=new _s(p);return new DS(v,E,c.fieldTransforms)}function Im(n,t){if(VS(n=ar(n)))return Vy("Unsupported field value:",t,n),NS(n,t);if(n instanceof Py)return(function(i,r){if(!kS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const d of i){let m=Im(d,r.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=ar(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Sk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=tn.fromDate(i);return{timestampValue:Zd(r.serializer,o)}}if(i instanceof tn){const o=new tn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zd(r.serializer,o)}}if(i instanceof Or)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ls)return{bytesValue:WT(r.serializer,i._byteString)};if(i instanceof zn){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:by(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Dr)return(function(c,d){return{mapValue:{fields:{[ST]:{stringValue:AT},[Fd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return _y(d.serializer,p)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${cy(i)}`)})(n,t)}function NS(n,t){const e={};return vT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fo(n,((i,r)=>{const o=Im(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function VS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tn||n instanceof Or||n instanceof Ls||n instanceof zn||n instanceof Py||n instanceof Dr)}function Vy(n,t,e){if(!VS(e)||!_T(e)){const i=cy(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function V_(n,t,e){if((t=ar(t))instanceof Zh)return t._internalPath;if(typeof t=="string")return zy(n,t);throw Xd("Field path arguments must be of type string or ",n,!1,void 0,e)}const LP=new RegExp("[~\\*/\\[\\]]");function zy(n,t,e){if(t.search(LP)>=0)throw Xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zh(...t.split("."))._internalPath}catch{throw Xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Xd(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new Vt(Tt.INVALID_ARGUMENT,d+n+m)}function zS(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class NP extends BS{data(){return super.data()}}function jS(n,t){return typeof t=="string"?zy(n,t):t instanceof Zh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Vt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zP{convertValue(t,e="none"){switch(Lo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Po(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Qt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Fo(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Fd].arrayValue?.values?.map((i=>xn(i.doubleValue)));return new Dr(e)}convertGeoPoint(t){return new Or(xn(t.latitude),xn(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ym(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Sh(t));default:return null}}convertTimestamp(t){const e=Io(t);return new tn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Je.fromString(t);Pe(eS(i),9688,{name:t});const r=new Ah(i.get(1),i.get(3)),o=new Gt(i.popFirst(5));return r.isEqual(e)||Sa(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class oh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends BS{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(jS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(Tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Dl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:Cn("string",Dl._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Md extends Dl{data(t={}){return super.data(t)}}class ju{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new oh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Md(this._firestore,this._userDataWriter,i.key,i,new oh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((d=>{const m=new Md(r._firestore,r._userDataWriter,d.doc.key,d.doc,new oh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new Md(r._firestore,r._userDataWriter,d.doc.key,d.doc,new oh(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:BP(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(Tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ju._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){n=Ir(n,zn);const t=Ir(n.firestore,Fl);return RP(Dm(t),n._key).then((e=>HP(t,n,e)))}ju._jsonSchemaVersion="firestore/querySnapshot/1.0",ju._jsonSchema={type:Cn("string",ju._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class FS extends zP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ls(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,e)}}function Vl(n){n=Ir(n,Om);const t=Ir(n.firestore,Fl),e=Dm(t),i=new FS(t);return VP(n._query),MP(e,n._query).then((r=>new ju(t,i,n,r)))}function HS(n,t,e,...i){n=Ir(n,zn);const r=Ir(n.firestore,Fl),o=Ny(r);let c;return c=typeof(t=ar(t))=="string"||t instanceof Zh?LS(o,"updateDoc",n._key,t,e,i):PS(o,"updateDoc",n._key,t),Pm(r,[c.toMutation(n._key,Yi.exists(!0))])}function UP(n){return Pm(Ir(n.firestore,Fl),[new Tm(n._key,Yi.none())])}function FP(n,t){const e=Ir(n.firestore,Fl),i=Nl(n),r=US(n.converter,t);return Pm(e,[IS(Ny(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then((()=>i))}function Pm(n,t){return(function(i,r){const o=new Ea;return i.asyncQueue.enqueueAndForget((async()=>gP(await CP(i),r,o))),o.promise})(Dm(n),t)}function HP(n,t,e){const i=e.docs.get(t._key),r=new FS(n);return new Dl(n,r,t._key,i,new oh(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ny(t)}set(t,e,i){this._verifyNotCommitted();const r=qg(t,this._firestore),o=US(r.converter,e,i),c=IS(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(c.toMutation(r._key,Yi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=qg(t,this._firestore);let c;return c=typeof(e=ar(e))=="string"||e instanceof Zh?LS(this._dataReader,"WriteBatch.update",o._key,e,i,r):PS(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Yi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=qg(t,this._firestore);return this._mutations=this._mutations.concat(new Tm(e._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qg(n,t){if((n=ar(n)).firestore!==t)throw new Vt(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n){return Dm(n=Ir(n,Fl)),new qP(n,(t=>Pm(n,t)))}(function(t,e=!0){(function(r){ec=r})(sT),Eh(new Hu("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),d=new Fl(new ND(i.getProvider("auth-internal")),new BD(c,i.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Vt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ah(p.options.projectId,v)})(c,r),c);return o={useFetchStreams:e,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),So(V1,z1,t),So(V1,z1,"esm2020")})();var GP="firebase",$P="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(GP,$P,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebasestorage.googleapis.com",ZP="storageBucket",KP=120*1e3,WP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Bl{constructor(t,e,i=0){super(Gg(t),`Firebase Storage: ${e} (${Gg(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Gg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nr||(Nr={}));function Gg(n){return"storage/"+n}function YP(){const n="An unknown error occurred, please check the error payload for server response.";return new Br(Nr.UNKNOWN,n)}function XP(){return new Br(Nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QP(){return new Br(Nr.CANCELED,"User canceled the upload/download.")}function JP(n){return new Br(Nr.INVALID_URL,"Invalid URL '"+n+"'.")}function tL(n){return new Br(Nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function kx(n){return new Br(Nr.INVALID_ARGUMENT,n)}function $S(){return new Br(Nr.APP_DELETED,"The Firebase app was deleted.")}function eL(n){return new Br(Nr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=nr.makeFromUrl(t,e)}catch{return new nr(t,"")}if(i.path==="")return i;throw tL(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(ot){ot.path.charAt(ot.path.length-1)==="/"&&(ot.path_=ot.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+r+c,"i"),m={bucket:1,path:3};function p(ot){ot.path_=decodeURIComponent(ot.path)}const v="v[A-Za-z0-9_]+",E=e.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${E}/${v}/b/${r}/o${w}`,"i"),N={bucket:1,path:3},j=e===GS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,z="([^?#]*)",K=new RegExp(`^https?://${j}/${r}/${z}`,"i"),Y=[{regex:d,indices:m,postModify:o},{regex:D,indices:N,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let ot=0;ot<Y.length;ot++){const J=Y[ot],mt=J.regex.exec(t);if(mt){const F=mt[J.indices.bucket];let A=mt[J.indices.path];A||(A=""),i=new nr(F,A),J.postModify(i);break}}if(i==null)throw JP(t);return i}}class nL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function m(){return d===2}let p=!1;function v(...z){p||(p=!0,t.apply(null,z))}function E(z){r=setTimeout(()=>{r=null,n(D,m())},z)}function w(){o&&clearTimeout(o)}function D(z,...K){if(p){w();return}if(z){w(),v.call(null,z,...K);return}if(m()||c){w(),v.call(null,z,...K);return}i<64&&(i*=2);let Y;d===1?(d=2,Y=0):Y=(i+Math.random())*1e3,E(Y)}let N=!1;function j(z){N||(N=!0,w(),!p&&(r!==null?(z||(d=2),clearTimeout(r),E(0)):z||(d=1)))}return E(0),o=setTimeout(()=>{c=!0,j(!0)},e),j}function sL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(n){return n!==void 0}function Ix(n,t,e,i){if(i<t)throw kx(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw kx(`Invalid value for '${n}'. Expected ${e} or less.`)}function aL(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Qd;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Qd||(Qd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t,e,i,r,o,c,d,m,p,v,E,w=!0,D=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new od(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Qd.NO_ERROR,m=o.getStatus();if(!d||oL(m,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Qd.ABORT;i(!1,new od(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new od(p,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());rL(m)?o(m):o()}catch(m){c(m)}else if(d!==null){const m=YP();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(r.canceled){const m=this.appDelete_?$S():QP();c(m)}else{const m=XP();c(m)}};this.canceled_?e(!1,new od(!1,null,!0)):this.backoffId_=iL(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&sL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class od{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function uL(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function cL(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function hL(n,t){t&&(n["X-Firebase-GMPID"]=t)}function fL(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function dL(n,t,e,i,r,o,c=!0,d=!1){const m=aL(n.urlParams),p=n.url+m,v=Object.assign({},n.headers);return hL(v,t),uL(v,e),cL(v,o),fL(v,i),new lL(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function pL(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,e){this._service=t,e instanceof nr?this._location=e:this._location=nr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Jd(t,e)}get root(){const t=new nr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pL(this._location.path)}get storage(){return this._service}get parent(){const t=mL(this._location.path);if(t===null)return null;const e=new nr(this._location.bucket,t);return new Jd(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw eL(t)}}function Px(n,t){const e=t?.[ZP];return e==null?null:nr.makeFromBucketSpec(e,n)}function gL(n,t,e,i={}){n.host=`${t}:${e}`;const r=pm(t);r&&(Ww(`https://${n.host}/b`),Xw("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Yw(o,n.app.options.projectId))}class _L{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=GS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KP,this._maxUploadRetryTime=WP,this._requests=new Set,r!=null?this._bucket=nr.makeFromBucketSpec(r,this._host):this._bucket=Px(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,t):this._bucket=Px(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ix("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ix("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(iT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jd(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new nL($S());{const c=dL(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const Lx="@firebase/storage",Nx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="storage";function yL(n=rT(),t){n=ar(n);const i=nT(n,ZS).getImmediate({identifier:t}),r=Zw("storage");return r&&vL(i,...r),i}function vL(n,t,e,i={}){gL(n,t,e,i)}function bL(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new _L(e,i,r,t,sT)}function xL(){Eh(new Hu(ZS,bL,"PUBLIC").setMultipleInstances(!0)),So(Lx,Nx,""),So(Lx,Nx,"esm2020")}xL();const EL={apiKey:"AIzaSyCnuPh8QnXjTYWeSBGFluzFoyH3t9XAv80",authDomain:"dbtabtim.firebaseapp.com",projectId:"dbtabtim",storageBucket:"dbtabtim.appspot.com",messagingSenderId:"445169729999",appId:"1:445169729999:web:115d8c6db25815e32a92ba",measurementId:"G-Y8V3SBBTBD"},wL={apiKey:"AIzaSyCKGYyK9aAqqCYKLyFpbNtNhfcqFxLlSvk",authDomain:"tabtimassets.firebaseapp.com",projectId:"tabtimassets",storageBucket:"tabtimassets.firebasestorage.app",messagingSenderId:"321112852081",appId:"1:321112852081:web:925be971f4928d0fc57dd0",measurementId:"G-B3SJFJ7G09"},KS=oy(EL,"aset"),TL=oy(wL,"kartu"),ir=OS(KS),Oh=OS(TL);yL(KS);var $g={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Vx;function SL(){return Vx||(Vx=1,(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var o="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(o=r(o,i(d)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var d in o)t.call(o,d)&&o[d]&&(c=r(c,d));return c}function r(o,c){return c?o?o+" "+c:o+c:o}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})($g)),$g.exports}var AL=SL();const Xt=zh(AL);function z_(){return z_=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},z_.apply(null,arguments)}function WS(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)!==-1)continue;e[i]=n[i]}return e}function zx(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function CL(n){var t=RL(n,"string");return typeof t=="symbol"?t:String(t)}function RL(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ML(n,t,e){var i=I.useRef(n!==void 0),r=I.useState(t),o=r[0],c=r[1],d=n!==void 0,m=i.current;return i.current=d,!d&&m&&o!==t&&c(t),[d?n:o,I.useCallback(function(p){for(var v=arguments.length,E=new Array(v>1?v-1:0),w=1;w<v;w++)E[w-1]=arguments[w];e&&e.apply(void 0,[p].concat(E)),c(p)},[e])]}function YS(n,t){return Object.keys(t).reduce(function(e,i){var r,o=e,c=o[zx(i)],d=o[i],m=WS(o,[zx(i),i].map(CL)),p=t[i],v=ML(d,c,n[p]),E=v[0],w=v[1];return z_({},m,(r={},r[i]=E,r[p]=w,r))},n)}function B_(n,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e},B_(n,t)}function OL(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,B_(n,t)}const XS=["xxl","xl","lg","md","sm","xs"],QS="xs",Kh=I.createContext({prefixes:{},breakpoints:XS,minBreakpoint:QS}),{Consumer:Pz,Provider:Lz}=Kh;function he(n,t){const{prefixes:e}=I.useContext(Kh);return n||e[t]||t}function By(){const{breakpoints:n}=I.useContext(Kh);return n}function jy(){const{minBreakpoint:n}=I.useContext(Kh);return n}function DL(){const{dir:n}=I.useContext(Kh);return n==="rtl"}function Lm(n){return n&&n.ownerDocument||document}function kL(n){var t=Lm(n);return t&&t.defaultView||window}function IL(n,t){return kL(n).getComputedStyle(n,t)}var PL=/([A-Z])/g;function LL(n){return n.replace(PL,"-$1").toLowerCase()}var NL=/^ms-/;function ld(n){return LL(n).replace(NL,"-ms-")}var VL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function zL(n){return!!(n&&VL.test(n))}function kl(n,t){var e="",i="";if(typeof t=="string")return n.style.getPropertyValue(ld(t))||IL(n).getPropertyValue(ld(t));Object.keys(t).forEach(function(r){var o=t[r];!o&&o!==0?n.style.removeProperty(ld(r)):zL(r)?i+=r+"("+o+") ":e+=ld(r)+": "+o+";"}),i&&(e+="transform: "+i+";"),n.style.cssText+=";"+e}var Zg={exports:{}},Kg,Bx;function BL(){if(Bx)return Kg;Bx=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kg=n,Kg}var Wg,jx;function jL(){if(jx)return Wg;jx=1;var n=BL();function t(){}function e(){}return e.resetWarningCache=t,Wg=function(){function i(c,d,m,p,v,E){if(E!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},Wg}var Ux;function UL(){return Ux||(Ux=1,Zg.exports=jL()()),Zg.exports}var FL=UL();const Ki=zh(FL),Fx={disabled:!1},JS=Vn.createContext(null);var HL=function(t){return t.scrollTop},lh="unmounted",Sl="exited",yo="entering",Rl="entered",j_="exiting",Ra=(function(n){OL(t,n);function t(i,r){var o;o=n.call(this,i,r)||this;var c=r,d=c&&!c.isMounting?i.enter:i.appear,m;return o.appearStatus=null,i.in?d?(m=Sl,o.appearStatus=yo):m=Rl:i.unmountOnExit||i.mountOnEnter?m=lh:m=Sl,o.state={status:m},o.nextCallback=null,o}t.getDerivedStateFromProps=function(r,o){var c=r.in;return c&&o.status===lh?{status:Sl}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(r){var o=null;if(r!==this.props){var c=this.state.status;this.props.in?c!==yo&&c!==Rl&&(o=yo):(c===yo||c===Rl)&&(o=j_)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var r=this.props.timeout,o,c,d;return o=c=d=r,r!=null&&typeof r!="number"&&(o=r.exit,c=r.enter,d=r.appear!==void 0?r.appear:c),{exit:o,enter:c,appear:d}},e.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===yo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Vu.findDOMNode(this);c&&HL(c)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sl&&this.setState({status:lh})},e.performEnter=function(r){var o=this,c=this.props.enter,d=this.context?this.context.isMounting:r,m=this.props.nodeRef?[d]:[Vu.findDOMNode(this),d],p=m[0],v=m[1],E=this.getTimeouts(),w=d?E.appear:E.enter;if(!r&&!c||Fx.disabled){this.safeSetState({status:Rl},function(){o.props.onEntered(p)});return}this.props.onEnter(p,v),this.safeSetState({status:yo},function(){o.props.onEntering(p,v),o.onTransitionEnd(w,function(){o.safeSetState({status:Rl},function(){o.props.onEntered(p,v)})})})},e.performExit=function(){var r=this,o=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:Vu.findDOMNode(this);if(!o||Fx.disabled){this.safeSetState({status:Sl},function(){r.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:j_},function(){r.props.onExiting(d),r.onTransitionEnd(c.exit,function(){r.safeSetState({status:Sl},function(){r.props.onExited(d)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},e.setNextCallback=function(r){var o=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,o.nextCallback=null,r(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},e.onTransitionEnd=function(r,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:Vu.findDOMNode(this),d=r==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=m[0],v=m[1];this.props.addEndListener(p,v)}r!=null&&setTimeout(this.nextCallback,r)},e.render=function(){var r=this.state.status;if(r===lh)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var d=WS(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vn.createElement(JS.Provider,{value:null},typeof c=="function"?c(r,d):Vn.cloneElement(Vn.Children.only(c),d))},t})(Vn.Component);Ra.contextType=JS;Ra.propTypes={};function Ru(){}Ra.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ru,onEntering:Ru,onEntered:Ru,onExit:Ru,onExiting:Ru,onExited:Ru};Ra.UNMOUNTED=lh;Ra.EXITED=Sl;Ra.ENTERING=yo;Ra.ENTERED=Rl;Ra.EXITING=j_;function qL(n){return n.code==="Escape"||n.keyCode===27}function GL(){const n=I.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Nm(n){if(!n||typeof n=="function")return null;const{major:t}=GL();return t>=19?n.props.ref:n.ref}const rc=!!(typeof window<"u"&&window.document&&window.document.createElement);var U_=!1,F_=!1;try{var Yg={get passive(){return U_=!0},get once(){return F_=U_=!0}};rc&&(window.addEventListener("test",Yg,Yg),window.removeEventListener("test",Yg,!0))}catch{}function t2(n,t,e,i){if(i&&typeof i!="boolean"&&!F_){var r=i.once,o=i.capture,c=e;!F_&&r&&(c=e.__once||function d(m){this.removeEventListener(t,d,o),e.call(this,m)},e.__once=c),n.addEventListener(t,c,U_?i:o)}n.addEventListener(t,e,i)}function H_(n,t,e,i){var r=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(t,e,r),e.__once&&n.removeEventListener(t,e.__once,r)}function tm(n,t,e,i){return t2(n,t,e,i),function(){H_(n,t,e,i)}}function $L(n,t,e,i){if(i===void 0&&(i=!0),n){var r=document.createEvent("HTMLEvents");r.initEvent(t,e,i),n.dispatchEvent(r)}}function ZL(n){var t=kl(n,"transitionDuration")||"",e=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*e}function KL(n,t,e){e===void 0&&(e=5);var i=!1,r=setTimeout(function(){i||$L(n,"transitionend",!0)},t+e),o=tm(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),o()}}function e2(n,t,e,i){e==null&&(e=ZL(n)||0);var r=KL(n,e,i),o=tm(n,"transitionend",t);return function(){r(),o()}}function Hx(n,t){const e=kl(n,t)||"",i=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*i}function WL(n,t){const e=Hx(n,"transitionDuration"),i=Hx(n,"transitionDelay"),r=e2(n,o=>{o.target===n&&(r(),t(o))},e+i)}function YL(n){n.offsetHeight}const qx=n=>!n||typeof n=="function"?n:t=>{n.current=t};function XL(n,t){const e=qx(n),i=qx(t);return r=>{e&&e(r),i&&i(r)}}function n2(n,t){return I.useMemo(()=>XL(n,t),[n,t])}function QL(n){return n&&"setState"in n?Vu.findDOMNode(n):n??null}const i2=Vn.forwardRef(({onEnter:n,onEntering:t,onEntered:e,onExit:i,onExiting:r,onExited:o,addEndListener:c,children:d,childRef:m,...p},v)=>{const E=I.useRef(null),w=n2(E,m),D=mt=>{w(QL(mt))},N=mt=>F=>{mt&&E.current&&mt(E.current,F)},j=I.useCallback(N(n),[n]),z=I.useCallback(N(t),[t]),K=I.useCallback(N(e),[e]),X=I.useCallback(N(i),[i]),Y=I.useCallback(N(r),[r]),ot=I.useCallback(N(o),[o]),J=I.useCallback(N(c),[c]);return R.jsx(Ra,{ref:v,...p,onEnter:j,onEntered:K,onEntering:z,onExit:X,onExited:ot,onExiting:Y,addEndListener:J,nodeRef:E,children:typeof d=="function"?(mt,F)=>d(mt,{...F,ref:D}):Vn.cloneElement(d,{ref:D})})});i2.displayName="TransitionWrapper";function JL(n){const t=I.useRef(n);return I.useEffect(()=>{t.current=n},[n]),t}function Dh(n){const t=JL(n);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}const Vm=(n=>I.forwardRef((t,e)=>R.jsx("div",{...t,ref:e,className:Xt(t.className,n)}))),s2=Vm("h4");s2.displayName="DivStyledAsH4";const r2=I.forwardRef(({className:n,bsPrefix:t,as:e=s2,...i},r)=>(t=he(t,"alert-heading"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));r2.displayName="AlertHeading";function t4(n){const t=I.useRef(n);return I.useEffect(()=>{t.current=n},[n]),t}function ba(n){const t=t4(n);return I.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function e4(){const n=I.useRef(!0),t=I.useRef(()=>n.current);return I.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function n4(n){const t=I.useRef(null);return I.useEffect(()=>{t.current=n}),t.current}const i4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",s4=typeof document<"u",Gx=s4||i4?I.useLayoutEffect:I.useEffect,r4=["as","disabled"];function a4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function o4(n){return!n||n.trim()==="#"}function Uy({tagName:n,disabled:t,href:e,target:i,rel:r,role:o,onClick:c,tabIndex:d=0,type:m}){n||(e!=null||i!=null||r!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:m||"button",disabled:t},p];const v=w=>{if((t||n==="a"&&o4(e))&&w.preventDefault(),t){w.stopPropagation();return}c?.(w)},E=w=>{w.key===" "&&(w.preventDefault(),v(w))};return n==="a"&&(e||(e="#"),t&&(e=void 0)),[{role:o??"button",disabled:void 0,tabIndex:t?void 0:d,href:e,target:n==="a"?i:void 0,"aria-disabled":t||void 0,rel:n==="a"?r:void 0,onClick:v,onKeyDown:E},p]}const a2=I.forwardRef((n,t)=>{let{as:e,disabled:i}=n,r=a4(n,r4);const[o,{tagName:c}]=Uy(Object.assign({tagName:e,disabled:i},r));return R.jsx(c,Object.assign({},r,o,{ref:t}))});a2.displayName="Button";const l4=["onKeyDown"];function u4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function c4(n){return!n||n.trim()==="#"}const Fy=I.forwardRef((n,t)=>{let{onKeyDown:e}=n,i=u4(n,l4);const[r]=Uy(Object.assign({tagName:"a"},i)),o=ba(c=>{r.onKeyDown(c),e?.(c)});return c4(i.href)||i.role==="button"?R.jsx("a",Object.assign({ref:t},i,r,{onKeyDown:o})):R.jsx("a",Object.assign({ref:t},i,{onKeyDown:e}))});Fy.displayName="Anchor";const o2=I.forwardRef(({className:n,bsPrefix:t,as:e=Fy,...i},r)=>(t=he(t,"alert-link"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));o2.displayName="AlertLink";const h4={[yo]:"show",[Rl]:"show"},kh=I.forwardRef(({className:n,children:t,transitionClasses:e={},onEnter:i,...r},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},d=I.useCallback((m,p)=>{YL(m),i?.(m,p)},[i]);return R.jsx(i2,{ref:o,addEndListener:WL,...c,onEnter:d,childRef:Nm(t),children:(m,p)=>I.cloneElement(t,{...p,className:Xt("fade",n,t.props.className,h4[m],e[m])})})});kh.displayName="Fade";const f4={"aria-label":Ki.string,onClick:Ki.func,variant:Ki.oneOf(["white"])},zm=I.forwardRef(({className:n,variant:t,"aria-label":e="Close",...i},r)=>R.jsx("button",{ref:r,type:"button",className:Xt("btn-close",t&&`btn-close-${t}`,n),"aria-label":e,...i}));zm.displayName="CloseButton";zm.propTypes=f4;const l2=I.forwardRef((n,t)=>{const{bsPrefix:e,show:i=!0,closeLabel:r="Close alert",closeVariant:o,className:c,children:d,variant:m="primary",onClose:p,dismissible:v,transition:E=kh,...w}=YS(n,{show:"onClose"}),D=he(e,"alert"),N=Dh(K=>{p&&p(!1,K)}),j=E===!0?kh:E,z=R.jsxs("div",{role:"alert",...j?void 0:w,ref:t,className:Xt(c,D,m&&`${D}-${m}`,v&&`${D}-dismissible`),children:[v&&R.jsx(zm,{onClick:N,"aria-label":r,variant:o}),d]});return j?R.jsx(j,{unmountOnExit:!0,...w,ref:void 0,in:i,children:z}):i?z:null});l2.displayName="Alert";const Bo=Object.assign(l2,{Link:o2,Heading:r2}),bn=I.forwardRef(({as:n,bsPrefix:t,variant:e="primary",size:i,active:r=!1,disabled:o=!1,className:c,...d},m)=>{const p=he(t,"btn"),[v,{tagName:E}]=Uy({tagName:n,disabled:o,...d}),w=E;return R.jsx(w,{...v,...d,ref:m,disabled:o,className:Xt(c,p,r&&"active",e&&`${p}-${e}`,i&&`${p}-${i}`,d.href&&o&&"disabled")})});bn.displayName="Button";const Hy=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"card-body"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));Hy.displayName="CardBody";const u2=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"card-footer"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));u2.displayName="CardFooter";const c2=I.createContext(null);c2.displayName="CardHeaderContext";const h2=I.forwardRef(({bsPrefix:n,className:t,as:e="div",...i},r)=>{const o=he(n,"card-header"),c=I.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return R.jsx(c2.Provider,{value:c,children:R.jsx(e,{ref:r,...i,className:Xt(t,o)})})});h2.displayName="CardHeader";const f2=I.forwardRef(({bsPrefix:n,className:t,variant:e,as:i="img",...r},o)=>{const c=he(n,"card-img");return R.jsx(i,{ref:o,className:Xt(e?`${c}-${e}`:c,t),...r})});f2.displayName="CardImg";const d2=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"card-img-overlay"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));d2.displayName="CardImgOverlay";const m2=I.forwardRef(({className:n,bsPrefix:t,as:e="a",...i},r)=>(t=he(t,"card-link"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));m2.displayName="CardLink";const d4=Vm("h6"),p2=I.forwardRef(({className:n,bsPrefix:t,as:e=d4,...i},r)=>(t=he(t,"card-subtitle"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));p2.displayName="CardSubtitle";const g2=I.forwardRef(({className:n,bsPrefix:t,as:e="p",...i},r)=>(t=he(t,"card-text"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));g2.displayName="CardText";const m4=Vm("h5"),_2=I.forwardRef(({className:n,bsPrefix:t,as:e=m4,...i},r)=>(t=he(t,"card-title"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));_2.displayName="CardTitle";const y2=I.forwardRef(({bsPrefix:n,className:t,bg:e,text:i,border:r,body:o=!1,children:c,as:d="div",...m},p)=>{const v=he(n,"card");return R.jsx(d,{ref:p,...m,className:Xt(t,v,e&&`bg-${e}`,i&&`text-${i}`,r&&`border-${r}`),children:o?R.jsx(Hy,{children:c}):c})});y2.displayName="Card";const Ze=Object.assign(y2,{Img:f2,Title:_2,Subtitle:p2,Body:Hy,Link:m2,Text:g2,Header:h2,Footer:u2,ImgOverlay:d2});function p4(n){const t=I.useRef(n);return t.current=n,t}function g4(n){const t=p4(n);I.useEffect(()=>()=>t.current(),[])}function _4(n,t){return I.Children.toArray(n).some(e=>I.isValidElement(e)&&e.type===t)}function y4({as:n,bsPrefix:t,className:e,...i}){t=he(t,"col");const r=By(),o=jy(),c=[],d=[];return r.forEach(m=>{const p=i[m];delete i[m];let v,E,w;typeof p=="object"&&p!=null?{span:v,offset:E,order:w}=p:v=p;const D=m!==o?`-${m}`:"";v&&c.push(v===!0?`${t}${D}`:`${t}${D}-${v}`),w!=null&&d.push(`order${D}-${w}`),E!=null&&d.push(`offset${D}-${E}`)}),[{...i,className:Xt(e,...c,...d)},{as:n,bsPrefix:t,spans:c}]}const Yu=I.forwardRef((n,t)=>{const[{className:e,...i},{as:r="div",bsPrefix:o,spans:c}]=y4(n);return R.jsx(r,{...i,ref:t,className:Xt(e,!c.length&&o)})});Yu.displayName="Col";const q_=I.forwardRef(({bsPrefix:n,fluid:t=!1,as:e="div",className:i,...r},o)=>{const c=he(n,"container"),d=typeof t=="string"?`-${t}`:"-fluid";return R.jsx(e,{ref:o,...r,className:Xt(i,t?`${c}${d}`:c)})});q_.displayName="Container";var v4=Function.prototype.bind.call(Function.prototype.call,[].slice);function Al(n,t){return v4(n.querySelectorAll(t))}function b4(){const[,n]=I.useReducer(t=>t+1,0);return n}function $x(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}const G_=I.createContext(null),qy=(n,t=null)=>n!=null?String(n):t||null,Gy=I.createContext(null);Gy.displayName="NavContext";const x4="data-rr-ui-",E4="rrUi";function Bm(n){return`${x4}${n}`}function w4(n){return`${E4}${n}`}const v2=I.createContext(rc?window:void 0);v2.Provider;function $y(){return I.useContext(v2)}Ki.string,Ki.bool,Ki.bool,Ki.bool,Ki.bool;const em=I.forwardRef(({bsPrefix:n,className:t,fluid:e=!1,rounded:i=!1,roundedCircle:r=!1,thumbnail:o=!1,...c},d)=>(n=he(n,"img"),R.jsx("img",{ref:d,...c,className:Xt(t,e&&`${n}-fluid`,i&&"rounded",r&&"rounded-circle",o&&`${n}-thumbnail`)})));em.displayName="Image";const T4={type:Ki.string,tooltip:Ki.bool,as:Ki.elementType},jm=I.forwardRef(({as:n="div",className:t,type:e="valid",tooltip:i=!1,...r},o)=>R.jsx(n,{...r,ref:o,className:Xt(t,`${e}-${i?"tooltip":"feedback"}`)}));jm.displayName="Feedback";jm.propTypes=T4;const Ca=I.createContext({}),Zy=I.forwardRef(({id:n,bsPrefix:t,className:e,type:i="checkbox",isValid:r=!1,isInvalid:o=!1,as:c="input",...d},m)=>{const{controlId:p}=I.useContext(Ca);return t=he(t,"form-check-input"),R.jsx(c,{...d,ref:m,type:i,id:n||p,className:Xt(e,t,r&&"is-valid",o&&"is-invalid")})});Zy.displayName="FormCheckInput";const nm=I.forwardRef(({bsPrefix:n,className:t,htmlFor:e,...i},r)=>{const{controlId:o}=I.useContext(Ca);return n=he(n,"form-check-label"),R.jsx("label",{...i,ref:r,htmlFor:e||o,className:Xt(t,n)})});nm.displayName="FormCheckLabel";const b2=I.forwardRef(({id:n,bsPrefix:t,bsSwitchPrefix:e,inline:i=!1,reverse:r=!1,disabled:o=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:p,feedbackType:v,className:E,style:w,title:D="",type:N="checkbox",label:j,children:z,as:K="input",...X},Y)=>{t=he(t,"form-check"),e=he(e,"form-switch");const{controlId:ot}=I.useContext(Ca),J=I.useMemo(()=>({controlId:n||ot}),[ot,n]),mt=!z&&j!=null&&j!==!1||_4(z,nm),F=R.jsx(Zy,{...X,type:N==="switch"?"checkbox":N,ref:Y,isValid:c,isInvalid:d,disabled:o,as:K});return R.jsx(Ca.Provider,{value:J,children:R.jsx("div",{style:w,className:Xt(E,mt&&t,i&&`${t}-inline`,r&&`${t}-reverse`,N==="switch"&&e),children:z||R.jsxs(R.Fragment,{children:[F,mt&&R.jsx(nm,{title:D,children:j}),p&&R.jsx(jm,{type:v,tooltip:m,children:p})]})})})});b2.displayName="FormCheck";const im=Object.assign(b2,{Input:Zy,Label:nm}),x2=I.forwardRef(({bsPrefix:n,type:t,size:e,htmlSize:i,id:r,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:p,as:v="input",...E},w)=>{const{controlId:D}=I.useContext(Ca);return n=he(n,"form-control"),R.jsx(v,{...E,type:t,size:i,ref:w,readOnly:p,id:r||D,className:Xt(o,m?`${n}-plaintext`:n,e&&`${n}-${e}`,t==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});x2.displayName="FormControl";const S4=Object.assign(x2,{Feedback:jm}),E2=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"form-floating"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));E2.displayName="FormFloating";const Ky=I.forwardRef(({controlId:n,as:t="div",...e},i)=>{const r=I.useMemo(()=>({controlId:n}),[n]);return R.jsx(Ca.Provider,{value:r,children:R.jsx(t,{...e,ref:i})})});Ky.displayName="FormGroup";const w2=I.forwardRef(({as:n="label",bsPrefix:t,column:e=!1,visuallyHidden:i=!1,className:r,htmlFor:o,...c},d)=>{const{controlId:m}=I.useContext(Ca);t=he(t,"form-label");let p="col-form-label";typeof e=="string"&&(p=`${p} ${p}-${e}`);const v=Xt(r,t,i&&"visually-hidden",e&&p);return o=o||m,e?R.jsx(Yu,{ref:d,as:"label",className:v,htmlFor:o,...c}):R.jsx(n,{ref:d,className:v,htmlFor:o,...c})});w2.displayName="FormLabel";const T2=I.forwardRef(({bsPrefix:n,className:t,id:e,...i},r)=>{const{controlId:o}=I.useContext(Ca);return n=he(n,"form-range"),R.jsx("input",{...i,type:"range",ref:r,className:Xt(t,n),id:e||o})});T2.displayName="FormRange";const S2=I.forwardRef(({bsPrefix:n,size:t,htmlSize:e,className:i,isValid:r=!1,isInvalid:o=!1,id:c,...d},m)=>{const{controlId:p}=I.useContext(Ca);return n=he(n,"form-select"),R.jsx("select",{...d,size:e,ref:m,className:Xt(i,n,t&&`${n}-${t}`,r&&"is-valid",o&&"is-invalid"),id:c||p})});S2.displayName="FormSelect";const A2=I.forwardRef(({bsPrefix:n,className:t,as:e="small",muted:i,...r},o)=>(n=he(n,"form-text"),R.jsx(e,{...r,ref:o,className:Xt(t,n,i&&"text-muted")})));A2.displayName="FormText";const C2=I.forwardRef((n,t)=>R.jsx(im,{...n,ref:t,type:"switch"}));C2.displayName="Switch";const A4=Object.assign(C2,{Input:im.Input,Label:im.Label}),R2=I.forwardRef(({bsPrefix:n,className:t,children:e,controlId:i,label:r,...o},c)=>(n=he(n,"form-floating"),R.jsxs(Ky,{ref:c,className:Xt(t,n),controlId:i,...o,children:[e,R.jsx("label",{htmlFor:i,children:r})]})));R2.displayName="FloatingLabel";const C4={_ref:Ki.any,validated:Ki.bool,as:Ki.elementType},Wy=I.forwardRef(({className:n,validated:t,as:e="form",...i},r)=>R.jsx(e,{...i,ref:r,className:Xt(n,t&&"was-validated")}));Wy.displayName="Form";Wy.propTypes=C4;const Dt=Object.assign(Wy,{Group:Ky,Control:S4,Floating:E2,Check:im,Switch:A4,Label:w2,Text:A2,Range:T2,Select:S2,FloatingLabel:R2}),Zx=n=>!n||typeof n=="function"?n:t=>{n.current=t};function R4(n,t){const e=Zx(n),i=Zx(t);return r=>{e&&e(r),i&&i(r)}}function Um(n,t){return I.useMemo(()=>R4(n,t),[n,t])}const M2=I.createContext(null),M4=["as","active","eventKey"];function O4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function O2({key:n,onClick:t,active:e,id:i,role:r,disabled:o}){const c=I.useContext(G_),d=I.useContext(Gy),m=I.useContext(M2);let p=e;const v={role:r};if(d){!r&&d.role==="tablist"&&(v.role="tab");const E=d.getControllerId(n??null),w=d.getControlledId(n??null);v[Bm("event-key")]=n,v.id=E||i,p=e==null&&n!=null?d.activeKey===n:e,(p||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(v["aria-controls"]=w)}return v.role==="tab"&&(v["aria-selected"]=p,p||(v.tabIndex=-1),o&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=ba(E=>{o||(t?.(E),n!=null&&c&&!E.isPropagationStopped()&&c(n,E))}),[v,{isActive:p}]}const D2=I.forwardRef((n,t)=>{let{as:e=a2,active:i,eventKey:r}=n,o=O4(n,M4);const[c,d]=O2(Object.assign({key:qy(r,o.href),active:i},o));return c[Bm("active")]=d.isActive,R.jsx(e,Object.assign({},o,c,{ref:t}))});D2.displayName="NavItem";const D4=["as","onSelect","activeKey","role","onKeyDown"];function k4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const Kx=()=>{},Wx=Bm("event-key"),k2=I.forwardRef((n,t)=>{let{as:e="div",onSelect:i,activeKey:r,role:o,onKeyDown:c}=n,d=k4(n,D4);const m=b4(),p=I.useRef(!1),v=I.useContext(G_),E=I.useContext(M2);let w,D;E&&(o=o||"tablist",r=E.activeKey,w=E.getControlledId,D=E.getControllerId);const N=I.useRef(null),j=Y=>{const ot=N.current;if(!ot)return null;const J=Al(ot,`[${Wx}]:not([aria-disabled=true])`),mt=ot.querySelector("[aria-selected=true]");if(!mt||mt!==document.activeElement)return null;const F=J.indexOf(mt);if(F===-1)return null;let A=F+Y;return A>=J.length&&(A=0),A<0&&(A=J.length-1),J[A]},z=(Y,ot)=>{Y!=null&&(i?.(Y,ot),v?.(Y,ot))},K=Y=>{if(c?.(Y),!E)return;let ot;switch(Y.key){case"ArrowLeft":case"ArrowUp":ot=j(-1);break;case"ArrowRight":case"ArrowDown":ot=j(1);break;default:return}ot&&(Y.preventDefault(),z(ot.dataset[w4("EventKey")]||null,Y),p.current=!0,m())};I.useEffect(()=>{if(N.current&&p.current){const Y=N.current.querySelector(`[${Wx}][aria-selected=true]`);Y?.focus()}p.current=!1});const X=Um(t,N);return R.jsx(G_.Provider,{value:z,children:R.jsx(Gy.Provider,{value:{role:o,activeKey:qy(r),getControlledId:w||Kx,getControllerId:D||Kx},children:R.jsx(e,Object.assign({},d,{onKeyDown:K,ref:X,role:o}))})})});k2.displayName="Nav";const I4=Object.assign(k2,{Item:D2}),I2=I.forwardRef(({bsPrefix:n,active:t,disabled:e,eventKey:i,className:r,variant:o,action:c,as:d,...m},p)=>{n=he(n,"list-group-item");const[v,E]=O2({key:qy(i,m.href),active:t,...m}),w=Dh(N=>{if(e){N.preventDefault(),N.stopPropagation();return}v.onClick(N)});e&&m.tabIndex===void 0&&(m.tabIndex=-1,m["aria-disabled"]=!0);const D=d||(c?m.href?"a":"button":"div");return R.jsx(D,{ref:p,...m,...v,onClick:w,className:Xt(r,n,E.isActive&&"active",e&&"disabled",o&&`${n}-${o}`,c&&`${n}-action`)})});I2.displayName="ListGroupItem";const P2=I.forwardRef((n,t)=>{const{className:e,bsPrefix:i,variant:r,horizontal:o,numbered:c,as:d="div",...m}=YS(n,{activeKey:"onSelect"}),p=he(i,"list-group");let v;return o&&(v=o===!0?"horizontal":`horizontal-${o}`),R.jsx(I4,{ref:t,...m,as:d,className:Xt(e,p,r&&`${p}-${r}`,v&&`${p}-${v}`,c&&`${p}-numbered`)})});P2.displayName="ListGroup";const An=Object.assign(P2,{Item:I2});var ud;function Yx(n){if((!ud&&ud!==0||n)&&rc){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ud=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ud}function P4(){return I.useState(null)}function Xg(n){n===void 0&&(n=Lm());try{var t=n.activeElement;return!t||!t.nodeName?null:t}catch{return n.body}}function L4(n){const t=I.useRef(n);return t.current=n,t}function N4(n){const t=L4(n);I.useEffect(()=>()=>t.current(),[])}function V4(n=document){const t=n.defaultView;return Math.abs(t.innerWidth-n.documentElement.clientWidth)}const Xx=Bm("modal-open");class Yy{constructor({ownerDocument:t,handleContainerOverflow:e=!0,isRTL:i=!1}={}){this.handleContainerOverflow=e,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return V4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[i]:r.style[i]},t.scrollBarWidth&&(e[i]=`${parseInt(kl(r,i)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Xx,""),kl(r,e)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Xx),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return e!==-1||(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e}remove(t){const e=this.modals.indexOf(t);e!==-1&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Qg=(n,t)=>rc?n==null?(t||Lm()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function z4(n,t){const e=$y(),[i,r]=I.useState(()=>Qg(n,e?.document));if(!i){const o=Qg(n);o&&r(o)}return I.useEffect(()=>{},[t,i]),I.useEffect(()=>{const o=Qg(n);o!==i&&r(o)},[n,i]),i}function B4({children:n,in:t,onExited:e,mountOnEnter:i,unmountOnExit:r}){const o=I.useRef(null),c=I.useRef(t),d=ba(e);I.useEffect(()=>{t?c.current=!0:d(o.current)},[t,d]);const m=Um(o,Nm(n)),p=I.cloneElement(n,{ref:m});return t?p:r||!c.current&&i?null:p}const j4=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function U4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function F4(n){let{onEnter:t,onEntering:e,onEntered:i,onExit:r,onExiting:o,onExited:c,addEndListener:d,children:m}=n,p=U4(n,j4);const v=I.useRef(null),E=Um(v,Nm(m)),w=ot=>J=>{ot&&v.current&&ot(v.current,J)},D=I.useCallback(w(t),[t]),N=I.useCallback(w(e),[e]),j=I.useCallback(w(i),[i]),z=I.useCallback(w(r),[r]),K=I.useCallback(w(o),[o]),X=I.useCallback(w(c),[c]),Y=I.useCallback(w(d),[d]);return Object.assign({},p,{nodeRef:v},t&&{onEnter:D},e&&{onEntering:N},i&&{onEntered:j},r&&{onExit:z},o&&{onExiting:K},c&&{onExited:X},d&&{addEndListener:Y},{children:typeof m=="function"?(ot,J)=>m(ot,Object.assign({},J,{ref:E})):I.cloneElement(m,{ref:E})})}const H4=["component"];function q4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}const G4=I.forwardRef((n,t)=>{let{component:e}=n,i=q4(n,H4);const r=F4(i);return R.jsx(e,Object.assign({ref:t},r))});function $4({in:n,onTransition:t}){const e=I.useRef(null),i=I.useRef(!0),r=ba(t);return Gx(()=>{if(!e.current)return;let o=!1;return r({in:n,element:e.current,initial:i.current,isStale:()=>o}),()=>{o=!0}},[n,r]),Gx(()=>(i.current=!1,()=>{i.current=!0}),[]),e}function Z4({children:n,in:t,onExited:e,onEntered:i,transition:r}){const[o,c]=I.useState(!t);t&&o&&c(!1);const d=$4({in:!!t,onTransition:p=>{const v=()=>{p.isStale()||(p.in?i?.(p.element,p.initial):(c(!0),e?.(p.element)))};Promise.resolve(r(p)).then(v,E=>{throw p.in||c(!0),E})}}),m=Um(d,Nm(n));return o&&!t?null:I.cloneElement(n,{ref:m})}function Qx(n,t,e){return n?R.jsx(G4,Object.assign({},e,{component:n})):t?R.jsx(Z4,Object.assign({},e,{transition:t})):R.jsx(B4,Object.assign({},e))}const K4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function W4(n,t){if(n==null)return{};var e={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}let Jg;function Y4(n){return Jg||(Jg=new Yy({ownerDocument:n?.document})),Jg}function X4(n){const t=$y(),e=n||Y4(t),i=I.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>e.add(i.current),remove:()=>e.remove(i.current),isTopModal:()=>e.isTopModal(i.current),setDialogRef:I.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:I.useCallback(r=>{i.current.backdrop=r},[])})}const L2=I.forwardRef((n,t)=>{let{show:e=!1,role:i="dialog",className:r,style:o,children:c,backdrop:d=!0,keyboard:m=!0,onBackdropClick:p,onEscapeKeyDown:v,transition:E,runTransition:w,backdropTransition:D,runBackdropTransition:N,autoFocus:j=!0,enforceFocus:z=!0,restoreFocus:K=!0,restoreFocusOptions:X,renderDialog:Y,renderBackdrop:ot=jt=>R.jsx("div",Object.assign({},jt)),manager:J,container:mt,onShow:F,onHide:A=()=>{},onExit:O,onExited:V,onExiting:B,onEnter:q,onEntering:H,onEntered:Mt}=n,It=W4(n,K4);const tt=$y(),pt=z4(mt),dt=X4(J),St=e4(),G=n4(e),[Q,gt]=I.useState(!e),st=I.useRef(null);I.useImperativeHandle(t,()=>dt,[dt]),rc&&!G&&e&&(st.current=Xg(tt?.document)),e&&Q&&gt(!1);const bt=ba(()=>{if(dt.add(),fe.current=tm(document,"keydown",Ct),Ht.current=tm(document,"focus",()=>setTimeout(_t),!0),F&&F(),j){var jt,$t;const le=Xg((jt=($t=dt.dialog)==null?void 0:$t.ownerDocument)!=null?jt:tt?.document);dt.dialog&&le&&!$x(dt.dialog,le)&&(st.current=le,dt.dialog.focus())}}),lt=ba(()=>{if(dt.remove(),fe.current==null||fe.current(),Ht.current==null||Ht.current(),K){var jt;(jt=st.current)==null||jt.focus==null||jt.focus(X),st.current=null}});I.useEffect(()=>{!e||!pt||bt()},[e,pt,bt]),I.useEffect(()=>{Q&&lt()},[Q,lt]),N4(()=>{lt()});const _t=ba(()=>{if(!z||!St()||!dt.isTopModal())return;const jt=Xg(tt?.document);dt.dialog&&jt&&!$x(dt.dialog,jt)&&dt.dialog.focus()}),Ft=ba(jt=>{jt.target===jt.currentTarget&&(p?.(jt),d===!0&&A())}),Ct=ba(jt=>{m&&qL(jt)&&dt.isTopModal()&&(v?.(jt),jt.defaultPrevented||A())}),Ht=I.useRef(),fe=I.useRef(),qt=(...jt)=>{gt(!0),V?.(...jt)};if(!pt)return null;const ie=Object.assign({role:i,ref:dt.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},It,{style:o,className:r,tabIndex:-1});let ve=Y?Y(ie):R.jsx("div",Object.assign({},ie,{children:I.cloneElement(c,{role:"document"})}));ve=Qx(E,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!e,onExit:O,onExiting:B,onExited:qt,onEnter:q,onEntering:H,onEntered:Mt,children:ve});let de=null;return d&&(de=ot({ref:dt.setBackdropRef,onClick:Ft}),de=Qx(D,N,{in:!!e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:de})),R.jsx(R.Fragment,{children:Vu.createPortal(R.jsxs(R.Fragment,{children:[de,ve]}),pt)})});L2.displayName="Modal";const Q4=Object.assign(L2,{Manager:Yy});function J4(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function t3(n,t){n.classList?n.classList.add(t):J4(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function Jx(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e3(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=Jx(n.className,t):n.setAttribute("class",Jx(n.className&&n.className.baseVal||"",t))}const Mu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class n3 extends Yy{adjustAndStore(t,e,i){const r=e.style[t];e.dataset[t]=r,kl(e,{[t]:`${parseFloat(kl(e,t))+i}px`})}restore(t,e){const i=e.dataset[t];i!==void 0&&(delete e.dataset[t],kl(e,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();if(t3(e,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Al(e,Mu.FIXED_CONTENT).forEach(o=>this.adjustAndStore(i,o,t.scrollBarWidth)),Al(e,Mu.STICKY_CONTENT).forEach(o=>this.adjustAndStore(r,o,-t.scrollBarWidth)),Al(e,Mu.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(r,o,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();e3(e,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Al(e,Mu.FIXED_CONTENT).forEach(o=>this.restore(i,o)),Al(e,Mu.STICKY_CONTENT).forEach(o=>this.restore(r,o)),Al(e,Mu.NAVBAR_TOGGLER).forEach(o=>this.restore(r,o))}}let t_;function i3(n){return t_||(t_=new n3(n)),t_}const N2=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"modal-body"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));N2.displayName="ModalBody";const V2=I.createContext({onHide(){}}),Xy=I.forwardRef(({bsPrefix:n,className:t,contentClassName:e,centered:i,size:r,fullscreen:o,children:c,scrollable:d,...m},p)=>{n=he(n,"modal");const v=`${n}-dialog`,E=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return R.jsx("div",{...m,ref:p,className:Xt(v,t,r&&`${n}-${r}`,i&&`${v}-centered`,d&&`${v}-scrollable`,o&&E),children:R.jsx("div",{className:Xt(`${n}-content`,e),children:c})})});Xy.displayName="ModalDialog";const z2=I.forwardRef(({className:n,bsPrefix:t,as:e="div",...i},r)=>(t=he(t,"modal-footer"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));z2.displayName="ModalFooter";const B2=I.forwardRef(({closeLabel:n="Close",closeVariant:t,closeButton:e=!1,onHide:i,children:r,...o},c)=>{const d=I.useContext(V2),m=Dh(()=>{d?.onHide(),i?.()});return R.jsxs("div",{ref:c,...o,children:[r,e&&R.jsx(zm,{"aria-label":n,variant:t,onClick:m})]})});B2.displayName="AbstractModalHeader";const j2=I.forwardRef(({bsPrefix:n,className:t,closeLabel:e="Close",closeButton:i=!1,...r},o)=>(n=he(n,"modal-header"),R.jsx(B2,{ref:o,...r,className:Xt(t,n),closeLabel:e,closeButton:i})));j2.displayName="ModalHeader";const s3=Vm("h4"),U2=I.forwardRef(({className:n,bsPrefix:t,as:e=s3,...i},r)=>(t=he(t,"modal-title"),R.jsx(e,{ref:r,className:Xt(n,t),...i})));U2.displayName="ModalTitle";function r3(n){return R.jsx(kh,{...n,timeout:null})}function a3(n){return R.jsx(kh,{...n,timeout:null})}const F2=I.forwardRef(({bsPrefix:n,className:t,style:e,dialogClassName:i,contentClassName:r,children:o,dialogAs:c=Xy,"data-bs-theme":d,"aria-labelledby":m,"aria-describedby":p,"aria-label":v,show:E=!1,animation:w=!0,backdrop:D=!0,keyboard:N=!0,onEscapeKeyDown:j,onShow:z,onHide:K,container:X,autoFocus:Y=!0,enforceFocus:ot=!0,restoreFocus:J=!0,restoreFocusOptions:mt,onEntered:F,onExit:A,onExiting:O,onEnter:V,onEntering:B,onExited:q,backdropClassName:H,manager:Mt,...It},tt)=>{const[pt,dt]=I.useState({}),[St,G]=I.useState(!1),Q=I.useRef(!1),gt=I.useRef(!1),st=I.useRef(null),[bt,lt]=P4(),_t=n2(tt,lt),Ft=Dh(K),Ct=DL();n=he(n,"modal");const Ht=I.useMemo(()=>({onHide:Ft}),[Ft]);function fe(){return Mt||i3({isRTL:Ct})}function qt(zt){if(!rc)return;const ue=fe().getScrollbarWidth()>0,ze=zt.scrollHeight>Lm(zt).documentElement.clientHeight;dt({paddingRight:ue&&!ze?Yx():void 0,paddingLeft:!ue&&ze?Yx():void 0})}const ie=Dh(()=>{bt&&qt(bt.dialog)});g4(()=>{H_(window,"resize",ie),st.current==null||st.current()});const ve=()=>{Q.current=!0},de=zt=>{Q.current&&bt&&zt.target===bt.dialog&&(gt.current=!0),Q.current=!1},jt=()=>{G(!0),st.current=e2(bt.dialog,()=>{G(!1)})},$t=zt=>{zt.target===zt.currentTarget&&jt()},le=zt=>{if(D==="static"){$t(zt);return}if(gt.current||zt.target!==zt.currentTarget){gt.current=!1;return}K?.()},ae=zt=>{N?j?.(zt):(zt.preventDefault(),D==="static"&&jt())},Jt=(zt,ue)=>{zt&&qt(zt),V?.(zt,ue)},re=zt=>{st.current==null||st.current(),A?.(zt)},dn=(zt,ue)=>{B?.(zt,ue),t2(window,"resize",ie)},Rn=zt=>{zt&&(zt.style.display=""),q?.(zt),H_(window,"resize",ie)},ri=I.useCallback(zt=>R.jsx("div",{...zt,className:Xt(`${n}-backdrop`,H,!w&&"show")}),[w,H,n]),Ke={...e,...pt};Ke.display="block";const mn=zt=>R.jsx("div",{role:"dialog",...zt,style:Ke,className:Xt(t,n,St&&`${n}-static`,!w&&"show"),onClick:D?le:void 0,onMouseUp:de,"data-bs-theme":d,"aria-label":v,"aria-labelledby":m,"aria-describedby":p,children:R.jsx(c,{...It,onMouseDown:ve,className:i,contentClassName:r,children:o})});return R.jsx(V2.Provider,{value:Ht,children:R.jsx(Q4,{show:E,ref:_t,backdrop:D,container:X,keyboard:!0,autoFocus:Y,enforceFocus:ot,restoreFocus:J,restoreFocusOptions:mt,onEscapeKeyDown:ae,onShow:z,onHide:K,onEnter:Jt,onEntering:dn,onEntered:F,onExit:re,onExiting:O,onExited:Rn,manager:fe(),transition:w?r3:void 0,backdropTransition:w?a3:void 0,renderBackdrop:ri,renderDialog:mn})})});F2.displayName="Modal";const Qe=Object.assign(F2,{Body:N2,Header:j2,Title:U2,Footer:z2,Dialog:Xy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Qy=I.forwardRef(({active:n=!1,disabled:t=!1,className:e,style:i,activeLabel:r="(current)",children:o,linkStyle:c,linkClassName:d,as:m=Fy,...p},v)=>{const E=n||t?"span":m;return R.jsx("li",{ref:v,style:i,className:Xt(e,"page-item",{active:n,disabled:t}),children:R.jsxs(E,{className:Xt("page-link",d),style:c,...p,children:[o,n&&r&&R.jsx("span",{className:"visually-hidden",children:r})]})})});Qy.displayName="PageItem";function Wh(n,t,e=n){const i=I.forwardRef(({children:r,...o},c)=>R.jsxs(Qy,{...o,ref:c,children:[R.jsx("span",{"aria-hidden":"true",children:r||t}),R.jsx("span",{className:"visually-hidden",children:e})]}));return i.displayName=n,i}const o3=Wh("First","«"),l3=Wh("Prev","‹","Previous"),u3=Wh("Ellipsis","…","More"),c3=Wh("Next","›"),h3=Wh("Last","»"),H2=I.forwardRef(({bsPrefix:n,className:t,size:e,...i},r)=>{const o=he(n,"pagination");return R.jsx("ul",{ref:r,...i,className:Xt(t,o,e&&`${o}-${e}`)})});H2.displayName="Pagination";const tE=Object.assign(H2,{First:o3,Prev:l3,Ellipsis:u3,Item:Qy,Next:c3,Last:h3}),Fm=I.forwardRef(({bsPrefix:n,className:t,as:e="div",...i},r)=>{const o=he(n,"row"),c=By(),d=jy(),m=`${o}-cols`,p=[];return c.forEach(v=>{const E=i[v];delete i[v];let w;E!=null&&typeof E=="object"?{cols:w}=E:w=E;const D=v!==d?`-${v}`:"";w!=null&&p.push(`${m}${D}-${w}`)}),R.jsx(e,{ref:r,...i,className:Xt(t,o,...p)})});Fm.displayName="Row";const Hl=I.forwardRef(({bsPrefix:n,variant:t,animation:e="border",size:i,as:r="div",className:o,...c},d)=>{n=he(n,"spinner");const m=`${n}-${e}`;return R.jsx(r,{ref:d,...c,className:Xt(o,m,i&&`${m}-${i}`,t&&`text-${t}`)})});Hl.displayName="Spinner";function f3(n,t=XS,e=QS){const i=[];return Object.entries(n).forEach(([r,o])=>{o!=null&&(typeof o=="object"?t.forEach(c=>{const d=o[c];if(d!=null){const m=c!==e?`-${c}`:"";i.push(`${r}${m}-${d}`)}}):i.push(`${r}-${o}`))}),i}const $_=I.forwardRef(({as:n="div",bsPrefix:t,className:e,direction:i,gap:r,...o},c)=>{t=he(t,i==="horizontal"?"hstack":"vstack");const d=By(),m=jy();return R.jsx(n,{...o,ref:c,className:Xt(e,t,...f3({gap:r},d,m))})});$_.displayName="Stack";const Hm=I.forwardRef(({bsPrefix:n,className:t,striped:e,bordered:i,borderless:r,hover:o,size:c,variant:d,responsive:m,...p},v)=>{const E=he(n,"table"),w=Xt(t,E,d&&`${E}-${d}`,c&&`${E}-${c}`,e&&`${E}-${typeof e=="string"?`striped-${e}`:"striped"}`,i&&`${E}-bordered`,r&&`${E}-borderless`,o&&`${E}-hover`),D=R.jsx("table",{...p,className:w,ref:v});if(m){let N=`${E}-responsive`;return typeof m=="string"&&(N=`${N}-${m}`),R.jsx("div",{className:N,children:D})}return D});Hm.displayName="Table";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yh(n){return n+.5|0}const bo=(n,t,e)=>Math.max(Math.min(n,e),t);function uh(n){return bo(Yh(n*2.55),0,255)}function Ro(n){return bo(Yh(n*255),0,255)}function ya(n){return bo(Yh(n/2.55)/100,0,1)}function eE(n){return bo(Yh(n*100),0,100)}const Ps={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z_=[..."0123456789ABCDEF"],d3=n=>Z_[n&15],m3=n=>Z_[(n&240)>>4]+Z_[n&15],cd=n=>(n&240)>>4===(n&15),p3=n=>cd(n.r)&&cd(n.g)&&cd(n.b)&&cd(n.a);function g3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ps[n[1]]*17,g:255&Ps[n[2]]*17,b:255&Ps[n[3]]*17,a:t===5?Ps[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ps[n[1]]<<4|Ps[n[2]],g:Ps[n[3]]<<4|Ps[n[4]],b:Ps[n[5]]<<4|Ps[n[6]],a:t===9?Ps[n[7]]<<4|Ps[n[8]]:255})),e}const _3=(n,t)=>n<255?t(n):"";function y3(n){var t=p3(n)?d3:m3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+_3(n.a,t):void 0}const v3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q2(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function b3(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function x3(n,t,e){const i=q2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function E3(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Jy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),d=(o+c)/2;let m,p,v;return o!==c&&(v=o-c,p=d>.5?v/(2-o-c):v/(o+c),m=E3(e,i,r,v,o),m=m*60+.5),[m|0,p||0,d]}function tv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ro)}function ev(n,t,e){return tv(q2,n,t,e)}function w3(n,t,e){return tv(x3,n,t,e)}function T3(n,t,e){return tv(b3,n,t,e)}function G2(n){return(n%360+360)%360}function S3(n){const t=v3.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?uh(+t[5]):Ro(+t[5]));const r=G2(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=w3(r,o,c):t[1]==="hsv"?i=T3(r,o,c):i=ev(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function A3(n,t){var e=Jy(n);e[0]=G2(e[0]+t),e=ev(e),n.r=e[0],n.g=e[1],n.b=e[2]}function C3(n){if(!n)return;const t=Jy(n),e=t[0],i=eE(t[1]),r=eE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ya(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const nE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R3(){const n={},t=Object.keys(iE),e=Object.keys(nE);let i,r,o,c,d;for(i=0;i<t.length;i++){for(c=d=t[i],r=0;r<e.length;r++)o=e[r],d=d.replace(o,nE[o]);o=parseInt(iE[c],16),n[d]=[o>>16&255,o>>8&255,o&255]}return n}let hd;function M3(n){hd||(hd=R3(),hd.transparent=[0,0,0,0]);const t=hd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const O3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function D3(n){const t=O3.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?uh(c):bo(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?uh(i):bo(i,0,255)),r=255&(t[4]?uh(r):bo(r,0,255)),o=255&(t[6]?uh(o):bo(o,0,255)),{r:i,g:r,b:o,a:e}}}function k3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ya(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const e_=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ou=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function I3(n,t,e){const i=Ou(ya(n.r)),r=Ou(ya(n.g)),o=Ou(ya(n.b));return{r:Ro(e_(i+e*(Ou(ya(t.r))-i))),g:Ro(e_(r+e*(Ou(ya(t.g))-r))),b:Ro(e_(o+e*(Ou(ya(t.b))-o))),a:n.a+e*(t.a-n.a)}}function fd(n,t,e){if(n){let i=Jy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ev(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function $2(n,t){return n&&Object.assign(t||{},n)}function sE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ro(n[3]))):(t=$2(n,{r:0,g:0,b:0,a:1}),t.a=Ro(t.a)),t}function P3(n){return n.charAt(0)==="r"?D3(n):S3(n)}class Ih{constructor(t){if(t instanceof Ih)return t;const e=typeof t;let i;e==="object"?i=sE(t):e==="string"&&(i=g3(t)||M3(t)||P3(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=$2(this._rgb);return t&&(t.a=ya(t.a)),t}set rgb(t){this._rgb=sE(t)}rgbString(){return this._valid?k3(this._rgb):void 0}hexString(){return this._valid?y3(this._rgb):void 0}hslString(){return this._valid?C3(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,d=2*c-1,m=i.a-r.a,p=((d*m===-1?d:(d+m)/(1+d*m))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=I3(this._rgb,t._rgb,e)),this}clone(){return new Ih(this.rgb)}alpha(t){return this._rgb.a=Ro(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Yh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return fd(this._rgb,2,t),this}darken(t){return fd(this._rgb,2,-t),this}saturate(t){return fd(this._rgb,1,t),this}desaturate(t){return fd(this._rgb,1,-t),this}rotate(t){return A3(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pa(){}const L3=(()=>{let n=0;return()=>n++})();function qe(n){return n==null}function Nn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function De(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Vs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Tr(n,t){return Vs(n)?n:t}function Ie(n,t){return typeof n>"u"?t:n}const N3=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Xe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ve(n,t,e,i){let r,o,c;if(Nn(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(De(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function sm(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function rm(n){if(Nn(n))return n.map(rm);if(De(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=rm(n[e[r]]);return t}return n}function Z2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function V3(n,t,e,i){if(!Z2(n))return;const r=t[n],o=e[n];De(r)&&De(o)?Ph(r,o,i):t[n]=rm(o)}function Ph(n,t,e){const i=Nn(t)?t:[t],r=i.length;if(!De(n))return n;e=e||{};const o=e.merger||V3;let c;for(let d=0;d<r;++d){if(c=i[d],!De(c))continue;const m=Object.keys(c);for(let p=0,v=m.length;p<v;++p)o(m[p],n,c,e)}return n}function yh(n,t){return Ph(n,t,{merger:z3})}function z3(n,t,e){if(!Z2(n))return;const i=t[n],r=e[n];De(i)&&De(r)?yh(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rm(r))}const rE={"":n=>n,x:n=>n.x,y:n=>n.y};function B3(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function j3(n){const t=B3(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Xu(n,t){return(rE[t]||(rE[t]=j3(t)))(n)}function nv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Lh=n=>typeof n<"u",jo=n=>typeof n=="function",aE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function U3(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const gi=Math.PI,Mo=2*gi,am=Number.POSITIVE_INFINITY,F3=gi/180,sr=gi/2,vl=gi/4,oE=gi*2/3,K2=Math.log10,Oo=Math.sign;function Od(n,t,e){return Math.abs(n-t)<e}function lE(n){const t=Math.round(n);n=Od(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(K2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function H3(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function q3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function om(n){return!q3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function G3(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function $3(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ol(n){return n*(gi/180)}function Z3(n){return n*(180/gi)}function uE(n){if(!Vs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function K3(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*gi&&(o+=Mo),{angle:o,distance:r}}function W3(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function bl(n){return(n%Mo+Mo)%Mo}function Y3(n,t,e,i){const r=bl(n),o=bl(t),c=bl(e),d=bl(o-r),m=bl(c-r),p=bl(r-o),v=bl(r-c);return r===o||r===c||i||d>m&&p<v}function rr(n,t,e){return Math.max(t,Math.min(e,n))}function X3(n){return rr(n,-32768,32767)}function zu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function iv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const K_=(n,t,e,i)=>iv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Q3=(n,t,e)=>iv(n,e,i=>n[i][t]>=e);function J3(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const W2=["push","pop","shift","splice","unshift"];function tN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),W2.forEach(e=>{const i="_onData"+nv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...o)}),c}})})}function cE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(W2.forEach(o=>{delete n[o]}),delete n._chartjs)}function Y2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const X2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Q2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,X2.call(window,()=>{i=!1,n.apply(t,e)}))}}function eN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const sv=n=>n==="start"?"left":n==="end"?"right":"center",fi=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,nN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,dd=n=>n===0||n===1,hE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Mo/e)),fE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Mo/e)+1,vh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*sr)+1,easeOutSine:n=>Math.sin(n*sr),easeInOutSine:n=>-.5*(Math.cos(gi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>dd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>dd(n)?n:hE(n,.075,.3),easeOutElastic:n=>dd(n)?n:fE(n,.075,.3),easeInOutElastic(n){return dd(n)?n:n<.5?.5*hE(n*2,.1125,.45):.5+.5*fE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-vh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vh.easeInBounce(n*2)*.5:vh.easeOutBounce(n*2-1)*.5+.5};function J2(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dE(n){return J2(n)?n:new Ih(n)}function n_(n){return J2(n)?n:new Ih(n).saturate(.5).darken(.1).hexString()}const iN=["x","y","borderWidth","radius","tension"],sN=["color","borderColor","backgroundColor"];function rN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:sN},numbers:{type:"number",properties:iN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function aN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mE=new Map;function oN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=mE.get(e);return i||(i=new Intl.NumberFormat(n,t),mE.set(e,i)),i}function tA(n,t,e){return oN(t,e).format(n)}const lN={values(n){return Nn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=uN(n,e)}const c=K2(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),m={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(m,this.options.ticks.format),tA(n,i,m)}};function uN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var eA={formatters:lN};function cN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const zl=Object.create(null),W_=Object.create(null);function bh(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function i_(n,t,e){return typeof t=="string"?Ph(bh(n,t),e):Ph(bh(n,""),t)}class hN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>n_(r.backgroundColor),this.hoverBorderColor=(i,r)=>n_(r.borderColor),this.hoverColor=(i,r)=>n_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return i_(this,t,e)}get(t){return bh(this,t)}describe(t,e){return i_(W_,t,e)}override(t,e){return i_(zl,t,e)}route(t,e,i,r){const o=bh(this,t),c=bh(this,i),d="_"+e;Object.defineProperties(o,{[d]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const m=this[d],p=c[r];return De(m)?Object.assign({},p,m):Ie(m,p)},set(m){this[d]=m}}})}apply(t){t.forEach(e=>e(this))}}var En=new hN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rN,aN,cN]);function fN(n){return!n||qe(n.size)||qe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function pE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function xl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function gE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function _E(n,t,e,i){nA(n,t,e,i,null)}function nA(n,t,e,i,r){let o,c,d,m,p,v,E,w;const D=t.pointStyle,N=t.rotation,j=t.radius;let z=(N||0)*F3;if(D&&typeof D=="object"&&(o=D.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(z),n.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),n.restore();return}if(!(isNaN(j)||j<=0)){switch(n.beginPath(),D){default:r?n.ellipse(e,i,r/2,j,0,0,Mo):n.arc(e,i,j,0,Mo),n.closePath();break;case"triangle":v=r?r/2:j,n.moveTo(e+Math.sin(z)*v,i-Math.cos(z)*j),z+=oE,n.lineTo(e+Math.sin(z)*v,i-Math.cos(z)*j),z+=oE,n.lineTo(e+Math.sin(z)*v,i-Math.cos(z)*j),n.closePath();break;case"rectRounded":p=j*.516,m=j-p,c=Math.cos(z+vl)*m,E=Math.cos(z+vl)*(r?r/2-p:m),d=Math.sin(z+vl)*m,w=Math.sin(z+vl)*(r?r/2-p:m),n.arc(e-E,i-d,p,z-gi,z-sr),n.arc(e+w,i-c,p,z-sr,z),n.arc(e+E,i+d,p,z,z+sr),n.arc(e-w,i+c,p,z+sr,z+gi),n.closePath();break;case"rect":if(!N){m=Math.SQRT1_2*j,v=r?r/2:m,n.rect(e-v,i-m,2*v,2*m);break}z+=vl;case"rectRot":E=Math.cos(z)*(r?r/2:j),c=Math.cos(z)*j,d=Math.sin(z)*j,w=Math.sin(z)*(r?r/2:j),n.moveTo(e-E,i-d),n.lineTo(e+w,i-c),n.lineTo(e+E,i+d),n.lineTo(e-w,i+c),n.closePath();break;case"crossRot":z+=vl;case"cross":E=Math.cos(z)*(r?r/2:j),c=Math.cos(z)*j,d=Math.sin(z)*j,w=Math.sin(z)*(r?r/2:j),n.moveTo(e-E,i-d),n.lineTo(e+E,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c);break;case"star":E=Math.cos(z)*(r?r/2:j),c=Math.cos(z)*j,d=Math.sin(z)*j,w=Math.sin(z)*(r?r/2:j),n.moveTo(e-E,i-d),n.lineTo(e+E,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c),z+=vl,E=Math.cos(z)*(r?r/2:j),c=Math.cos(z)*j,d=Math.sin(z)*j,w=Math.sin(z)*(r?r/2:j),n.moveTo(e-E,i-d),n.lineTo(e+E,i+d),n.moveTo(e+w,i-c),n.lineTo(e-w,i+c);break;case"line":c=r?r/2:Math.cos(z)*j,d=Math.sin(z)*j,n.moveTo(e-c,i-d),n.lineTo(e+c,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(z)*(r?r/2:j),i+Math.sin(z)*j);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function iA(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function rv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function av(n){n.restore()}function dN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),qe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function mN(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,m=e-o.actualBoundingBoxAscent,p=e+o.actualBoundingBoxDescent,v=r.strikethrough?(m+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,v),n.lineTo(d,v),n.stroke()}}function pN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Nh(n,t,e,i,r,o={}){const c=Nn(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let m,p;for(n.save(),n.font=r.string,dN(n,o),m=0;m<c.length;++m)p=c[m],o.backdrop&&pN(n,o.backdrop),d&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,e,i,o.maxWidth)),n.fillText(p,e,i,o.maxWidth),mN(n,e,i,p,o),i+=Number(r.lineHeight);n.restore()}function lm(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*gi,gi,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,gi,sr,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,sr,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-sr,!0),n.lineTo(e+c.topLeft,i)}const gN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_N=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yN(n,t){const e=(""+n).match(gN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const vN=n=>+n||0;function sA(n,t){const e={},i=De(t),r=i?Object.keys(t):t,o=De(n)?i?c=>Ie(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=vN(o(c));return e}function rA(n){return sA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Uu(n){return sA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zs(n){const t=rA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pi(n,t){n=n||{},t=t||En.font;let e=Ie(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ie(n.style,t.style);i&&!(""+i).match(_N)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ie(n.family,t.family),lineHeight:yN(Ie(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ie(n.weight,t.weight),string:""};return r.string=fN(r),r}function md(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function bN(n,t,e){const{min:i,max:r}=n,o=N3(t,(r-i)/2),c=(d,m)=>e&&d===0?0:d+m;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function ac(n,t){return Object.assign(Object.create(n),t)}function ov(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=uA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:d=>ov([d,...n],t,o,i)};return new Proxy(c,{deleteProperty(d,m){return delete d[m],delete d._keys,delete n[0][m],!0},get(d,m){return oA(d,m,()=>RN(m,t,n,d))},getOwnPropertyDescriptor(d,m){return Reflect.getOwnPropertyDescriptor(d._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(d,m){return vE(d).includes(m)},ownKeys(d){return vE(d)},set(d,m,p){const v=d._storage||(d._storage=r());return d[m]=v[m]=p,delete d._keys,!0}})}function Qu(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:aA(n,i),setContext:o=>Qu(n,o,e,i),override:o=>Qu(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,d){return oA(o,c,()=>EN(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,d){return n[c]=d,delete o[c],!0}})}function aA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:jo(e)?e:()=>e,isIndexable:jo(i)?i:()=>i}}const xN=(n,t)=>n?n+nv(t):t,lv=(n,t)=>De(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function oA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function EN(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let d=i[t];return jo(d)&&c.isScriptable(t)&&(d=wN(t,d,n,e)),Nn(d)&&d.length&&(d=TN(t,d,n,c.isIndexable)),lv(t,d)&&(d=Qu(d,r,o&&o[t],c)),d}function wN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let m=t(o,c||i);return d.delete(n),lv(n,m)&&(m=uv(r._scopes,r,n,m)),m}function TN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:d}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(De(t[0])){const m=t,p=r._scopes.filter(v=>v!==m);t=[];for(const v of m){const E=uv(p,r,n,v);t.push(Qu(E,o,c&&c[n],d))}}return t}function lA(n,t,e){return jo(n)?n(t,e):n}const SN=(n,t)=>n===!0?t:typeof n=="string"?Xu(t,n):void 0;function AN(n,t,e,i,r){for(const o of t){const c=SN(e,o);if(c){n.add(c);const d=lA(c._fallback,e,r);if(typeof d<"u"&&d!==e&&d!==i)return d}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function uv(n,t,e,i){const r=t._rootScopes,o=lA(t._fallback,e,i),c=[...n,...r],d=new Set;d.add(i);let m=yE(d,c,e,o||e,i);return m===null||typeof o<"u"&&o!==e&&(m=yE(d,c,o,m,i),m===null)?!1:ov(Array.from(d),[""],r,o,()=>CN(t,e,i))}function yE(n,t,e,i,r){for(;e;)e=AN(n,t,e,i,r);return e}function CN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Nn(r)&&De(e)?e:r||{}}function RN(n,t,e,i){let r;for(const o of t)if(r=uA(xN(o,n),e),typeof r<"u")return lv(n,r)?uv(e,i,n,r):r}function uA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function vE(n){let t=n._keys;return t||(t=n._keys=MN(n._scopes)),t}function MN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function cv(){return typeof window<"u"&&typeof document<"u"}function hv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function um(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const qm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ON(n,t){return qm(n).getPropertyValue(t)}const DN=["top","right","bottom","left"];function Il(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=DN[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const kN=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function IN(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,d,m;if(kN(r,o,n.target))d=r,m=o;else{const p=t.getBoundingClientRect();d=i.clientX-p.left,m=i.clientY-p.top,c=!0}return{x:d,y:m,box:c}}function Cl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=qm(e),o=r.boxSizing==="border-box",c=Il(r,"padding"),d=Il(r,"border","width"),{x:m,y:p,box:v}=IN(n,e),E=c.left+(v&&d.left),w=c.top+(v&&d.top);let{width:D,height:N}=t;return o&&(D-=c.width+d.width,N-=c.height+d.height),{x:Math.round((m-E)/D*e.width/i),y:Math.round((p-w)/N*e.height/i)}}function PN(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&hv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),d=qm(o),m=Il(d,"border","width"),p=Il(d,"padding");t=c.width-p.width-m.width,e=c.height-p.height-m.height,i=um(d.maxWidth,o,"clientWidth"),r=um(d.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||am,maxHeight:r||am}}const xo=n=>Math.round(n*10)/10;function LN(n,t,e,i){const r=qm(n),o=Il(r,"margin"),c=um(r.maxWidth,n,"clientWidth")||am,d=um(r.maxHeight,n,"clientHeight")||am,m=PN(n,t,e);let{width:p,height:v}=m;if(r.boxSizing==="content-box"){const w=Il(r,"border","width"),D=Il(r,"padding");p-=D.width+w.width,v-=D.height+w.height}return p=Math.max(0,p-o.width),v=Math.max(0,i?p/i:v-o.height),p=xo(Math.min(p,c,m.maxWidth)),v=xo(Math.min(v,d,m.maxHeight)),p&&!v&&(v=xo(p/2)),(t!==void 0||e!==void 0)&&i&&m.height&&v>m.height&&(v=m.height,p=xo(Math.floor(v*i))),{width:p,height:v}}function bE(n,t,e){const i=t||1,r=xo(n.height*i),o=xo(n.width*i);n.height=xo(n.height),n.width=xo(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const NN=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};cv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function xE(n,t){const e=ON(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const VN=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},zN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Fu(n,t,e){return n?VN(t,e):zN()}function cA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function hA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function pd(n,t,e){return n.options.clip?n[e]:t[e]}function BN(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:pd(e,t,"left"),right:pd(e,t,"right"),top:pd(i,t,"top"),bottom:pd(i,t,"bottom")}:t}function jN(n,t){const e=t._clip;if(e.disabled)return!1;const i=BN(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class UN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(d=>d({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=X2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,d=!1,m;for(;c>=0;--c)m=o[c],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(t),d=!0):(o[c]=o[o.length-1],o.pop());d&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ga=new UN;const EE="transparent",FN={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=dE(n||EE),r=i.valid&&dE(t||EE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class HN{constructor(t,e,i,r){const o=e[i];r=md([t.to,r,o,t.from]);const c=md([t.from,o,r]);this._active=!0,this._fn=t.fn||FN[t.type||typeof c],this._easing=vh[t.easing]||vh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=md([t.to,e,r,t.from]),this._from=md([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,d=this._to;let m;if(this._active=o!==d&&(c||e<i),!this._active){this._target[r]=d,this._notify(!0);return}if(e<0){this._target[r]=o;return}m=e/i%2,m=c&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(o,d,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class fA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!De(t))return;const e=Object.keys(En.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!De(o))return;const c={};for(const d of e)c[d]=o[d];(Nn(o.properties)&&o.properties||[r]).forEach(d=>{(d===r||!i.has(d))&&i.set(d,c)})})}_animateOptions(t,e){const i=e.options,r=GN(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&qN(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),d=Date.now();let m;for(m=c.length-1;m>=0;--m){const p=c[m];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(t,e));continue}const v=e[p];let E=o[p];const w=i.get(p);if(E)if(w&&E.active()){E.update(w,v,d);continue}else E.cancel();if(!w||!w.duration){t[p]=v;continue}o[p]=E=new HN(w,t,p,v),r.push(E)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ga.add(this._chart,i),!0}}function qN(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function GN(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function wE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function $N(n,t,e){if(e===!1)return!1;const i=wE(n,e),r=wE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function ZN(n){let t,e,i,r;return De(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function dA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function TE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,d,m,p;if(t===null)return;let v=!1;for(c=0,d=r.length;c<d;++c){if(m=+r[c],m===e){if(v=!0,i.all)continue;break}p=n.values[m],Vs(p)&&(o||t===0||Oo(t)===Oo(p))&&(t+=p)}return!v&&!i.all?0:t}function KN(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),d=new Array(c.length);let m,p,v;for(m=0,p=c.length;m<p;++m)v=c[m],d[m]={[r]:v,[o]:n[v]};return d}function s_(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function WN(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function YN(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function XN(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function SE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function AE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:d}=i,m=o.axis,p=c.axis,v=WN(o,c,i),E=t.length;let w;for(let D=0;D<E;++D){const N=t[D],{[m]:j,[p]:z}=N,K=N._stacks||(N._stacks={});w=K[p]=XN(r,v,j),w[d]=z,w._top=SE(w,c,!0,i.type),w._bottom=SE(w,c,!1,i.type);const X=w._visualValues||(w._visualValues={});X[d]=z}}function r_(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function QN(n,t){return ac(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function JN(n,t,e){return ac(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Jc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const a_=n=>n==="reset"||n==="none",CE=(n,t)=>t?n:Object.assign({},n),t6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:dA(e,!0),values:null};class mA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=s_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Jc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(E,w,D,N)=>E==="x"?w:E==="r"?N:D,o=e.xAxisID=Ie(i.xAxisID,r_(t,"x")),c=e.yAxisID=Ie(i.yAxisID,r_(t,"y")),d=e.rAxisID=Ie(i.rAxisID,r_(t,"r")),m=e.indexAxis,p=e.iAxisID=r(m,o,c,d),v=e.vAxisID=r(m,c,o,d);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(d),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cE(this._data,this),t._stacked&&Jc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(De(e)){const r=this._cachedMeta;this._data=KN(e,r)}else if(i!==e){if(i){cE(i,this);const r=this._cachedMeta;Jc(r),r._parsed=[]}e&&Object.isExtensible(e)&&tN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=s_(e.vScale,e),e.stack!==i.stack&&(r=!0,Jc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(AE(this,e._parsed),e._stacked=s_(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,d=o.axis;let m=t===0&&e===r.length?!0:i._sorted,p=t>0&&i._parsed[t-1],v,E,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{Nn(r[t])?w=this.parseArrayData(i,r,t,e):De(r[t])?w=this.parseObjectData(i,r,t,e):w=this.parsePrimitiveData(i,r,t,e);const D=()=>E[d]===null||p&&E[d]<p[d];for(v=0;v<e;++v)i._parsed[v+t]=E=w[v],m&&(D()&&(m=!1),p=E);i._sorted=m}c&&AE(this,w)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,d=o.axis,m=c.axis,p=o.getLabels(),v=o===c,E=new Array(r);let w,D,N;for(w=0,D=r;w<D;++w)N=w+i,E[w]={[d]:v||o.parse(p[N],N),[m]:c.parse(e[N],N)};return E}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,d=new Array(r);let m,p,v,E;for(m=0,p=r;m<p;++m)v=m+i,E=e[v],d[m]={x:o.parse(E[0],v),y:c.parse(E[1],v)};return d}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,p=new Array(r);let v,E,w,D;for(v=0,E=r;v<E;++v)w=v+i,D=e[w],p[v]={x:o.parse(Xu(D,d),w),y:c.parse(Xu(D,m),w)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],d={keys:dA(r,!0),values:e._stacks[t.axis]._visualValues};return TE(d,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const d=r&&i._stacks[e.axis];r&&d&&(r.values=d,c=TE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,d=this._getOtherScale(t),m=t6(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:E}=YN(d);let w,D;function N(){D=r[w];const j=D[d.axis];return!Vs(D[t.axis])||v>j||E<j}for(w=0;w<c&&!(!N()&&(this.updateRangeFromParsed(p,t,D,m),o));++w);if(o){for(w=c-1;w>=0;--w)if(!N()){this.updateRangeFromParsed(p,t,D,m);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Vs(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ZN(Ie(this.options.clip,$N(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],d=this._drawStart||0,m=this._drawCount||r.length-d,p=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,o,d,m),v=d;v<d+m;++v){const E=r[v];E.hidden||(E.active&&p?c.push(E):E.draw(t,o))}for(v=0;v<c.length;++v)c[v].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=JN(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=QN(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,d=o[c],m=this.enableOptionSharing&&Lh(i);if(d)return CE(d,m);const p=this.chart.config,v=p.datasetElementScopeKeys(this._type,t),E=r?[`${t}Hover`,"hover",t,""]:[t,""],w=p.getOptionScopes(this.getDataset(),v),D=Object.keys(En.elements[t]),N=()=>this.getContext(i,r,e),j=p.resolveNamedOptions(w,D,N,E);return j.$shared&&(j.$shared=m,o[c]=Object.freeze(CE(j,m))),j}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,d=o[c];if(d)return d;let m;if(r.options.animation!==!1){const v=this.chart.config,E=v.datasetAnimationScopeKeys(this._type,e),w=v.getOptionScopes(this.getDataset(),E);m=v.createResolver(w,this.getContext(t,i,e))}const p=new fA(r,m&&m.animations);return m&&m._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||a_(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){a_(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!a_(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[d,m,p]of this._syncList)this[d](m,p);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let d;const m=p=>{for(p.length+=e,d=p.length-1;d>=c;d--)p[d]=p[d-e]};for(m(o),d=t;d<c;++d)o[d]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Jc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function e6(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Y2(i.sort((r,o)=>r-o))}return n._cache.$bar}function n6(n){const t=n.iScale,e=e6(t,n.type);let i=t._length,r,o,c,d;const m=()=>{c===32767||c===-32768||(Lh(d)&&(i=Math.min(i,Math.abs(c-d)||i)),d=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),m();for(d=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),m();return i}function i6(n,t,e,i){const r=e.barThickness;let o,c;return qe(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function s6(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const m=e.categoryPercentage;c===null&&(c=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-c);const p=o-(o-Math.min(c,d))/2*m;return{chunk:Math.abs(d-c)/2*m/i,ratio:e.barPercentage,start:p}}function r6(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),d=Math.max(r,o);let m=c,p=d;Math.abs(c)>Math.abs(d)&&(m=d,p=c),t[e.axis]=p,t._custom={barStart:m,barEnd:p,start:r,end:o,min:c,max:d}}function pA(n,t,e,i){return Nn(n)?r6(n,t,e,i):t[e.axis]=e.parse(n,i),t}function RE(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),d=r===o,m=[];let p,v,E,w;for(p=e,v=e+i;p<v;++p)w=t[p],E={},E[r.axis]=d||r.parse(c[p],p),m.push(pA(w,E,o,p));return m}function o_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function a6(n,t,e){return n!==0?Oo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function o6(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function l6(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:m,top:p,bottom:v}=o6(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=p:(e._bottom||0)===i?r=v:(o[ME(v,c,d,m)]=!0,r=p)),o[ME(r,c,d,m)]=!0,n.borderSkipped=o}function ME(n,t,e,i){return i?(n=u6(n,t,e),n=OE(n,e,t)):n=OE(n,t,e),n}function u6(n,t,e){return n===t?e:n===e?t:n}function OE(n,t,e){return n==="start"?t:n==="end"?e:n}function c6(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class h6 extends mA{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return RE(t,e,i,r)}parseArrayData(t,e,i,r){return RE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:d="x",yAxisKey:m="y"}=this._parsing,p=o.axis==="x"?d:m,v=c.axis==="x"?d:m,E=[];let w,D,N,j;for(w=i,D=i+r;w<D;++w)j=e[w],N={},N[o.axis]=o.parse(Xu(j,p),w),E.push(pA(Xu(j,v),N,c,w));return E}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,d=o_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:d}}=this,m=d.getBasePixel(),p=d.isHorizontal(),v=this._getRuler(),{sharedOptions:E,includeOptions:w}=this._getSharedOptions(e,r);for(let D=e;D<e+i;D++){const N=this.getParsed(D),j=o||qe(N[d.axis])?{base:m,head:m}:this._calculateBarValuePixels(D),z=this._calculateBarIndexPixels(D,v),K=(N._stacks||{})[d.axis],X={horizontal:p,base:j.base,enableBorderRadius:!K||o_(N._custom)||c===K._top||c===K._bottom,x:p?j.head:z.center,y:p?z.center:j.head,height:p?z.size:Math.abs(j.size),width:p?Math.abs(j.size):z.size};w&&(X.options=E||this.resolveDataElementOptions(D,t[D].active?"active":r));const Y=X.options||t[D].options;l6(X,Y,K,c),c6(X,Y,v.ratio),this.updateElement(t[D],D,X,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(v=>v.controller.options.grouped),o=i.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(e),m=d&&d[i.axis],p=v=>{const E=v._parsed.find(D=>D[i.axis]===m),w=E&&E[v.vScale.axis];if(qe(w)||isNaN(w))return!0};for(const v of r)if(!(e!==void 0&&p(v))&&((o===!1||c.indexOf(v.stack)===-1||o===void 0&&v.stack===void 0)&&c.push(v.stack),v.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ie(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const d=t.barThickness;return{min:d||n6(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,d=o||0,m=this.getParsed(t),p=m._custom,v=o_(p);let E=m[e.axis],w=0,D=i?this.applyStack(e,m,i):E,N,j;D!==E&&(w=D-E,D=E),v&&(E=p.barStart,D=p.barEnd-p.barStart,E!==0&&Oo(E)!==Oo(p.barEnd)&&(w=0),w+=E);const z=!qe(o)&&!v?o:w;let K=e.getPixelForValue(z);if(this.chart.getDataVisibility(t)?N=e.getPixelForValue(w+D):N=K,j=N-K,Math.abs(j)<c){j=a6(j,e,d)*c,E===d&&(K-=j/2);const X=e.getPixelForDecimal(0),Y=e.getPixelForDecimal(1),ot=Math.min(X,Y),J=Math.max(X,Y);K=Math.max(Math.min(K,J),ot),N=K+j,i&&!v&&(m._stacks[e.axis]._visualValues[r]=e.getValueForPixel(N)-e.getValueForPixel(K))}if(K===e.getPixelForValue(d)){const X=Oo(j)*e.getLineWidthForValue(d)/2;K+=X,j-=X}return{size:j,base:K,head:N,center:N+j/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Ie(r.maxBarThickness,1/0);let d,m;const p=this._getAxisCount();if(e.grouped){const v=o?this._getStackCount(t):e.stackCount,E=r.barThickness==="flex"?s6(t,e,r,v*p):i6(t,e,r,v*p),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,D=this._getAxis().indexOf(Ie(w,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+D;d=E.start+E.chunk*N+E.chunk/2,m=Math.min(c,E.chunk*E.ratio)}else d=i.getPixelForValue(this.getParsed(t)[i.axis],t),m=Math.min(c,e.min*e.ratio);return{base:d-m/2,head:d+m/2,center:d,size:m}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function El(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fv{static override(t){Object.assign(fv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return El()}parse(){return El()}format(){return El()}add(){return El()}diff(){return El()}startOf(){return El()}endOf(){return El()}}var f6={_date:fv};function d6(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,d=r._cachedMeta.iScale,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&c&&o.length){const p=d._reversePixels?Q3:K_;if(i){if(r._sharedOptions){const v=o[0],E=typeof v.getRange=="function"&&v.getRange(t);if(E){const w=p(o,t,e-E),D=p(o,t,e+E);return{lo:w.lo,hi:D.hi}}}}else{const v=p(o,t,e);if(m){const{vScale:E}=r._cachedMeta,{_parsed:w}=n,D=w.slice(0,v.lo+1).reverse().findIndex(j=>!qe(j[E.axis]));v.lo-=Math.max(0,D);const N=w.slice(v.hi).findIndex(j=>!qe(j[E.axis]));v.hi+=Math.max(0,N)}return v}}return{lo:0,hi:o.length-1}}function Gm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let d=0,m=o.length;d<m;++d){const{index:p,data:v}=o[d],{lo:E,hi:w}=d6(o[d],t,c,r);for(let D=E;D<=w;++D){const N=v[D];N.skip||i(N,p,D)}}}function m6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function l_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Gm(n,e,t,function(d,m,p){!r&&!iA(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&o.push({element:d,datasetIndex:m,index:p})},!0),o}function p6(n,t,e,i){let r=[];function o(c,d,m){const{startAngle:p,endAngle:v}=c.getProps(["startAngle","endAngle"],i),{angle:E}=K3(c,{x:t.x,y:t.y});Y3(E,p,v)&&r.push({element:c,datasetIndex:d,index:m})}return Gm(n,e,t,o),r}function g6(n,t,e,i,r,o){let c=[];const d=m6(e);let m=Number.POSITIVE_INFINITY;function p(v,E,w){const D=v.inRange(t.x,t.y,r);if(i&&!D)return;const N=v.getCenterPoint(r);if(!(!!o||n.isPointInArea(N))&&!D)return;const z=d(t,N);z<m?(c=[{element:v,datasetIndex:E,index:w}],m=z):z===m&&c.push({element:v,datasetIndex:E,index:w})}return Gm(n,e,t,p),c}function u_(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?p6(n,t,e,r):g6(n,t,e,i,r,o)}function DE(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let d=!1;return Gm(n,e,t,(m,p,v)=>{m[c]&&m[c](t[e],r)&&(o.push({element:m,datasetIndex:p,index:v}),d=d||m.inRange(t.x,t.y,r))}),i&&!d?[]:o}var _6={modes:{index(n,t,e,i){const r=Cl(t,n),o=e.axis||"x",c=e.includeInvisible||!1,d=e.intersect?l_(n,r,o,i,c):u_(n,r,o,!1,i,c),m=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const v=d[0].index,E=p.data[v];E&&!E.skip&&m.push({element:E,datasetIndex:p.index,index:v})}),m):[]},dataset(n,t,e,i){const r=Cl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let d=e.intersect?l_(n,r,o,i,c):u_(n,r,o,!1,i,c);if(d.length>0){const m=d[0].datasetIndex,p=n.getDatasetMeta(m).data;d=[];for(let v=0;v<p.length;++v)d.push({element:p[v],datasetIndex:m,index:v})}return d},point(n,t,e,i){const r=Cl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return l_(n,r,o,i,c)},nearest(n,t,e,i){const r=Cl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return u_(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Cl(t,n);return DE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Cl(t,n);return DE(n,r,"y",e.intersect,i)}}};const gA=["left","top","right","bottom"];function th(n,t){return n.filter(e=>e.pos===t)}function kE(n,t){return n.filter(e=>gA.indexOf(e.pos)===-1&&e.box.axis===t)}function eh(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function y6(n){const t=[];let e,i,r,o,c,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:d=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:d});return t}function v6(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!gA.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function b6(n,t){const e=v6(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,d;for(o=0,c=n.length;o<c;++o){d=n[o];const{fullSize:m}=d.box,p=e[d.stack],v=p&&d.stackWeight/p.weight;d.horizontal?(d.width=v?v*i:m&&t.availableWidth,d.height=r):(d.width=i,d.height=v?v*r:m&&t.availableHeight)}return e}function x6(n){const t=y6(n),e=eh(t.filter(p=>p.box.fullSize),!0),i=eh(th(t,"left"),!0),r=eh(th(t,"right")),o=eh(th(t,"top"),!0),c=eh(th(t,"bottom")),d=kE(t,"x"),m=kE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(m).concat(c).concat(d),chartArea:th(t,"chartArea"),vertical:i.concat(r).concat(m),horizontal:o.concat(c).concat(d)}}function IE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function _A(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function E6(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!De(r)){e.size&&(n[r]-=e.size);const E=i[e.stack]||{size:0,count:1};E.size=Math.max(E.size,e.horizontal?o.height:o.width),e.size=E.size/E.count,n[r]+=e.size}o.getPadding&&_A(c,o.getPadding());const d=Math.max(0,t.outerWidth-IE(c,n,"left","right")),m=Math.max(0,t.outerHeight-IE(c,n,"top","bottom")),p=d!==n.w,v=m!==n.h;return n.w=d,n.h=m,e.horizontal?{same:p,other:v}:{same:v,other:p}}function w6(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function T6(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function ch(n,t,e,i){const r=[];let o,c,d,m,p,v;for(o=0,c=n.length,p=0;o<c;++o){d=n[o],m=d.box,m.update(d.width||t.w,d.height||t.h,T6(d.horizontal,t));const{same:E,other:w}=E6(t,e,d,i);p|=E&&r.length,v=v||w,m.fullSize||r.push(d)}return p&&ch(r,t,e,i)||v}function gd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function PE(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const d of n){const m=d.box,p=i[d.stack]||{placed:0,weight:1},v=d.stackWeight/p.weight||1;if(d.horizontal){const E=t.w*v,w=p.size||m.height;Lh(p.start)&&(c=p.start),m.fullSize?gd(m,r.left,c,e.outerWidth-r.right-r.left,w):gd(m,t.left+p.placed,c,E,w),p.start=c,p.placed+=E,c=m.bottom}else{const E=t.h*v,w=p.size||m.width;Lh(p.start)&&(o=p.start),m.fullSize?gd(m,o,r.top,w,e.outerHeight-r.bottom-r.top):gd(m,o,t.top+p.placed,w,E),p.start=o,p.placed+=E,o=m.right}}t.x=o,t.y=c}var Ns={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=zs(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),d=x6(n.boxes),m=d.vertical,p=d.horizontal;Ve(n.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const v=m.reduce((j,z)=>z.box.options&&z.box.options.display===!1?j:j+1,0)||1,E=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/v,hBoxMaxHeight:c/2}),w=Object.assign({},r);_A(w,zs(i));const D=Object.assign({maxPadding:w,w:o,h:c,x:r.left,y:r.top},r),N=b6(m.concat(p),E);ch(d.fullSize,D,E,N),ch(m,D,E,N),ch(p,D,E,N)&&ch(m,D,E,N),w6(D),PE(d.leftAndTop,D,E,N),D.x+=D.w,D.y+=D.h,PE(d.rightAndBottom,D,E,N),n.chartArea={left:D.left,top:D.top,right:D.left+D.w,bottom:D.top+D.h,height:D.h,width:D.w},Ve(d.chartArea,j=>{const z=j.box;Object.assign(z,n.chartArea),z.update(D.w,D.h,{left:0,top:0,right:0,bottom:0})})}};class yA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class S6 extends yA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dd="$chartjs",A6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LE=n=>n===null||n==="";function C6(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Dd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",LE(r)){const o=xE(n,"width");o!==void 0&&(n.width=o)}if(LE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=xE(n,"height");o!==void 0&&(n.height=o)}return n}const vA=NN?{passive:!0}:!1;function R6(n,t,e){n&&n.addEventListener(t,e,vA)}function M6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,vA)}function O6(n,t){const e=A6[n.type]||n.type,{x:i,y:r}=Cl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function cm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function D6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||cm(d.addedNodes,i),c=c&&!cm(d.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function k6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||cm(d.removedNodes,i),c=c&&!cm(d.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Vh=new Map;let NE=0;function bA(){const n=window.devicePixelRatio;n!==NE&&(NE=n,Vh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function I6(n,t){Vh.size||window.addEventListener("resize",bA),Vh.set(n,t)}function P6(n){Vh.delete(n),Vh.size||window.removeEventListener("resize",bA)}function L6(n,t,e){const i=n.canvas,r=i&&hv(i);if(!r)return;const o=Q2((d,m)=>{const p=r.clientWidth;e(d,m),p<r.clientWidth&&e()},window),c=new ResizeObserver(d=>{const m=d[0],p=m.contentRect.width,v=m.contentRect.height;p===0&&v===0||o(p,v)});return c.observe(r),I6(n,o),c}function c_(n,t,e){e&&e.disconnect(),t==="resize"&&P6(n)}function N6(n,t,e){const i=n.canvas,r=Q2(o=>{n.ctx!==null&&e(O6(o,n))},n);return R6(i,t,r),r}class V6 extends yA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(C6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Dd])return!1;const i=e[Dd].initial;["height","width"].forEach(o=>{const c=i[o];qe(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Dd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:D6,detach:k6,resize:L6}[e]||N6;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:c_,detach:c_,resize:c_}[e]||M6)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return LN(t,e,i,r)}isAttached(t){const e=t&&hv(t);return!!(e&&e.isConnected)}}function z6(n){return!cv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?S6:V6}let oc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return om(this.x)&&om(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function B6(n,t){const e=n.options.ticks,i=j6(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?F6(t):[],c=o.length,d=o[0],m=o[c-1],p=[];if(c>r)return H6(t,p,o,c/r),p;const v=U6(o,t,r);if(c>0){let E,w;const D=c>1?Math.round((m-d)/(c-1)):null;for(_d(t,p,v,qe(D)?0:d-D,d),E=0,w=c-1;E<w;E++)_d(t,p,v,o[E],o[E+1]);return _d(t,p,v,m,qe(D)?t.length:m+D),p}return _d(t,p,v),p}function j6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function U6(n,t,e){const i=q6(n),r=t.length/e;if(!i)return Math.max(r,1);const o=H3(i);for(let c=0,d=o.length-1;c<d;c++){const m=o[c];if(m>r)return m}return Math.max(r,1)}function F6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function H6(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function _d(n,t,e,i,r){const o=Ie(i,0),c=Math.min(Ie(r,n.length),n.length);let d=0,m,p,v;for(e=Math.ceil(e),r&&(m=r-i,e=m/Math.floor(m/e)),v=o;v<0;)d++,v=Math.round(o+d*e);for(p=Math.max(o,0);p<c;p++)p===v&&(t.push(n[p]),d++,v=Math.round(o+d*e))}function q6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const G6=n=>n==="left"?"right":n==="right"?"left":n,VE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,zE=(n,t)=>Math.min(t||n,n);function BE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function $6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,d=1e-6;let m=n.getPixelForTick(r),p;if(!(e&&(i===1?p=Math.max(m-o,c-m):t===0?p=(n.getPixelForTick(1)-m)/2:p=(m-n.getPixelForTick(r-1))/2,m+=r<t?p:-p,m<o-d||m>c+d)))return m}function Z6(n,t){Ve(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function nh(n){return n.drawTicks?n.tickLength:0}function jE(n,t){if(!n.display)return 0;const e=pi(n.font,t),i=zs(n.padding);return(Nn(n.text)?n.text.length:1)*e.lineHeight+i.height}function K6(n,t){return ac(n,{scale:t,type:"scale"})}function W6(n,t,e){return ac(n,{tick:e,index:t,type:"tick"})}function Y6(n,t,e){let i=sv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=G6(i)),i}function X6(n,t,e,i){const{top:r,left:o,bottom:c,right:d,chart:m}=n,{chartArea:p,scales:v}=m;let E=0,w,D,N;const j=c-r,z=d-o;if(n.isHorizontal()){if(D=fi(i,o,d),De(e)){const K=Object.keys(e)[0],X=e[K];N=v[K].getPixelForValue(X)+j-t}else e==="center"?N=(p.bottom+p.top)/2+j-t:N=VE(n,e,t);w=d-o}else{if(De(e)){const K=Object.keys(e)[0],X=e[K];D=v[K].getPixelForValue(X)-z+t}else e==="center"?D=(p.left+p.right)/2-z+t:D=VE(n,e,t);N=fi(i,c,r),E=e==="left"?-sr:sr}return{titleX:D,titleY:N,maxWidth:w,rotation:E}}class lc extends oc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Tr(t,Number.POSITIVE_INFINITY),e=Tr(e,Number.NEGATIVE_INFINITY),i=Tr(i,Number.POSITIVE_INFINITY),r=Tr(r,Number.NEGATIVE_INFINITY),{min:Tr(t,i),max:Tr(e,r),minDefined:Vs(t),maxDefined:Vs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let m=0,p=d.length;m<p;++m)c=d[m].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Tr(e,Tr(i,e)),max:Tr(i,Tr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=d<this.ticks.length;this._convertTicksToLabels(m?BE(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=B6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xe(this.options.afterUpdate,[this])}beforeSetDimensions(){Xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Xe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Xe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=zE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,d,m,p;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const v=this._getLabelSizes(),E=v.widest.width,w=v.highest.height,D=rr(this.chart.width-E,0,this.maxWidth);d=t.offset?this.maxWidth/i:D/(i-1),E+6>d&&(d=D/(i-(t.offset?.5:1)),m=this.maxHeight-nh(t.grid)-e.padding-jE(t.title,this.chart.options.font),p=Math.sqrt(E*E+w*w),c=Z3(Math.min(Math.asin(rr((v.highest.height+6)/d,-1,1)),Math.asin(rr(m/p,-1,1))-Math.asin(rr(w/p,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const m=jE(r,e.options.font);if(d?(t.width=this.maxWidth,t.height=nh(o)+m):(t.height=this.maxHeight,t.width=nh(o)+m),i.display&&this.ticks.length){const{first:p,last:v,widest:E,highest:w}=this._getLabelSizes(),D=i.padding*2,N=Ol(this.labelRotation),j=Math.cos(N),z=Math.sin(N);if(d){const K=i.mirror?0:z*E.width+j*w.height;t.height=Math.min(this.maxHeight,t.height+K+D)}else{const K=i.mirror?0:j*E.width+z*w.height;t.width=Math.min(this.maxWidth,t.width+K+D)}this._calculatePadding(p,v,z,j)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:d}=this.options,m=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,E=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,D=0;m?p?(w=r*t.width,D=i*e.height):(w=i*t.height,D=r*e.width):o==="start"?D=e.width:o==="end"?w=t.width:o!=="inner"&&(w=t.width/2,D=e.width/2),this.paddingLeft=Math.max((w-v+c)*this.width/(this.width-v),0),this.paddingRight=Math.max((D-E+c)*this.width/(this.width-E),0)}else{let v=e.height/2,E=t.height/2;o==="start"?(v=0,E=t.height):o==="end"&&(v=e.height,E=0),this.paddingTop=v+c,this.paddingBottom=E+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)qe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=BE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],d=[],m=Math.floor(e/zE(e,i));let p=0,v=0,E,w,D,N,j,z,K,X,Y,ot,J;for(E=0;E<e;E+=m){if(N=t[E].label,j=this._resolveTickFontOptions(E),r.font=z=j.string,K=o[z]=o[z]||{data:{},gc:[]},X=j.lineHeight,Y=ot=0,!qe(N)&&!Nn(N))Y=pE(r,K.data,K.gc,Y,N),ot=X;else if(Nn(N))for(w=0,D=N.length;w<D;++w)J=N[w],!qe(J)&&!Nn(J)&&(Y=pE(r,K.data,K.gc,Y,J),ot+=X);c.push(Y),d.push(ot),p=Math.max(Y,p),v=Math.max(ot,v)}Z6(o,e);const mt=c.indexOf(p),F=d.indexOf(v),A=O=>({width:c[O]||0,height:d[O]||0});return{first:A(0),last:A(e-1),widest:A(mt),highest:A(F),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return X3(this._alignToPixels?xl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=W6(this.getContext(),t,i))}return this.$context||(this.$context=K6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ol(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,d=o?o.widest.width+c:0,m=o?o.highest.height+c:0;return this.isHorizontal()?m*i>d*r?d/i:m/r:m*r<d*i?m/i:d/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:d}=r,m=o.offset,p=this.isHorizontal(),E=this.ticks.length+(m?1:0),w=nh(o),D=[],N=d.setContext(this.getContext()),j=N.display?N.width:0,z=j/2,K=function(tt){return xl(i,tt,j)};let X,Y,ot,J,mt,F,A,O,V,B,q,H;if(c==="top")X=K(this.bottom),F=this.bottom-w,O=X-z,B=K(t.top)+z,H=t.bottom;else if(c==="bottom")X=K(this.top),B=t.top,H=K(t.bottom)-z,F=X+z,O=this.top+w;else if(c==="left")X=K(this.right),mt=this.right-w,A=X-z,V=K(t.left)+z,q=t.right;else if(c==="right")X=K(this.left),V=t.left,q=K(t.right)-z,mt=X+z,A=this.left+w;else if(e==="x"){if(c==="center")X=K((t.top+t.bottom)/2+.5);else if(De(c)){const tt=Object.keys(c)[0],pt=c[tt];X=K(this.chart.scales[tt].getPixelForValue(pt))}B=t.top,H=t.bottom,F=X+z,O=F+w}else if(e==="y"){if(c==="center")X=K((t.left+t.right)/2);else if(De(c)){const tt=Object.keys(c)[0],pt=c[tt];X=K(this.chart.scales[tt].getPixelForValue(pt))}mt=X-z,A=mt-w,V=t.left,q=t.right}const Mt=Ie(r.ticks.maxTicksLimit,E),It=Math.max(1,Math.ceil(E/Mt));for(Y=0;Y<E;Y+=It){const tt=this.getContext(Y),pt=o.setContext(tt),dt=d.setContext(tt),St=pt.lineWidth,G=pt.color,Q=dt.dash||[],gt=dt.dashOffset,st=pt.tickWidth,bt=pt.tickColor,lt=pt.tickBorderDash||[],_t=pt.tickBorderDashOffset;ot=$6(this,Y,m),ot!==void 0&&(J=xl(i,ot,St),p?mt=A=V=q=J:F=O=B=H=J,D.push({tx1:mt,ty1:F,tx2:A,ty2:O,x1:V,y1:B,x2:q,y2:H,width:St,color:G,borderDash:Q,borderDashOffset:gt,tickWidth:st,tickColor:bt,tickBorderDash:lt,tickBorderDashOffset:_t}))}return this._ticksLength=E,this._borderValue=X,D}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),d=this.ticks,{align:m,crossAlign:p,padding:v,mirror:E}=o,w=nh(i.grid),D=w+v,N=E?-v:D,j=-Ol(this.labelRotation),z=[];let K,X,Y,ot,J,mt,F,A,O,V,B,q,H="middle";if(r==="top")mt=this.bottom-N,F=this._getXAxisLabelAlignment();else if(r==="bottom")mt=this.top+N,F=this._getXAxisLabelAlignment();else if(r==="left"){const It=this._getYAxisLabelAlignment(w);F=It.textAlign,J=It.x}else if(r==="right"){const It=this._getYAxisLabelAlignment(w);F=It.textAlign,J=It.x}else if(e==="x"){if(r==="center")mt=(t.top+t.bottom)/2+D;else if(De(r)){const It=Object.keys(r)[0],tt=r[It];mt=this.chart.scales[It].getPixelForValue(tt)+D}F=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")J=(t.left+t.right)/2-D;else if(De(r)){const It=Object.keys(r)[0],tt=r[It];J=this.chart.scales[It].getPixelForValue(tt)}F=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(m==="start"?H="top":m==="end"&&(H="bottom"));const Mt=this._getLabelSizes();for(K=0,X=d.length;K<X;++K){Y=d[K],ot=Y.label;const It=o.setContext(this.getContext(K));A=this.getPixelForTick(K)+o.labelOffset,O=this._resolveTickFontOptions(K),V=O.lineHeight,B=Nn(ot)?ot.length:1;const tt=B/2,pt=It.color,dt=It.textStrokeColor,St=It.textStrokeWidth;let G=F;c?(J=A,F==="inner"&&(K===X-1?G=this.options.reverse?"left":"right":K===0?G=this.options.reverse?"right":"left":G="center"),r==="top"?p==="near"||j!==0?q=-B*V+V/2:p==="center"?q=-Mt.highest.height/2-tt*V+V:q=-Mt.highest.height+V/2:p==="near"||j!==0?q=V/2:p==="center"?q=Mt.highest.height/2-tt*V:q=Mt.highest.height-B*V,E&&(q*=-1),j!==0&&!It.showLabelBackdrop&&(J+=V/2*Math.sin(j))):(mt=A,q=(1-B)*V/2);let Q;if(It.showLabelBackdrop){const gt=zs(It.backdropPadding),st=Mt.heights[K],bt=Mt.widths[K];let lt=q-gt.top,_t=0-gt.left;switch(H){case"middle":lt-=st/2;break;case"bottom":lt-=st;break}switch(F){case"center":_t-=bt/2;break;case"right":_t-=bt;break;case"inner":K===X-1?_t-=bt:K>0&&(_t-=bt/2);break}Q={left:_t,top:lt,width:bt+gt.width,height:st+gt.height,color:It.backdropColor}}z.push({label:ot,font:O,textOffset:q,options:{rotation:j,color:pt,strokeColor:dt,strokeWidth:St,textAlign:G,textBaseline:H,translation:[J,mt],backdrop:Q}})}return z}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ol(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),d=t+o,m=c.widest.width;let p,v;return e==="left"?r?(v=this.right+o,i==="near"?p="left":i==="center"?(p="center",v+=m/2):(p="right",v+=m)):(v=this.right-d,i==="near"?p="right":i==="center"?(p="center",v-=m/2):(p="left",v=this.left)):e==="right"?r?(v=this.left+o,i==="near"?p="right":i==="center"?(p="center",v-=m/2):(p="left",v-=m)):(v=this.left+d,i==="near"?p="left":i==="center"?(p="center",v+=m/2):(p="right",v=this.right)):p="right",{textAlign:p,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const d=(m,p,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const m=r[o];e.drawOnChartArea&&d({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),e.drawTicks&&d({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const d=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let p,v,E,w;this.isHorizontal()?(p=xl(t,this.left,c)-c/2,v=xl(t,this.right,d)+d/2,E=w=m):(E=xl(t,this.top,c)-c/2,w=xl(t,this.bottom,d)+d/2,p=v=m),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(p,E),e.lineTo(v,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&rv(i,r);const o=this.getLabelItems(t);for(const c of o){const d=c.options,m=c.font,p=c.label,v=c.textOffset;Nh(i,p,0,v,m,d)}r&&av(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=pi(i.font),c=zs(i.padding),d=i.align;let m=o.lineHeight/2;e==="bottom"||e==="center"||De(e)?(m+=c.bottom,Nn(i.text)&&(m+=o.lineHeight*(i.text.length-1))):m+=c.top;const{titleX:p,titleY:v,maxWidth:E,rotation:w}=X6(this,m,e,d);Nh(t,i.text,0,0,o,{color:i.color,maxWidth:E,rotation:w,textAlign:Y6(d,e,r),textBaseline:"middle",translation:[p,v]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ie(t.grid&&t.grid.z,-1),r=Ie(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==lc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const d=e[o];d[i]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;t5(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,Q6(t,c,i),this.override&&En.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in En[r]&&(delete En[r][i],this.override&&delete zl[i])}}function Q6(n,t,e){const i=Ph(Object.create(null),[e?En.get(e):{},En.get(t),n.defaults]);En.set(t,i),n.defaultRoutes&&J6(t,n.defaultRoutes),n.descriptors&&En.describe(t,n.descriptors)}function J6(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),d=c.pop(),m=c.join(".");En.route(o,r,m,d)})}function t5(n){return"id"in n&&"defaults"in n}class e5{constructor(){this.controllers=new yd(mA,"datasets",!0),this.elements=new yd(oc,"elements"),this.plugins=new yd(Object,"plugins"),this.scales=new yd(lc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Ve(r,c=>{const d=i||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,e,i){const r=nv(t);Xe(i["before"+r],[],i),e[t](i),Xe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ar=new e5;class n5{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,d=c[i],m=[e,r,o.options];if(Xe(d,m,c)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ie(i.options&&i.options.plugins,{}),o=i5(i);return r===!1&&!e?[]:r5(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(d=>!c.some(m=>d.plugin.id===m.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function i5(n){const t={},e=[],i=Object.keys(Ar.plugins.items);for(let o=0;o<i.length;o++)e.push(Ar.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function s5(n,t){return!t&&n===!1?null:n===!0?{}:n}function r5(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const d of t){const m=d.id,p=s5(i[m],r);p!==null&&o.push({plugin:d,options:a5(n.config,{plugin:d,local:e[m]},p,c)})}return o}function a5(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y_(n,t){const e=En.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function o5(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function l5(n,t){return n===t?"_index_":"_value_"}function UE(n){if(n==="x"||n==="y"||n==="r")return n}function u5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function X_(n,...t){if(UE(n))return n;for(const e of t){const i=e.axis||u5(e.position)||n.length>1&&UE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function FE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function c5(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return FE(n,"x",e[0])||FE(n,"y",e[0])}return{}}function h5(n,t){const e=zl[n.type]||{scales:{}},i=t.scales||{},r=Y_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const d=i[c];if(!De(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const m=X_(c,d,c5(c,n),En.scales[d.type]),p=l5(m,r),v=e.scales||{};o[c]=yh(Object.create(null),[{axis:m},d,v[m],v[p]])}),n.data.datasets.forEach(c=>{const d=c.type||n.type,m=c.indexAxis||Y_(d,t),v=(zl[d]||{}).scales||{};Object.keys(v).forEach(E=>{const w=o5(E,m),D=c[w+"AxisID"]||w;o[D]=o[D]||Object.create(null),yh(o[D],[{axis:w},i[D],v[E]])})}),Object.keys(o).forEach(c=>{const d=o[c];yh(d,[En.scales[d.type],En.scale])}),o}function xA(n){const t=n.options||(n.options={});t.plugins=Ie(t.plugins,{}),t.scales=h5(n,t)}function EA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function f5(n){return n=n||{},n.data=EA(n.data),xA(n),n}const HE=new Map,wA=new Set;function vd(n,t){let e=HE.get(n);return e||(e=t(),HE.set(n,e),wA.add(e)),e}const ih=(n,t,e)=>{const i=Xu(t,e);i!==void 0&&n.add(i)};class d5{constructor(t){this._config=f5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=EA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return vd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return vd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return vd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return vd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),d=c.get(e);if(d)return d;const m=new Set;e.forEach(v=>{t&&(m.add(t),v.forEach(E=>ih(m,t,E))),v.forEach(E=>ih(m,r,E)),v.forEach(E=>ih(m,zl[o]||{},E)),v.forEach(E=>ih(m,En,E)),v.forEach(E=>ih(m,W_,E))});const p=Array.from(m);return p.length===0&&p.push(Object.create(null)),wA.has(e)&&c.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,zl[e]||{},En.datasets[e]||{},{type:e},En,W_]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=qE(this._resolverCache,t,r);let m=c;if(p5(c,e)){o.$shared=!1,i=jo(i)?i():i;const p=this.createResolver(t,i,d);m=Qu(c,i,p)}for(const p of e)o[p]=m[p];return o}createResolver(t,e,i=[""],r){const{resolver:o}=qE(this._resolverCache,t,i);return De(e)?Qu(o,e,void 0,r):o}}function qE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:ov(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,o)),o}const m5=n=>De(n)&&Object.getOwnPropertyNames(n).some(t=>jo(n[t]));function p5(n,t){const{isScriptable:e,isIndexable:i}=aA(n);for(const r of t){const o=e(r),c=i(r),d=(c||o)&&n[r];if(o&&(jo(d)||m5(d))||c&&Nn(d))return!0}return!1}var g5="4.5.1";const _5=["top","bottom","left","right","chartArea"];function GE(n,t){return n==="top"||n==="bottom"||_5.indexOf(n)===-1&&t==="x"}function $E(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function ZE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Xe(e&&e.onComplete,[n],t)}function y5(n){const t=n.chart,e=t.options.animation;Xe(e&&e.onProgress,[n],t)}function TA(n){return cv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const kd={},KE=n=>{const t=TA(n);return Object.values(kd).filter(e=>e.canvas===t).pop()};function v5(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function b5(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let $m=class{static defaults=En;static instances=kd;static overrides=zl;static registry=Ar;static version=g5;static getChart=KE;static register(...t){Ar.add(...t),WE()}static unregister(...t){Ar.remove(...t),WE()}constructor(t,e){const i=this.config=new d5(e),r=TA(t),o=KE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||z6(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,c.aspectRatio),m=d&&d.canvas,p=m&&m.height,v=m&&m.width;if(this.id=L3(),this.ctx=d,this.canvas=m,this.width=v,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eN(E=>this.update(E),c.resizeDelay||0),this._dataChanges=[],kd[this.id]=this,!d||!m){console.error("Failed to create chart: can't acquire context from the given item");return}ga.listen(this,"complete",ZE),ga.listen(this,"progress",y5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return qe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gE(this.canvas,this.ctx),this}stop(){return ga.stop(this),this}resize(t,e){ga.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,bE(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),Xe(i.onResize,[this,c],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ve(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,d)=>(c[d]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const d=e[c],m=X_(c,d),p=m==="r",v=m==="x";return{options:d,dposition:p?"chartArea":v?"bottom":"left",dtype:p?"radialLinear":v?"category":"linear"}}))),Ve(o,c=>{const d=c.options,m=d.id,p=X_(m,d),v=Ie(d.type,c.dtype);(d.position===void 0||GE(d.position,p)!==GE(c.dposition))&&(d.position=c.dposition),r[m]=!0;let E=null;if(m in i&&i[m].type===v)E=i[m];else{const w=Ar.getScale(v);E=new w({id:m,type:v,ctx:this.ctx,chart:this}),i[E.id]=E}E.init(d,t)}),Ve(r,(c,d)=>{c||delete i[d]}),Ve(i,c=>{Ns.configure(this,c,c.options),Ns.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort($E("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=d,c.indexAxis=o.indexAxis||Y_(d,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const m=Ar.getController(d),{datasetElementType:p,dataElementType:v}=En.datasets[d];Object.assign(m,{dataElementType:Ar.getElement(v),datasetElementType:p&&Ar.getElement(p)}),c.controller=new m(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ve(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,v=this.data.datasets.length;p<v;p++){const{controller:E}=this.getDatasetMeta(p),w=!r&&o.indexOf(E)===-1;E.buildOrUpdateElements(w),c=Math.max(+E.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Ve(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($E("z","_idx"));const{_active:d,_lastEvent:m}=this;m?this._eventHandler(m,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Ve(this.scales,t=>{Ns.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!aE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;v5(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!aE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ns.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Ve(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,jo(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ga.has(this)?this.attached&&!ga.running(this)&&ga.start(this):(this.draw(),ZE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=jN(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&rv(e,r),t.controller.draw(),r&&av(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return iA(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=_6.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ac(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Lh(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(d=>d.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ga.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),gE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};Ve(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(m,p)=>{e.addEventListener(this,m,p),t[m]=p},r=(m,p)=>{t[m]&&(e.removeEventListener(this,m,p),delete t[m])},o=(m,p)=>{this.canvas&&this.resize(m,p)};let c;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():c()}unbindEvents(){Ve(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ve(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,d,m;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,m=t.length;d<m;++d){c=t[d];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!sm(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(m,p)=>m.filter(v=>!p.some(E=>v.datasetIndex===E.datasetIndex&&v.index===E.index)),c=o(e,t),d=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,d=this._getActiveElements(t,r,i,c),m=U3(t),p=b5(t,this._lastEvent,i,m);i&&(this._lastEvent=null,Xe(o.onHover,[t,d,this],this),m&&Xe(o.onClick,[t,d,this],this));const v=!sm(d,r);return(v||e)&&(this._active=d,this._updateHoverStyles(d,r,e)),this._lastEvent=p,v}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function WE(){return Ve($m.instances,n=>n._plugins.invalidate())}function SA(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let d,m,p,v,E;return n.horizontal?(E=c/2,d=Math.min(e,r),m=Math.max(e,r),p=i-E,v=i+E):(E=o/2,d=e-E,m=e+E,p=Math.min(i,r),v=Math.max(i,r)),{left:d,top:p,right:m,bottom:v}}function Eo(n,t,e,i){return n?0:rr(t,e,i)}function x5(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=rA(i);return{t:Eo(r.top,o.top,0,e),r:Eo(r.right,o.right,0,t),b:Eo(r.bottom,o.bottom,0,e),l:Eo(r.left,o.left,0,t)}}function E5(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Uu(r),c=Math.min(t,e),d=n.borderSkipped,m=i||De(r);return{topLeft:Eo(!m||d.top||d.left,o.topLeft,0,c),topRight:Eo(!m||d.top||d.right,o.topRight,0,c),bottomLeft:Eo(!m||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Eo(!m||d.bottom||d.right,o.bottomRight,0,c)}}function w5(n){const t=SA(n),e=t.right-t.left,i=t.bottom-t.top,r=x5(n,e/2,i/2),o=E5(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function h_(n,t,e,i){const r=t===null,o=e===null,d=n&&!(r&&o)&&SA(n,i);return d&&(r||zu(t,d.left,d.right))&&(o||zu(e,d.top,d.bottom))}function T5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function S5(n,t){n.rect(t.x,t.y,t.w,t.h)}function f_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class A5 extends oc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=w5(this),d=T5(c.radius)?lm:S5;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),d(t,f_(c,e,o)),t.clip(),d(t,f_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,f_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return h_(this,t,e,i)}inXRange(t,e){return h_(this,t,null,e)}inYRange(t,e){return h_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const YE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},C5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class XE extends oc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Xe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=pi(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:m}=YE(i,o);let p,v;e.font=r.string,this.isHorizontal()?(p=this.maxWidth,v=this._fitRows(c,o,d,m)+10):(v=this.maxHeight,p=this._fitCols(c,r,d,m)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],p=this.lineWidths=[0],v=r+d;let E=t;o.textAlign="left",o.textBaseline="middle";let w=-1,D=-v;return this.legendItems.forEach((N,j)=>{const z=i+e/2+o.measureText(N.text).width;(j===0||p[p.length-1]+z+2*d>c)&&(E+=v,p[p.length-(j>0?0:1)]=0,D+=v,w++),m[j]={left:0,top:D,row:w,width:z,height:r},p[p.length-1]+=z+d}),E}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],p=this.columnSizes=[],v=c-t;let E=d,w=0,D=0,N=0,j=0;return this.legendItems.forEach((z,K)=>{const{itemWidth:X,itemHeight:Y}=R5(i,e,o,z,r);K>0&&D+Y+2*d>v&&(E+=w+d,p.push({width:w,height:D}),N+=w+d,j++,w=D=0),m[K]={left:N,top:D,col:j,width:X,height:Y},w=Math.max(w,X),D+=Y+d}),E+=w,p.push({width:w,height:D}),E}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Fu(o,this.left,this.width);if(this.isHorizontal()){let d=0,m=fi(i,this.left+r,this.right-this.lineWidths[d]);for(const p of e)d!==p.row&&(d=p.row,m=fi(i,this.left+r,this.right-this.lineWidths[d])),p.top+=this.top+t+r,p.left=c.leftForLtr(c.x(m),p.width),m+=p.width+r}else{let d=0,m=fi(i,this.top+t+r,this.bottom-this.columnSizes[d].height);for(const p of e)p.col!==d&&(d=p.col,m=fi(i,this.top+t+r,this.bottom-this.columnSizes[d].height)),p.top=m,p.left+=this.left+r,p.left=c.leftForLtr(c.x(p.left),p.width),m+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;rv(t,this),this._draw(),av(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,d=En.color,m=Fu(t.rtl,this.left,this.width),p=pi(c.font),{padding:v}=c,E=p.size,w=E/2;let D;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:N,boxHeight:j,itemHeight:z}=YE(c,E),K=function(mt,F,A){if(isNaN(N)||N<=0||isNaN(j)||j<0)return;r.save();const O=Ie(A.lineWidth,1);if(r.fillStyle=Ie(A.fillStyle,d),r.lineCap=Ie(A.lineCap,"butt"),r.lineDashOffset=Ie(A.lineDashOffset,0),r.lineJoin=Ie(A.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Ie(A.strokeStyle,d),r.setLineDash(Ie(A.lineDash,[])),c.usePointStyle){const V={radius:j*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:O},B=m.xPlus(mt,N/2),q=F+w;nA(r,V,B,q,c.pointStyleWidth&&N)}else{const V=F+Math.max((E-j)/2,0),B=m.leftForLtr(mt,N),q=Uu(A.borderRadius);r.beginPath(),Object.values(q).some(H=>H!==0)?lm(r,{x:B,y:V,w:N,h:j,radius:q}):r.rect(B,V,N,j),r.fill(),O!==0&&r.stroke()}r.restore()},X=function(mt,F,A){Nh(r,A.text,mt,F+z/2,p,{strikethrough:A.hidden,textAlign:m.textAlign(A.textAlign)})},Y=this.isHorizontal(),ot=this._computeTitleHeight();Y?D={x:fi(o,this.left+v,this.right-i[0]),y:this.top+v+ot,line:0}:D={x:this.left+v,y:fi(o,this.top+ot+v,this.bottom-e[0].height),line:0},cA(this.ctx,t.textDirection);const J=z+v;this.legendItems.forEach((mt,F)=>{r.strokeStyle=mt.fontColor,r.fillStyle=mt.fontColor;const A=r.measureText(mt.text).width,O=m.textAlign(mt.textAlign||(mt.textAlign=c.textAlign)),V=N+w+A;let B=D.x,q=D.y;m.setWidth(this.width),Y?F>0&&B+V+v>this.right&&(q=D.y+=J,D.line++,B=D.x=fi(o,this.left+v,this.right-i[D.line])):F>0&&q+J>this.bottom&&(B=D.x=B+e[D.line].width+v,D.line++,q=D.y=fi(o,this.top+ot+v,this.bottom-e[D.line].height));const H=m.x(B);if(K(H,q,mt),B=nN(O,B+N+w,Y?B+V:this.right,t.rtl),X(m.x(B),q,mt),Y)D.x+=V+v;else if(typeof mt.text!="string"){const Mt=p.lineHeight;D.y+=AA(mt,Mt)+v}else D.y+=J}),hA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pi(e.font),r=zs(e.padding);if(!e.display)return;const o=Fu(t.rtl,this.left,this.width),c=this.ctx,d=e.position,m=i.size/2,p=r.top+m;let v,E=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),v=this.top+p,E=fi(t.align,E,this.right-w);else{const N=this.columnSizes.reduce((j,z)=>Math.max(j,z.height),0);v=p+fi(t.align,this.top,this.bottom-N-t.labels.padding-this._computeTitleHeight())}const D=fi(d,E,E+w);c.textAlign=o.textAlign(sv(d)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Nh(c,e.text,D,v,i)}_computeTitleHeight(){const t=this.options.title,e=pi(t.font),i=zs(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(zu(t,this.left,this.right)&&zu(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],zu(t,r.left,r.left+r.width)&&zu(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!D5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=C5(r,i);r&&!o&&Xe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Xe(e.onHover,[t,i,this],this)}else i&&Xe(e.onClick,[t,i,this],this)}}function R5(n,t,e,i,r){const o=M5(i,n,t,e),c=O5(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function M5(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function O5(n,t,e){let i=n;return typeof t.text!="string"&&(i=AA(t,e)),i}function AA(n,t){const e=n.text?n.text.length:0;return t*e}function D5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var k5={id:"legend",_element:XE,start(n,t,e){const i=n.legend=new XE({ctx:n.ctx,options:e,chart:n});Ns.configure(n,i,e),Ns.addBox(n,i)},stop(n){Ns.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ns.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(m=>{const p=m.controller.getStyle(e?0:void 0),v=zs(p.borderWidth);return{text:t[m.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!m.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:c&&(d||p.borderRadius),datasetIndex:m.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class CA extends oc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Nn(i.text)?i.text.length:1;this._padding=zs(i.padding);const o=r*pi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,d=c.align;let m=0,p,v,E;return this.isHorizontal()?(v=fi(d,i,o),E=e+t,p=o-i):(c.position==="left"?(v=i+t,E=fi(d,r,e),m=gi*-.5):(v=o-t,E=fi(d,e,r),m=gi*.5),p=r-e),{titleX:v,titleY:E,maxWidth:p,rotation:m}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pi(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:m,rotation:p}=this._drawArgs(o);Nh(t,e.text,0,0,i,{color:e.color,maxWidth:m,rotation:p,textAlign:sv(e.align),textBaseline:"middle",translation:[c,d]})}}function I5(n,t){const e=new CA({ctx:n.ctx,options:t,chart:n});Ns.configure(n,e,t),Ns.addBox(n,e),n.titleBlock=e}var P5={id:"title",_element:CA,start(n,t,e){I5(n,e)},stop(n){const t=n.titleBlock;Ns.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ns.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const d=n[t].element;if(d&&d.hasValue()){const m=d.tooltipPosition();i.add(m.x),r+=m.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((d,m)=>d+m)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=n.length;o<c;++o){const m=n[o].element;if(m&&m.hasValue()){const p=m.getCenterPoint(),v=W3(t,p);v<r&&(r=v,d=m)}}if(d){const m=d.tooltipPosition();e=m.x,i=m.y}return{x:e,y:i}}};function Sr(n,t){return t&&(Nn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function _a(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function L5(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:d}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function QE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:d}=t,m=pi(t.bodyFont),p=pi(t.titleFont),v=pi(t.footerFont),E=o.length,w=r.length,D=i.length,N=zs(t.padding);let j=N.height,z=0,K=i.reduce((ot,J)=>ot+J.before.length+J.lines.length+J.after.length,0);if(K+=n.beforeBody.length+n.afterBody.length,E&&(j+=E*p.lineHeight+(E-1)*t.titleSpacing+t.titleMarginBottom),K){const ot=t.displayColors?Math.max(d,m.lineHeight):m.lineHeight;j+=D*ot+(K-D)*m.lineHeight+(K-1)*t.bodySpacing}w&&(j+=t.footerMarginTop+w*v.lineHeight+(w-1)*t.footerSpacing);let X=0;const Y=function(ot){z=Math.max(z,e.measureText(ot).width+X)};return e.save(),e.font=p.string,Ve(n.title,Y),e.font=m.string,Ve(n.beforeBody.concat(n.afterBody),Y),X=t.displayColors?c+2+t.boxPadding:0,Ve(i,ot=>{Ve(ot.before,Y),Ve(ot.lines,Y),Ve(ot.after,Y)}),X=0,e.font=v.string,Ve(n.footer,Y),e.restore(),z+=N.width,{width:z,height:j}}function N5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function V5(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function z5(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:d,right:m}}=n;let p="center";return i==="center"?p=r<=(d+m)/2?"left":"right":r<=o/2?p="left":r>=c-o/2&&(p="right"),V5(p,n,t,e)&&(p="center"),p}function JE(n,t,e){const i=e.yAlign||t.yAlign||N5(n,e);return{xAlign:e.xAlign||t.xAlign||z5(n,t,e,i),yAlign:i}}function B5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function j5(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function tw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:d,yAlign:m}=e,p=r+o,{topLeft:v,topRight:E,bottomLeft:w,bottomRight:D}=Uu(c);let N=B5(t,d);const j=j5(t,m,p);return m==="center"?d==="left"?N+=p:d==="right"&&(N-=p):d==="left"?N-=Math.max(v,w)+r:d==="right"&&(N+=Math.max(E,D)+r),{x:rr(N,0,i.width-t.width),y:rr(j,0,i.height-t.height)}}function bd(n,t,e){const i=zs(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function ew(n){return Sr([],_a(n))}function U5(n,t,e){return ac(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function nw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const RA={beforeTitle:pa,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:pa,beforeBody:pa,beforeLabel:pa,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return qe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:pa,afterBody:pa,beforeFooter:pa,footer:pa,afterFooter:pa};function Gi(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?RA[t].call(e,i):r}class iw extends oc{static positioners=hh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new fA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=U5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Gi(i,"beforeTitle",this,t),o=Gi(i,"title",this,t),c=Gi(i,"afterTitle",this,t);let d=[];return d=Sr(d,_a(r)),d=Sr(d,_a(o)),d=Sr(d,_a(c)),d}getBeforeBody(t,e){return ew(Gi(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Ve(t,o=>{const c={before:[],lines:[],after:[]},d=nw(i,o);Sr(c.before,_a(Gi(d,"beforeLabel",this,o))),Sr(c.lines,Gi(d,"label",this,o)),Sr(c.after,_a(Gi(d,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return ew(Gi(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Gi(i,"beforeFooter",this,t),o=Gi(i,"footer",this,t),c=Gi(i,"afterFooter",this,t);let d=[];return d=Sr(d,_a(r)),d=Sr(d,_a(o)),d=Sr(d,_a(c)),d}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let d=[],m,p;for(m=0,p=e.length;m<p;++m)d.push(L5(this.chart,e[m]));return t.filter&&(d=d.filter((v,E,w)=>t.filter(v,E,w,i))),t.itemSort&&(d=d.sort((v,E)=>t.itemSort(v,E,i))),Ve(d,v=>{const E=nw(t.callbacks,v);r.push(Gi(E,"labelColor",this,v)),o.push(Gi(E,"labelPointStyle",this,v)),c.push(Gi(E,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const d=hh[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const m=this._size=QE(this,i),p=Object.assign({},d,m),v=JE(this.chart,i,p),E=tw(i,p,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,o={opacity:1,x:E.x,y:E.y,width:m.width,height:m.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:d}=i,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:E}=Uu(d),{x:w,y:D}=t,{width:N,height:j}=e;let z,K,X,Y,ot,J;return o==="center"?(ot=D+j/2,r==="left"?(z=w,K=z-c,Y=ot+c,J=ot-c):(z=w+N,K=z+c,Y=ot-c,J=ot+c),X=z):(r==="left"?K=w+Math.max(m,v)+c:r==="right"?K=w+N-Math.max(p,E)-c:K=this.caretX,o==="top"?(Y=D,ot=Y-c,z=K-c,X=K+c):(Y=D+j,ot=Y+c,z=K+c,X=K-c),J=Y),{x1:z,x2:K,x3:X,y1:Y,y2:ot,y3:J}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,d,m;if(o){const p=Fu(i.rtl,this.x,this.width);for(t.x=bd(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",c=pi(i.titleFont),d=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,m=0;m<o;++m)e.fillText(r[m],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,m+1===o&&(t.y+=i.titleMarginBottom-d)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:m,boxWidth:p}=o,v=pi(o.bodyFont),E=bd(this,"left",o),w=r.x(E),D=m<v.lineHeight?(v.lineHeight-m)/2:0,N=e.y+D;if(o.usePointStyle){const j={radius:Math.min(p,m)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},z=r.leftForLtr(w,p)+p/2,K=N+m/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,_E(t,j,z,K),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,_E(t,j,z,K)}else{t.lineWidth=De(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const j=r.leftForLtr(w,p),z=r.leftForLtr(r.xPlus(w,1),p-2),K=Uu(c.borderRadius);Object.values(K).some(X=>X!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,lm(t,{x:j,y:N,w:p,h:m,radius:K}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),lm(t,{x:z,y:N+1,w:p-2,h:m-2,radius:K}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(j,N,p,m),t.strokeRect(j,N,p,m),t.fillStyle=c.backgroundColor,t.fillRect(z,N+1,p-2,m-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:m,boxWidth:p,boxPadding:v}=i,E=pi(i.bodyFont);let w=E.lineHeight,D=0;const N=Fu(i.rtl,this.x,this.width),j=function(A){e.fillText(A,N.x(t.x+D),t.y+w/2),t.y+=w+o},z=N.textAlign(c);let K,X,Y,ot,J,mt,F;for(e.textAlign=c,e.textBaseline="middle",e.font=E.string,t.x=bd(this,z,i),e.fillStyle=i.bodyColor,Ve(this.beforeBody,j),D=d&&z!=="right"?c==="center"?p/2+v:p+2+v:0,ot=0,mt=r.length;ot<mt;++ot){for(K=r[ot],X=this.labelTextColors[ot],e.fillStyle=X,Ve(K.before,j),Y=K.lines,d&&Y.length&&(this._drawColorBox(e,t,ot,N,i),w=Math.max(E.lineHeight,m)),J=0,F=Y.length;J<F;++J)j(Y[J]),w=E.lineHeight;Ve(K.after,j)}D=0,w=E.lineHeight,Ve(this.afterBody,j),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,d;if(o){const m=Fu(i.rtl,this.x,this.width);for(t.x=bd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=m.textAlign(i.footerAlign),e.textBaseline="middle",c=pi(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,d=0;d<o;++d)e.fillText(r[d],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:d,y:m}=t,{width:p,height:v}=i,{topLeft:E,topRight:w,bottomLeft:D,bottomRight:N}=Uu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(d+E,m),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(d+p-w,m),e.quadraticCurveTo(d+p,m,d+p,m+w),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(d+p,m+v-N),e.quadraticCurveTo(d+p,m+v,d+p-N,m+v),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(d+D,m+v),e.quadraticCurveTo(d,m+v,d,m+v-D),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(d,m+E),e.quadraticCurveTo(d,m,d+E,m),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=hh[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=QE(this,t),m=Object.assign({},c,this._size),p=JE(e,t,m),v=tw(t,m,p,e);(r._to!==v.x||o._to!==v.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=zs(e.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&d&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),cA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),hA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:d,index:m})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[m],index:m}}),o=!sm(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),d=this._positionChanged(c,t),m=e||!sm(c,o)||d;return m&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),m}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=hh[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var F5={id:"tooltip",_element:iw,positioners:hh,afterInit(n,t,e){e&&(n.tooltip=new iw({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const H5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function q5(n,t,e,i){const r=n.indexOf(t);if(r===-1)return H5(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const G5=(n,t)=>n===null?null:rr(Math.round(n),0,t);function sw(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class $5 extends lc{static id="category";static defaults={ticks:{callback:sw}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(qe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:q5(i,t,Ie(e,t),this._addedLabels),G5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return sw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Z5(n,t){const e=[],{bounds:r,step:o,min:c,max:d,precision:m,count:p,maxTicks:v,maxDigits:E,includeBounds:w}=n,D=o||1,N=v-1,{min:j,max:z}=t,K=!qe(c),X=!qe(d),Y=!qe(p),ot=(z-j)/(E+1);let J=lE((z-j)/N/D)*D,mt,F,A,O;if(J<1e-14&&!K&&!X)return[{value:j},{value:z}];O=Math.ceil(z/J)-Math.floor(j/J),O>N&&(J=lE(O*J/N/D)*D),qe(m)||(mt=Math.pow(10,m),J=Math.ceil(J*mt)/mt),r==="ticks"?(F=Math.floor(j/J)*J,A=Math.ceil(z/J)*J):(F=j,A=z),K&&X&&o&&G3((d-c)/o,J/1e3)?(O=Math.round(Math.min((d-c)/J,v)),J=(d-c)/O,F=c,A=d):Y?(F=K?c:F,A=X?d:A,O=p-1,J=(A-F)/O):(O=(A-F)/J,Od(O,Math.round(O),J/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(uE(J),uE(F));mt=Math.pow(10,qe(m)?V:m),F=Math.round(F*mt)/mt,A=Math.round(A*mt)/mt;let B=0;for(K&&(w&&F!==c?(e.push({value:c}),F<c&&B++,Od(Math.round((F+B*J)*mt)/mt,c,rw(c,ot,n))&&B++):F<c&&B++);B<O;++B){const q=Math.round((F+B*J)*mt)/mt;if(X&&q>d)break;e.push({value:q})}return X&&w&&A!==d?e.length&&Od(e[e.length-1].value,d,rw(d,ot,n))?e[e.length-1].value=d:e.push({value:d}):(!X||A===d)&&e.push({value:A}),e}function rw(n,t,{horizontal:e,minRotation:i}){const r=Ol(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class K5 extends lc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return qe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=m=>r=e?r:m,d=m=>o=i?o:m;if(t){const m=Oo(r),p=Oo(o);m<0&&p<0?d(0):m>0&&p>0&&c(0)}if(r===o){let m=o===0?1:Math.abs(o*.05);d(o+m),t||c(r-m)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=Z5(r,o);return t.bounds==="ticks"&&$3(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return tA(t,this.chart.options.locale,this.options.ticks.format)}}class W5 extends K5{static id="linear";static defaults={ticks:{callback:eA.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Vs(t)?t:0,this.max=Vs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ol(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wi=Object.keys(Zm);function aw(n,t){return n-t}function ow(n,t){if(qe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Vs(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(om(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function lw(n,t,e,i){const r=Wi.length;for(let o=Wi.indexOf(n);o<r-1;++o){const c=Zm[Wi[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(d*c.size))<=i)return Wi[o]}return Wi[r-1]}function Y5(n,t,e,i,r){for(let o=Wi.length-1;o>=Wi.indexOf(e);o--){const c=Wi[o];if(Zm[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Wi[e?Wi.indexOf(e):0]}function X5(n){for(let t=Wi.indexOf(n)+1,e=Wi.length;t<e;++t)if(Zm[Wi[t]].common)return Wi[t]}function uw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=iv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function Q5(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let d,m;for(d=o;d<=c;d=+r.add(d,1,i))m=e[d],m>=0&&(t[m].major=!0);return t}function cw(n,t,e){const i=[],r={},o=t.length;let c,d;for(c=0;c<o;++c)d=t[c],r[d]=c,i.push({value:d,major:!1});return o===0||!e?i:Q5(n,i,r,e)}class hw extends lc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new f6._date(t.adapters.date);r.init(e),yh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ow(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function m(p){!c&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!d&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!d)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=Vs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Vs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,d=J3(r,o,c);return this._unit=e.unit||(i.autoSkip?lw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Y5(this,d.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:X5(this._unit),this.initOffsets(r),t.reverse&&d.reverse(),cw(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=rr(e,0,c),i=rr(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||lw(o.minUnit,e,i,this._getLabelCapacity(e)),d=Ie(r.ticks.stepSize,1),m=c==="week"?o.isoWeekday:!1,p=om(m)||m===!0,v={};let E=e,w,D;if(p&&(E=+t.startOf(E,"isoWeek",m)),E=+t.startOf(E,p?"day":c),t.diff(i,e,c)>1e5*d)throw new Error(e+" and "+i+" are too far apart with stepSize of "+d+" "+c);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(w=E,D=0;w<i;w=+t.add(w,d,c),D++)uw(v,w,N);return(w===i||r.bounds==="ticks"||D===1)&&uw(v,w,N),Object.keys(v).sort(aw).map(j=>+j)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return Xe(c,[t,e,i],this);const d=o.time.displayFormats,m=this._unit,p=this._majorUnit,v=m&&d[m],E=p&&d[p],w=i[e],D=p&&E&&w&&w.major;return this._adapter.format(t,r||(D?E:v))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ol(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:i*o+d*c,h:i*c+d*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,cw(this,[t],this._majorUnit),r),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(ow(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Y2(t.sort(aw))}}function xd(n,t,e){let i=0,r=n.length-1,o,c,d,m;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=K_(n,"pos",t)),{pos:o,time:d}=n[i],{pos:c,time:m}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=K_(n,"time",t)),{time:o,pos:d}=n[i],{time:c,pos:m}=n[r]);const p=c-o;return p?d+(m-d)*(t-o)/p:d}class zz extends hw{static id="timeseries";static defaults=hw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xd(e,this.min),this._tableRange=xd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,d,m,p,v;for(c=0,d=t.length;c<d;++c)p=t[c],p>=e&&p<=i&&r.push(p);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,d=r.length;c<d;++c)v=r[c+1],m=r[c-1],p=r[c],Math.round((v+m)/2)!==p&&o.push({time:p,pos:c/(d-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return xd(this._table,i*this._tableRange+this._minPos,!0)}}const MA="label";function fw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function J5(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function OA(n,t){n.labels=t}function DA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MA;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function tV(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MA;const e={labels:[],datasets:[]};return OA(e,n.labels),DA(e,n.datasets,t),e}function eV(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:d,options:m,plugins:p=[],fallbackContent:v,updateMode:E,...w}=n,D=I.useRef(null),N=I.useRef(null),j=()=>{D.current&&(N.current=new $m(D.current,{type:c,data:tV(d,o),options:m&&{...m},plugins:p}),fw(t,N.current))},z=()=>{fw(t,null),N.current&&(N.current.destroy(),N.current=null)};return I.useEffect(()=>{!r&&N.current&&m&&J5(N.current,m)},[r,m]),I.useEffect(()=>{!r&&N.current&&OA(N.current.config.data,d.labels)},[r,d.labels]),I.useEffect(()=>{!r&&N.current&&d.datasets&&DA(N.current.config.data,d.datasets,o)},[r,d.datasets]),I.useEffect(()=>{N.current&&(r?(z(),setTimeout(j)):N.current.update(E))},[r,m,d.labels,d.datasets,E]),I.useEffect(()=>{N.current&&(z(),setTimeout(j))},[c]),I.useEffect(()=>(j(),()=>z()),[]),Vn.createElement("canvas",{ref:D,role:"img",height:e,width:i,...w},v)}const nV=I.forwardRef(eV);function iV(n,t){return $m.register(t),I.forwardRef((e,i)=>Vn.createElement(nV,{...e,ref:i,type:n}))}const sV=iV("bar",h6);$m.register($5,W5,A5,P5,F5,k5);const rV=()=>{const[n,t]=I.useState(0),[e,i]=I.useState({});I.useEffect(()=>{(async()=>{const m=(await Vl(zo(ir,"asets"))).docs.map(v=>v.data());t(m.length);const p=m.reduce((v,E)=>(v[E.jenisAset]=(v[E.jenisAset]||0)+1,v),{});i(p)})()},[]);const r={labels:Object.keys(e),datasets:[{label:"Jumlah Aset",data:Object.values(e),backgroundColor:"rgba(106, 106, 252, 0.5)",borderColor:"rgba(106, 106, 252, 1)",borderWidth:1}]},o={scales:{y:{beginAtZero:!0,ticks:{precision:0}}}};return R.jsxs(Fm,{children:[R.jsx(Yu,{md:4,children:R.jsxs(Ze,{className:"text-center",children:[R.jsx(Ze.Header,{children:"Total Aset"}),R.jsxs(Ze.Body,{children:[R.jsx(ZM,{size:50,className:"mb-3 text-primary"}),R.jsx(Ze.Text,{className:"fs-1",children:n})]})]})}),R.jsx(Yu,{md:8,children:R.jsxs(Ze,{children:[R.jsx(Ze.Header,{children:"Aset Berdasarkan Jenis"}),R.jsx(Ze.Body,{children:n>0?R.jsx(sV,{data:r,options:o}):R.jsx("div",{className:"text-center p-5",children:"Tidak ada data untuk ditampilkan"})})]})})]})},aV=({show:n,onHide:t,asset:e})=>e?R.jsxs(Qe,{show:n,onHide:t,size:"lg",centered:!0,children:[R.jsx(Qe.Header,{closeButton:!0,children:R.jsx(Qe.Title,{children:e.namaAset})}),R.jsxs(Qe.Body,{children:[e.fotoAset&&R.jsx("div",{className:"text-center mb-3",children:R.jsx(em,{src:e.fotoAset,fluid:!0,thumbnail:!0,style:{maxHeight:"300px"}})}),R.jsxs(An,{variant:"flush",children:[R.jsxs(An.Item,{children:[R.jsx("b",{children:"Lokasi:"})," ",e.lokasi]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Koordinat:"})," ",e.koordinat]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Sumber Pembiayaan:"})," ",e.sumberPembiyaan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Tahun Perolehan:"})," ",e.tahunPerolehan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Jenis Aset:"})," ",e.jenisAset]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Status Kepemilikan:"})," ",e.statusKepemilikan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Penggunaan Saat Ini:"})," ",e.penggunaanSaatIni]})]})]}),R.jsx(Qe.Footer,{children:R.jsx(bn,{variant:"secondary",onClick:t,children:"Tutup"})})]}):null,oV=({show:n,onHide:t,asset:e,onUpdateSuccess:i})=>{const[r,o]=I.useState({}),[c,d]=I.useState(!1),[m,p]=I.useState({show:!1,variant:"",message:""});I.useEffect(()=>{o(e?{...e,fotoAset:e.fotoAset||null,newFoto:null}:{})},[e]);const v=D=>{const{name:N,value:j}=D.target;o({...r,[N]:j})},E=D=>{o({...r,newFoto:D.target.files[0]})},w=async D=>{D.preventDefault(),d(!0),p({show:!1,variant:"",message:""});try{let N=r.fotoAset;if(r.newFoto){const Y=new FormData;Y.append("file",r.newFoto),Y.append("upload_preset","tabtim"),Y.append("cloud_name","dqogozadw");const ot=await fetch("https://api.cloudinary.com/v1_1/dqogozadw/image/upload",{method:"POST",body:Y}),J=await ot.json();if(!ot.ok)throw new Error(J.error.message||"Gagal mengunggah gambar baru");N=J.secure_url}const j=Nl(ir,"asets",e.id),{id:z,newFoto:K,...X}=r;await HS(j,{...X,fotoAset:N}),i("Aset berhasil diperbarui!"),t()}catch(N){console.error("Error updating document: ",N),p({show:!0,variant:"danger",message:`Gagal memperbarui data: ${N.message}`})}finally{d(!1)}};return e?R.jsxs(Qe,{show:n,onHide:t,size:"lg",centered:!0,children:[R.jsx(Qe.Header,{closeButton:!0,children:R.jsxs(Qe.Title,{children:["Edit Aset: ",e.namaAset]})}),R.jsxs(Qe.Body,{children:[m.show&&R.jsx(Bo,{variant:m.variant,onClose:()=>p({...m,show:!1}),dismissible:!0,children:m.message}),R.jsxs(Dt,{onSubmit:w,children:[R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Nama Aset"}),R.jsx(Dt.Control,{type:"text",name:"namaAset",value:r.namaAset||"",onChange:v,required:!0})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Lokasi"}),R.jsx(Dt.Control,{type:"text",name:"lokasi",value:r.lokasi||"",onChange:v,required:!0})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Sumber Pembiyaan"}),R.jsx(Dt.Control,{type:"text",name:"sumberPembiyaan",value:r.sumberPembiyaan||"",onChange:v})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Tahun Perolehan"}),R.jsx(Dt.Control,{type:"number",name:"tahunPerolehan",value:r.tahunPerolehan||"",onChange:v})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Jenis Aset"}),R.jsxs(Dt.Select,{name:"jenisAset",value:r.jenisAset||"Bangunan",onChange:v,children:[R.jsx("option",{children:"Bangunan"}),R.jsx("option",{children:"Lahan Basah"}),R.jsx("option",{children:"Lahan Kering"}),R.jsx("option",{children:"Lainnya"})]})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Status Kepemilikan"}),R.jsx(Dt.Control,{type:"text",name:"statusKepemilikan",value:r.statusKepemilikan||"",onChange:v})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Penggunaan Saat Ini"}),R.jsx(Dt.Control,{type:"text",name:"penggunaanSaatIni",value:r.penggunaanSaatIni||"",onChange:v})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Ganti Foto Asset"}),r.fotoAset&&R.jsx("img",{src:r.fotoAset,alt:"Current Asset",width:"100",className:"mb-2 d-block"}),R.jsx(Dt.Control,{type:"file",name:"newFoto",onChange:E})]}),R.jsxs(Qe.Footer,{className:"px-0",children:[R.jsx(bn,{variant:"secondary",onClick:t,disabled:c,children:"Batal"}),R.jsx(bn,{variant:"primary",type:"submit",disabled:c,children:c?R.jsxs(R.Fragment,{children:[R.jsx(Hl,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Memperbarui..."]}):"Simpan Perubahan"})]})]})]})]}):null};var Id={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var lV=Id.exports,dw;function uV(){return dw||(dw=1,(function(n,t){((e,i)=>{n.exports=i()})(lV,function e(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,o=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,d={},m=0,p={};function v(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var V=J(O);V.chunkSize=parseInt(V.chunkSize),O.step||O.chunk||(V.chunkSize=null),this._handle=new j(V),(this._handle.streamer=this)._config=V}).call(this,A),this.parseChunk=function(O,V){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let H=this._config.newline;H||(q=this._config.quoteChar||'"',H=this._handle.guessLineEndings(O,q)),O=[...O.split(H).slice(B)].join(H)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(O))!==void 0&&(O=q),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+O,q=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=q.meta.cursor,B=(this._finished||(this._partialLine=B.substring(O-this._baseIndex),this._baseIndex=O),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:q,workerId:p.WORKER_ID,finished:B});else if(F(this._config.chunk)&&!V){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!B||!F(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(O){F(this._config.error)?this._config.error(O):c&&this._config.error&&i.postMessage({workerId:p.WORKER_ID,error:O,finished:!1})}}function E(A){var O;(A=A||{}).chunkSize||(A.chunkSize=p.RemoteChunkSize),v.call(this,A),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),o||(O.onload=mt(this._chunkLoaded,this),O.onerror=mt(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var V,B=this._config.downloadRequestHeaders;for(V in B)O.setRequestHeader(V,B[V])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+q));try{O.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}o&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(V){V=O.statusText||V,this._sendError(new Error(V))}}function w(A){(A=A||{}).chunkSize||(A.chunkSize=p.LocalChunkSize),v.call(this,A);var O,V,B=typeof FileReader<"u";this.stream=function(q){this._input=q,V=q.slice||q.webkitSlice||q.mozSlice,B?((O=new FileReader).onload=mt(this._chunkLoaded,this),O.onerror=mt(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),q=V.call(q,this._start,H)),O.readAsText(q,this._config.encoding));B||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(O.error)}}function D(A){var O;v.call(this,A=A||{}),this.stream=function(V){return O=V,this._nextChunk()},this._nextChunk=function(){var V,B;if(!this._finished)return V=this._config.chunkSize,O=V?(B=O.substring(0,V),O.substring(V)):(B=O,""),this._finished=!O,this.parseChunk(B)}}function N(A){v.call(this,A=A||{});var O=[],V=!0,B=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):V=!0},this._streamData=mt(function(q){try{O.push(typeof q=="string"?q:q.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(H){this._streamError(H)}},this),this._streamError=mt(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=mt(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=mt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function j(A){var O,V,B,q,H=Math.pow(2,53),Mt=-H,It=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,tt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,pt=this,dt=0,St=0,G=!1,Q=!1,gt=[],st={data:[],errors:[],meta:{}};function bt(Ct){return A.skipEmptyLines==="greedy"?Ct.join("").trim()==="":Ct.length===1&&Ct[0].length===0}function lt(){if(st&&B&&(Ft("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),B=!1),A.skipEmptyLines&&(st.data=st.data.filter(function(ie){return!bt(ie)})),_t()){let ie=function(ve,de){F(A.transformHeader)&&(ve=A.transformHeader(ve,de)),gt.push(ve)};var qt=ie;if(st)if(Array.isArray(st.data[0])){for(var Ct=0;_t()&&Ct<st.data.length;Ct++)st.data[Ct].forEach(ie);st.data.splice(0,1)}else st.data.forEach(ie)}function Ht(ie,ve){for(var de=A.header?{}:[],jt=0;jt<ie.length;jt++){var $t=jt,le=ie[jt],le=((ae,Jt)=>(re=>(A.dynamicTypingFunction&&A.dynamicTyping[re]===void 0&&(A.dynamicTyping[re]=A.dynamicTypingFunction(re)),(A.dynamicTyping[re]||A.dynamicTyping)===!0))(ae)?Jt==="true"||Jt==="TRUE"||Jt!=="false"&&Jt!=="FALSE"&&((re=>{if(It.test(re)&&(re=parseFloat(re),Mt<re&&re<H))return 1})(Jt)?parseFloat(Jt):tt.test(Jt)?new Date(Jt):Jt===""?null:Jt):Jt)($t=A.header?jt>=gt.length?"__parsed_extra":gt[jt]:$t,le=A.transform?A.transform(le,$t):le);$t==="__parsed_extra"?(de[$t]=de[$t]||[],de[$t].push(le)):de[$t]=le}return A.header&&(jt>gt.length?Ft("FieldMismatch","TooManyFields","Too many fields: expected "+gt.length+" fields but parsed "+jt,St+ve):jt<gt.length&&Ft("FieldMismatch","TooFewFields","Too few fields: expected "+gt.length+" fields but parsed "+jt,St+ve)),de}var fe;st&&(A.header||A.dynamicTyping||A.transform)&&(fe=1,!st.data.length||Array.isArray(st.data[0])?(st.data=st.data.map(Ht),fe=st.data.length):st.data=Ht(st.data,0),A.header&&st.meta&&(st.meta.fields=gt),St+=fe)}function _t(){return A.header&&gt.length===0}function Ft(Ct,Ht,fe,qt){Ct={type:Ct,code:Ht,message:fe},qt!==void 0&&(Ct.row=qt),st.errors.push(Ct)}F(A.step)&&(q=A.step,A.step=function(Ct){st=Ct,_t()?lt():(lt(),st.data.length!==0&&(dt+=Ct.data.length,A.preview&&dt>A.preview?V.abort():(st.data=st.data[0],q(st,pt))))}),this.parse=function(Ct,Ht,fe){var qt=A.quoteChar||'"',qt=(A.newline||(A.newline=this.guessLineEndings(Ct,qt)),B=!1,A.delimiter?F(A.delimiter)&&(A.delimiter=A.delimiter(Ct),st.meta.delimiter=A.delimiter):((qt=((ie,ve,de,jt,$t)=>{var le,ae,Jt,re;$t=$t||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var dn=0;dn<$t.length;dn++){for(var Rn,ri=$t[dn],Ke=0,mn=0,zt=0,ue=(Jt=void 0,new K({comments:jt,delimiter:ri,newline:ve,preview:10}).parse(ie)),ze=0;ze<ue.data.length;ze++)de&&bt(ue.data[ze])?zt++:(Rn=ue.data[ze].length,mn+=Rn,Jt===void 0?Jt=Rn:0<Rn&&(Ke+=Math.abs(Rn-Jt),Jt=Rn));0<ue.data.length&&(mn/=ue.data.length-zt),(ae===void 0||Ke<=ae)&&(re===void 0||re<mn)&&1.99<mn&&(ae=Ke,le=ri,re=mn)}return{successful:!!(A.delimiter=le),bestDelimiter:le}})(Ct,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=qt.bestDelimiter:(B=!0,A.delimiter=p.DefaultDelimiter),st.meta.delimiter=A.delimiter),J(A));return A.preview&&A.header&&qt.preview++,O=Ct,V=new K(qt),st=V.parse(O,Ht,fe),lt(),G?{meta:{paused:!0}}:st||{meta:{paused:!1}}},this.paused=function(){return G},this.pause=function(){G=!0,V.abort(),O=F(A.chunk)?"":O.substring(V.getCharIndex())},this.resume=function(){pt.streamer._halted?(G=!1,pt.streamer.parseChunk(O,!0)):setTimeout(pt.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,V.abort(),st.meta.aborted=!0,F(A.complete)&&A.complete(st),O=""},this.guessLineEndings=function(ie,qt){ie=ie.substring(0,1048576);var qt=new RegExp(z(qt)+"([^]*?)"+z(qt),"gm"),fe=(ie=ie.replace(qt,"")).split("\r"),qt=ie.split(`
`),ie=1<qt.length&&qt[0].length<fe[0].length;if(fe.length===1||ie)return`
`;for(var ve=0,de=0;de<fe.length;de++)fe[de][0]===`
`&&ve++;return ve>=fe.length/2?`\r
`:"\r"}}function z(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function K(A){var O=(A=A||{}).delimiter,V=A.newline,B=A.comments,q=A.step,H=A.preview,Mt=A.fastMode,It=null,tt=!1,pt=A.quoteChar==null?'"':A.quoteChar,dt=pt;if(A.escapeChar!==void 0&&(dt=A.escapeChar),(typeof O!="string"||-1<p.BAD_DELIMITERS.indexOf(O))&&(O=","),B===O)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<p.BAD_DELIMITERS.indexOf(B))&&(B=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var St=0,G=!1;this.parse=function(Q,gt,st){if(typeof Q!="string")throw new Error("Input must be a string");var bt=Q.length,lt=O.length,_t=V.length,Ft=B.length,Ct=F(q),Ht=[],fe=[],qt=[],ie=St=0;if(!Q)return Ke();if(Mt||Mt!==!1&&Q.indexOf(pt)===-1){for(var ve=Q.split(V),de=0;de<ve.length;de++){if(qt=ve[de],St+=qt.length,de!==ve.length-1)St+=V.length;else if(st)return Ke();if(!B||qt.substring(0,Ft)!==B){if(Ct){if(Ht=[],re(qt.split(O)),mn(),G)return Ke()}else re(qt.split(O));if(H&&H<=de)return Ht=Ht.slice(0,H),Ke(!0)}}return Ke()}for(var jt=Q.indexOf(O,St),$t=Q.indexOf(V,St),le=new RegExp(z(dt)+z(pt),"g"),ae=Q.indexOf(pt,St);;)if(Q[St]===pt)for(ae=St,St++;;){if((ae=Q.indexOf(pt,ae+1))===-1)return st||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ht.length,index:St}),Rn();if(ae===bt-1)return Rn(Q.substring(St,ae).replace(le,pt));if(pt===dt&&Q[ae+1]===dt)ae++;else if(pt===dt||ae===0||Q[ae-1]!==dt){jt!==-1&&jt<ae+1&&(jt=Q.indexOf(O,ae+1));var Jt=dn(($t=$t!==-1&&$t<ae+1?Q.indexOf(V,ae+1):$t)===-1?jt:Math.min(jt,$t));if(Q.substr(ae+1+Jt,lt)===O){qt.push(Q.substring(St,ae).replace(le,pt)),Q[St=ae+1+Jt+lt]!==pt&&(ae=Q.indexOf(pt,St)),jt=Q.indexOf(O,St),$t=Q.indexOf(V,St);break}if(Jt=dn($t),Q.substring(ae+1+Jt,ae+1+Jt+_t)===V){if(qt.push(Q.substring(St,ae).replace(le,pt)),ri(ae+1+Jt+_t),jt=Q.indexOf(O,St),ae=Q.indexOf(pt,St),Ct&&(mn(),G))return Ke();if(H&&Ht.length>=H)return Ke(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ht.length,index:St}),ae++}}else if(B&&qt.length===0&&Q.substring(St,St+Ft)===B){if($t===-1)return Ke();St=$t+_t,$t=Q.indexOf(V,St),jt=Q.indexOf(O,St)}else if(jt!==-1&&(jt<$t||$t===-1))qt.push(Q.substring(St,jt)),St=jt+lt,jt=Q.indexOf(O,St);else{if($t===-1)break;if(qt.push(Q.substring(St,$t)),ri($t+_t),Ct&&(mn(),G))return Ke();if(H&&Ht.length>=H)return Ke(!0)}return Rn();function re(zt){Ht.push(zt),ie=St}function dn(zt){var ue=0;return ue=zt!==-1&&(zt=Q.substring(ae+1,zt))&&zt.trim()===""?zt.length:ue}function Rn(zt){return st||(zt===void 0&&(zt=Q.substring(St)),qt.push(zt),St=bt,re(qt),Ct&&mn()),Ke()}function ri(zt){St=zt,re(qt),qt=[],$t=Q.indexOf(V,St)}function Ke(zt){if(A.header&&!gt&&Ht.length&&!tt){var ue=Ht[0],ze=Object.create(null),_n=new Set(ue);let jr=!1;for(let ki=0;ki<ue.length;ki++){let Qn=ue[ki];if(ze[Qn=F(A.transformHeader)?A.transformHeader(Qn,ki):Qn]){let Mn,_i=ze[Qn];for(;Mn=Qn+"_"+_i,_i++,_n.has(Mn););_n.add(Mn),ue[ki]=Mn,ze[Qn]++,jr=!0,(It=It===null?{}:It)[Mn]=Qn}else ze[Qn]=1,ue[ki]=Qn;_n.add(Qn)}jr&&console.warn("Duplicate headers found and renamed."),tt=!0}return{data:Ht,errors:fe,meta:{delimiter:O,linebreak:V,aborted:G,truncated:!!zt,cursor:ie+(gt||0),renamedHeaders:It}}}function mn(){q(Ke()),Ht=[],fe=[]}},this.abort=function(){G=!0},this.getCharIndex=function(){return St}}function X(A){var O=A.data,V=d[O.workerId],B=!1;if(O.error)V.userError(O.error,O.file);else if(O.results&&O.results.data){var q={abort:function(){B=!0,Y(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ot,resume:ot};if(F(V.userStep)){for(var H=0;H<O.results.data.length&&(V.userStep({data:O.results.data[H],errors:O.results.errors,meta:O.results.meta},q),!B);H++);delete O.results}else F(V.userChunk)&&(V.userChunk(O.results,q,O.file),delete O.results)}O.finished&&!B&&Y(O.workerId,O.results)}function Y(A,O){var V=d[A];F(V.userComplete)&&V.userComplete(O),V.terminate(),delete d[A]}function ot(){throw new Error("Not implemented.")}function J(A){if(typeof A!="object"||A===null)return A;var O,V=Array.isArray(A)?[]:{};for(O in A)V[O]=J(A[O]);return V}function mt(A,O){return function(){A.apply(O,arguments)}}function F(A){return typeof A=="function"}return p.parse=function(A,O){var V=(O=O||{}).dynamicTyping||!1;if(F(V)&&(O.dynamicTypingFunction=V,V={}),O.dynamicTyping=V,O.transform=!!F(O.transform)&&O.transform,!O.worker||!p.WORKERS_SUPPORTED)return V=null,p.NODE_STREAM_INPUT,typeof A=="string"?(A=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(A),V=new(O.download?E:D)(O)):A.readable===!0&&F(A.read)&&F(A.on)?V=new N(O):(i.File&&A instanceof File||A instanceof Object)&&(V=new w(O)),V.stream(A);(V=(()=>{var B;return!!p.WORKERS_SUPPORTED&&(B=(()=>{var q=i.URL||i.webkitURL||null,H=e.toString();return p.BLOB_URL||(p.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(B=new i.Worker(B)).onmessage=X,B.id=m++,d[B.id]=B)})()).userStep=O.step,V.userChunk=O.chunk,V.userComplete=O.complete,V.userError=O.error,O.step=F(O.step),O.chunk=F(O.chunk),O.complete=F(O.complete),O.error=F(O.error),delete O.worker,V.postMessage({input:A,config:O,workerId:V.id})},p.unparse=function(A,O){var V=!1,B=!0,q=",",H=`\r
`,Mt='"',It=Mt+Mt,tt=!1,pt=null,dt=!1,St=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||p.BAD_DELIMITERS.filter(function(gt){return O.delimiter.indexOf(gt)!==-1}).length||(q=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(V=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(tt=O.skipEmptyLines),typeof O.newline=="string"&&(H=O.newline),typeof O.quoteChar=="string"&&(Mt=O.quoteChar),typeof O.header=="boolean"&&(B=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");pt=O.columns}O.escapeChar!==void 0&&(It=O.escapeChar+Mt),O.escapeFormulae instanceof RegExp?dt=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(dt=/^[=+\-@\t\r].*$/)}})(),new RegExp(z(Mt),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return G(null,A,tt);if(typeof A[0]=="object")return G(pt||Object.keys(A[0]),A,tt)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||pt),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),G(A.fields||[],A.data||[],tt);throw new Error("Unable to serialize unrecognized input");function G(gt,st,bt){var lt="",_t=(typeof gt=="string"&&(gt=JSON.parse(gt)),typeof st=="string"&&(st=JSON.parse(st)),Array.isArray(gt)&&0<gt.length),Ft=!Array.isArray(st[0]);if(_t&&B){for(var Ct=0;Ct<gt.length;Ct++)0<Ct&&(lt+=q),lt+=Q(gt[Ct],Ct);0<st.length&&(lt+=H)}for(var Ht=0;Ht<st.length;Ht++){var fe=(_t?gt:st[Ht]).length,qt=!1,ie=_t?Object.keys(st[Ht]).length===0:st[Ht].length===0;if(bt&&!_t&&(qt=bt==="greedy"?st[Ht].join("").trim()==="":st[Ht].length===1&&st[Ht][0].length===0),bt==="greedy"&&_t){for(var ve=[],de=0;de<fe;de++){var jt=Ft?gt[de]:de;ve.push(st[Ht][jt])}qt=ve.join("").trim()===""}if(!qt){for(var $t=0;$t<fe;$t++){0<$t&&!ie&&(lt+=q);var le=_t&&Ft?gt[$t]:$t;lt+=Q(st[Ht][le],$t)}Ht<st.length-1&&(!bt||0<fe&&!ie)&&(lt+=H)}}return lt}function Q(gt,st){var bt,lt;return gt==null?"":gt.constructor===Date?JSON.stringify(gt).slice(1,25):(lt=!1,dt&&typeof gt=="string"&&dt.test(gt)&&(gt="'"+gt,lt=!0),bt=gt.toString().replace(St,It),(lt=lt||V===!0||typeof V=="function"&&V(gt,st)||Array.isArray(V)&&V[st]||((_t,Ft)=>{for(var Ct=0;Ct<Ft.length;Ct++)if(-1<_t.indexOf(Ft[Ct]))return!0;return!1})(bt,p.BAD_DELIMITERS)||-1<bt.indexOf(q)||bt.charAt(0)===" "||bt.charAt(bt.length-1)===" ")?Mt+bt+Mt:bt)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!o&&!!i.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=K,p.ParserHandle=j,p.NetworkStreamer=E,p.FileStreamer=w,p.StringStreamer=D,p.ReadableStreamStreamer=N,i.jQuery&&((r=i.jQuery).fn.parse=function(A){var O=A.config||{},V=[];return this.each(function(H){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var Mt=0;Mt<this.files.length;Mt++)V.push({file:this.files[Mt],inputElem:this,instanceConfig:r.extend({},O)})}),B(),this;function B(){if(V.length===0)F(A.complete)&&A.complete();else{var H,Mt,It,tt,pt=V[0];if(F(A.before)){var dt=A.before(pt.file,pt.inputElem);if(typeof dt=="object"){if(dt.action==="abort")return H="AbortError",Mt=pt.file,It=pt.inputElem,tt=dt.reason,void(F(A.error)&&A.error({name:H},Mt,It,tt));if(dt.action==="skip")return void q();typeof dt.config=="object"&&(pt.instanceConfig=r.extend(pt.instanceConfig,dt.config))}else if(dt==="skip")return void q()}var St=pt.instanceConfig.complete;pt.instanceConfig.complete=function(G){F(St)&&St(G,pt.file,pt.inputElem),q()},p.parse(pt.file,pt.instanceConfig)}}function q(){V.splice(0,1),B()}}),c&&(i.onmessage=function(A){A=A.data,p.WORKER_ID===void 0&&A&&(p.WORKER_ID=A.workerId),typeof A.input=="string"?i.postMessage({workerId:p.WORKER_ID,results:p.parse(A.input,A.config),finished:!0}):(i.File&&A.input instanceof File||A.input instanceof Object)&&(A=p.parse(A.input,A.config))&&i.postMessage({workerId:p.WORKER_ID,results:A,finished:!0})}),(E.prototype=Object.create(v.prototype)).constructor=E,(w.prototype=Object.create(v.prototype)).constructor=w,(D.prototype=Object.create(D.prototype)).constructor=D,(N.prototype=Object.create(v.prototype)).constructor=N,p})})(Id)),Id.exports}var cV=uV();const hV=zh(cV),fV=()=>{const[n,t]=I.useState([]),[e,i]=I.useState(1),[r]=I.useState(5),[o,c]=I.useState({namaAset:"",lokasi:"",jenisAset:"",tahunPerolehan:""}),[d,m]=I.useState([]),[p,v]=I.useState(!1),[E,w]=I.useState(null),[D,N]=I.useState(!1),[j,z]=I.useState(null),[K,X]=I.useState(!1),[Y,ot]=I.useState(null),[J,mt]=I.useState(!1),[F,A]=I.useState({show:!1,variant:"",message:""}),O=async()=>{const _t=(await Vl(zo(ir,"asets"))).docs.map(Ft=>({id:Ft.id,...Ft.data()}));t(_t)};I.useEffect(()=>{O()},[]);const V=(lt,_t)=>{c({...o,[_t]:lt.target.value})},B=n.filter(lt=>Object.keys(o).every(_t=>{const Ft=o[_t].toLowerCase();return(lt[_t]?lt[_t].toString().toLowerCase():"").includes(Ft)})),q=lt=>{m(_t=>_t.includes(lt)?_t.filter(Ft=>Ft!==lt):[..._t,lt])},H=lt=>{lt.target.checked?m(B.map(_t=>_t.id)):m([])},Mt=()=>{const lt=n.filter(Ht=>d.includes(Ht.id)).map(({id:Ht,fotoAset:fe,...qt})=>qt);if(lt.length===0){A({show:!0,variant:"warning",message:"Tidak ada data terpilih untuk diekspor."});return}const _t=hV.unparse(lt),Ft=new Blob([_t],{type:"text/csv;charset=utf-8;"}),Ct=document.createElement("a");Ct.href=URL.createObjectURL(Ft),Ct.setAttribute("download","aset_data.csv"),document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct)},It=async()=>{const lt=qS(ir);d.forEach(_t=>{const Ft=Nl(ir,"asets",_t);lt.delete(Ft)});try{await lt.commit(),mt(!1),A({show:!0,variant:"success",message:`${d.length} aset berhasil dihapus!`}),m([]),O()}catch(_t){A({show:!0,variant:"danger",message:`Gagal melakukan hapus massal: ${_t.message}`})}},tt=lt=>{w(lt),v(!0)},pt=lt=>{z(lt),N(!0)},dt=lt=>{ot(lt),X(!0)},St=async()=>{if(Y)try{await UP(Nl(ir,"asets",Y.id)),X(!1),ot(null),A({show:!0,variant:"success",message:"Aset berhasil dihapus!"}),O()}catch(lt){A({show:!0,variant:"danger",message:`Gagal menghapus aset: ${lt.message}`})}},G=lt=>{N(!1),A({show:!0,variant:"success",message:lt}),O()},Q=e*r,gt=Q-r,st=B.slice(gt,Q),bt=lt=>i(lt);return R.jsxs(R.Fragment,{children:[R.jsxs(Ze,{children:[R.jsx(Ze.Header,{children:d.length>0?R.jsxs($_,{direction:"horizontal",gap:2,children:[R.jsx("div",{className:"me-auto",children:R.jsxs("b",{children:[d.length," item terpilih"]})}),R.jsxs(bn,{variant:"success",size:"sm",onClick:Mt,children:[R.jsx(JM,{className:"me-1"}),"Export CSV"]}),R.jsx("div",{className:"vr"}),R.jsxs(bn,{variant:"outline-danger",size:"sm",onClick:()=>mt(!0),children:[R.jsx(T1,{className:"me-1"}),"Hapus"]})]}):R.jsx("div",{children:"Manajemen Aset"})}),R.jsxs(Ze.Body,{children:[F.show&&R.jsx(Bo,{variant:F.variant,onClose:()=>A({...F,show:!1}),dismissible:!0,children:F.message}),R.jsxs(Hm,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[R.jsxs("thead",{children:[R.jsxs("tr",{children:[R.jsx("th",{style:{width:"5%"},children:R.jsx(Dt.Check,{type:"checkbox",onChange:H,checked:B.length>0&&d.length===B.length})}),R.jsx("th",{children:"Nama Aset"}),R.jsx("th",{children:"Lokasi"}),R.jsx("th",{children:"Jenis Aset"}),R.jsx("th",{children:"Tahun Perolehan"}),R.jsx("th",{style:{width:"15%"},children:"Aksi"})]}),R.jsxs("tr",{children:[R.jsx("th",{}),R.jsx("th",{children:R.jsx(Dt.Control,{size:"sm",type:"text",placeholder:"Cari Nama...",onChange:lt=>V(lt,"namaAset")})}),R.jsx("th",{children:R.jsx(Dt.Control,{size:"sm",type:"text",placeholder:"Cari Lokasi...",onChange:lt=>V(lt,"lokasi")})}),R.jsx("th",{children:R.jsx(Dt.Control,{size:"sm",type:"text",placeholder:"Cari Jenis...",onChange:lt=>V(lt,"jenisAset")})}),R.jsx("th",{children:R.jsx(Dt.Control,{size:"sm",type:"text",placeholder:"Cari Tahun...",onChange:lt=>V(lt,"tahunPerolehan")})}),R.jsx("th",{})]})]}),R.jsx("tbody",{children:st.map(lt=>R.jsxs("tr",{className:d.includes(lt.id)?"table-primary":"",children:[R.jsx("td",{children:R.jsx(Dt.Check,{type:"checkbox",onChange:()=>q(lt.id),checked:d.includes(lt.id)})}),R.jsx("td",{children:lt.namaAset}),R.jsx("td",{children:lt.lokasi}),R.jsx("td",{children:lt.jenisAset}),R.jsx("td",{children:lt.tahunPerolehan}),R.jsx("td",{children:R.jsxs($_,{direction:"horizontal",gap:2,children:[R.jsx(bn,{variant:"primary",size:"sm",onClick:()=>tt(lt),children:R.jsx(QM,{})}),R.jsx(bn,{variant:"warning",size:"sm",onClick:()=>pt(lt),children:R.jsx(YM,{})}),R.jsx(bn,{variant:"danger",size:"sm",onClick:()=>dt(lt),children:R.jsx(T1,{})})]})})]},lt.id))})]})]}),R.jsx(Ze.Footer,{className:"d-flex justify-content-end",children:R.jsx(tE,{children:[...Array(Math.ceil(B.length/r)).keys()].map(lt=>R.jsx(tE.Item,{active:lt+1===e,onClick:()=>bt(lt+1),children:lt+1},lt+1))})})]}),R.jsx(aV,{show:p,onHide:()=>v(!1),asset:E}),R.jsx(oV,{show:D,onHide:()=>N(!1),asset:j,onUpdateSuccess:G}),R.jsxs(Qe,{show:K,onHide:()=>X(!1),centered:!0,children:[R.jsx(Qe.Header,{closeButton:!0,children:R.jsx(Qe.Title,{children:"Konfirmasi Hapus"})}),R.jsxs(Qe.Body,{children:["Apakah Anda yakin ingin menghapus aset ",R.jsx("b",{children:Y?.namaAset}),"?"]}),R.jsxs(Qe.Footer,{children:[R.jsx(bn,{variant:"secondary",onClick:()=>X(!1),children:"Batal"}),R.jsx(bn,{variant:"danger",onClick:St,children:"Hapus"})]})]}),R.jsxs(Qe,{show:J,onHide:()=>mt(!1),centered:!0,children:[R.jsx(Qe.Header,{closeButton:!0,children:R.jsxs(Qe.Title,{children:[R.jsx(XM,{className:"text-danger me-2"}),"Konfirmasi Hapus Massal"]})}),R.jsxs(Qe.Body,{children:["Apakah Anda yakin ingin menghapus ",R.jsx("b",{children:d.length})," aset yang dipilih secara permanen? Tindakan ini tidak dapat diurungkan."]}),R.jsxs(Qe.Footer,{children:[R.jsx(bn,{variant:"secondary",onClick:()=>mt(!1),children:"Batal"}),R.jsx(bn,{variant:"danger",onClick:It,children:"Ya, Hapus Semua"})]})]})]})},dV=()=>{const[n,t]=I.useState([]),[e,i]=I.useState(!0),[r,o]=I.useState(null),[c,d]=I.useState({show:!1,variant:"",message:""}),m=async()=>{i(!0),o(null);try{const E=(await Vl(zo(Oh,"kartuInventaris"))).docs.map(z=>({id:z.id,...z.data()}));if(E.length===0){t([]),i(!1);return}const w=E.map(z=>z.assetId),D=await Vl(zo(ir,"asets")),N={};D.forEach(z=>{N[z.id]=z.data()});const j=E.map(z=>({...z,namaAset:N[z.assetId]?.namaAset||"Aset Tidak Ditemukan"}));t(j)}catch(v){o("Gagal memuat data kartu."),console.error(v)}finally{i(!1)}};I.useEffect(()=>{m()},[]);const p=async(v,E)=>{try{const w=E==="Enabled"?"Disabled":"Enabled",D=Nl(Oh,"kartuInventaris",v);await HS(D,{publishStatus:w}),d({show:!0,variant:"success",message:`Status kartu berhasil diubah menjadi ${w}!`}),m()}catch(w){d({show:!0,variant:"danger",message:`Gagal mengubah status kartu: ${w.message}`}),console.error(w)}};return e?R.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:R.jsx(Hl,{animation:"border"})}):r?R.jsx(Bo,{variant:"danger",children:r}):R.jsxs(Ze,{children:[R.jsx(Ze.Header,{children:R.jsx("h5",{children:"Manajemen Kartu Inventaris"})}),R.jsxs(Ze.Body,{children:[c.show&&R.jsx(Bo,{variant:c.variant,onClose:()=>d({...c,show:!1}),dismissible:!0,children:c.message}),R.jsxs(Hm,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"#"}),R.jsx("th",{children:"Nama Aset"}),R.jsx("th",{children:"Status Publikasi"}),R.jsx("th",{children:"Aksi"})]})}),R.jsx("tbody",{children:n.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:"4",className:"text-center",children:"Tidak ada kartu inventaris yang di-publish."})}):n.map((v,E)=>R.jsxs("tr",{children:[R.jsx("td",{children:E+1}),R.jsx("td",{children:v.namaAset}),R.jsx("td",{children:v.publishStatus}),R.jsx("td",{children:R.jsx(bn,{variant:v.publishStatus==="Enabled"?"danger":"success",size:"sm",onClick:()=>p(v.id,v.publishStatus),children:v.publishStatus==="Enabled"?R.jsxs(R.Fragment,{children:[R.jsx(nO,{})," Nonaktifkan"]}):R.jsxs(R.Fragment,{children:[R.jsx(qw,{})," Aktifkan"]})})})]},v.id))})]})]})]})},mV=()=>{const[n,t]=I.useState([]),[e,i]=I.useState([]),[r,o]=I.useState(!1),[c,d]=I.useState({show:!1,variant:"",message:""});I.useEffect(()=>{(async()=>{const D=(await Vl(zo(ir,"asets"))).docs.map(N=>({id:N.id,...N.data()}));t(D)})()},[]);const m=E=>{i(w=>w.includes(E)?w.filter(D=>D!==E):[...w,E])},p=E=>{E.target.checked?i(n.map(w=>w.id)):i([])},v=async()=>{if(e.length===0){d({show:!0,variant:"warning",message:"Pilih setidaknya satu aset untuk di-publish."});return}o(!0),d({show:!1,variant:"",message:""});try{const E=qS(Oh);e.forEach(w=>{const D=Nl(Oh,"kartuInventaris",w);E.set(D,{assetId:w,publishStatus:"Enabled"})}),await E.commit(),d({show:!0,variant:"success",message:`${e.length} aset berhasil di-publish ke peta!`}),i([])}catch(E){console.error("Publishing error: ",E),d({show:!0,variant:"danger",message:`Terjadi kesalahan: ${E.message}`})}finally{o(!1)}};return R.jsxs(R.Fragment,{children:[c.show&&R.jsx(Bo,{variant:c.variant,onClose:()=>d({...c,show:!1}),dismissible:!0,children:c.message}),R.jsx(Fm,{children:R.jsx(Yu,{md:12,children:R.jsxs(Ze,{children:[R.jsxs(Ze.Header,{className:"d-flex justify-content-between align-items-center",children:[R.jsx("h5",{children:"Pilih Aset untuk di-Publish ke Peta Publik"}),R.jsx(bn,{variant:"primary",disabled:r||e.length===0,onClick:v,children:r?R.jsxs(R.Fragment,{children:[R.jsx(Hl,{size:"sm",as:"span",animation:"border",role:"status","aria-hidden":"true"})," Publishing..."]}):`Publish (${e.length}) Aset`})]}),R.jsx(Ze.Body,{children:R.jsxs(Hm,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:R.jsx(Dt.Check,{type:"checkbox",onChange:p,checked:n.length>0&&e.length===n.length})}),R.jsx("th",{children:"Nama Aset"}),R.jsx("th",{children:"Lokasi"}),R.jsx("th",{children:"Tahun Perolehan"})]})}),R.jsx("tbody",{children:n.map(E=>R.jsxs("tr",{children:[R.jsx("td",{children:R.jsx(Dt.Check,{type:"checkbox",checked:e.includes(E.id),onChange:()=>m(E.id)})}),R.jsx("td",{children:E.namaAset}),R.jsx("td",{children:E.lokasi}),R.jsx("td",{children:E.tahunPerolehan})]},E.id))})]})})]})})})]})};function kA(n,t){const e=I.useRef(t);I.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const pV=1;function gV(n){return Object.freeze({__version:pV,map:n})}function _V(n,t){return Object.freeze({...n,...t})}const dv=I.createContext(null);function mv(){const n=I.use(dv);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function yV(n){function t(e,i){const{instance:r,context:o}=n(e).current;I.useImperativeHandle(i,()=>r);const{children:c}=e;return c==null?null:Vn.createElement(dv,{value:o},c)}return I.forwardRef(t)}function vV(n){function t(e,i){const[r,o]=I.useState(!1),{instance:c}=n(e,o).current;I.useImperativeHandle(i,()=>c),I.useEffect(function(){r&&c.update()},[c,r,e.children]);const d=c._contentNode;return d?Uw.createPortal(e.children,d):null}return I.forwardRef(t)}function bV(n){function t(e,i){const{instance:r}=n(e).current;return I.useImperativeHandle(i,()=>r),null}return I.forwardRef(t)}function IA(n,t){const e=I.useRef(void 0);I.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function pv(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function xV(n,t){return function(i,r){const o=mv(),c=n(pv(i,o),o);return kA(o.map,i.attribution),IA(c.current,i.eventHandlers),t(c.current,o,i,r),c}}var fh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var EV=fh.exports,mw;function wV(){return mw||(mw=1,(function(n,t){(function(e,i){i(t)})(EV,(function(e){var i="1.9.4";function r(l){var h,_,x,S;for(_=1,x=arguments.length;_<x;_++){S=arguments[_];for(h in S)l[h]=S[h]}return l}var o=Object.create||(function(){function l(){}return function(h){return l.prototype=h,new l}})();function c(l,h){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var x=_.call(arguments,2);return function(){return l.apply(h,x.length?x.concat(_.call(arguments)):arguments)}}var d=0;function m(l){return"_leaflet_id"in l||(l._leaflet_id=++d),l._leaflet_id}function p(l,h,_){var x,S,k,$;return $=function(){x=!1,S&&(k.apply(_,S),S=!1)},k=function(){x?S=arguments:(l.apply(_,arguments),setTimeout($,h),x=!0)},k}function v(l,h,_){var x=h[1],S=h[0],k=x-S;return l===x&&_?l:((l-S)%k+k)%k+S}function E(){return!1}function w(l,h){if(h===!1)return l;var _=Math.pow(10,h===void 0?6:h);return Math.round(l*_)/_}function D(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function N(l){return D(l).split(/\s+/)}function j(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var _ in h)l.options[_]=h[_];return l.options}function z(l,h,_){var x=[];for(var S in l)x.push(encodeURIComponent(_?S.toUpperCase():S)+"="+encodeURIComponent(l[S]));return(!h||h.indexOf("?")===-1?"?":"&")+x.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function X(l,h){return l.replace(K,function(_,x){var S=h[x];if(S===void 0)throw new Error("No value provided for variable "+_);return typeof S=="function"&&(S=S(h)),S})}var Y=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function ot(l,h){for(var _=0;_<l.length;_++)if(l[_]===h)return _;return-1}var J="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var F=0;function A(l){var h=+new Date,_=Math.max(0,16-(h-F));return F=h+_,window.setTimeout(l,_)}var O=window.requestAnimationFrame||mt("RequestAnimationFrame")||A,V=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function B(l,h,_){if(_&&O===A)l.call(h);else return O.call(window,c(l,h))}function q(l){l&&V.call(window,l)}var H={__proto__:null,extend:r,create:o,bind:c,get lastId(){return d},stamp:m,throttle:p,wrapNum:v,falseFn:E,formatNum:w,trim:D,splitWords:N,setOptions:j,getParamString:z,template:X,isArray:Y,indexOf:ot,emptyImageUrl:J,requestFn:O,cancelFn:V,requestAnimFrame:B,cancelAnimFrame:q};function Mt(){}Mt.extend=function(l){var h=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,x=o(_);x.constructor=h,h.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return l.statics&&r(h,l.statics),l.includes&&(It(l.includes),r.apply(null,[x].concat(l.includes))),r(x,l),delete x.statics,delete x.includes,x.options&&(x.options=_.options?o(_.options):{},r(x.options,l.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,$=x._initHooks.length;k<$;k++)x._initHooks[k].call(this)}},h},Mt.include=function(l){var h=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},Mt.mergeOptions=function(l){return r(this.prototype.options,l),this},Mt.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function It(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=Y(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var tt={on:function(l,h,_){if(typeof l=="object")for(var x in l)this._on(x,l[x],h);else{l=N(l);for(var S=0,k=l.length;S<k;S++)this._on(l[S],h,_)}return this},off:function(l,h,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var x in l)this._off(x,l[x],h);else{l=N(l);for(var S=arguments.length===1,k=0,$=l.length;k<$;k++)S?this._off(l[k]):this._off(l[k],h,_)}return this},_on:function(l,h,_,x){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,_)===!1){_===this&&(_=void 0);var S={fn:h,ctx:_};x&&(S.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(S)}},_off:function(l,h,_){var x,S,k;if(this._events&&(x=this._events[l],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,k=x.length;S<k;S++)x[S].fn=E;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var $=this._listens(l,h,_);if($!==!1){var nt=x[$];this._firingCount&&(nt.fn=E,this._events[l]=x=x.slice()),x.splice($,1)}}},fire:function(l,h,_){if(!this.listens(l,_))return this;var x=r({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[l];if(S){this._firingCount=this._firingCount+1||1;for(var k=0,$=S.length;k<$;k++){var nt=S[k],ft=nt.fn;nt.once&&this.off(l,ft,nt.ctx),ft.call(nt.ctx||this,x)}this._firingCount--}}return _&&this._propagateEvent(x),this},listens:function(l,h,_,x){typeof l!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(x=!!h,S=void 0,_=void 0);var k=this._events&&this._events[l];if(k&&k.length&&this._listens(l,S,_)!==!1)return!0;if(x){for(var $ in this._eventParents)if(this._eventParents[$].listens(l,h,_,x))return!0}return!1},_listens:function(l,h,_){if(!this._events)return!1;var x=this._events[l]||[];if(!h)return!!x.length;_===this&&(_=void 0);for(var S=0,k=x.length;S<k;S++)if(x[S].fn===h&&x[S].ctx===_)return S;return!1},once:function(l,h,_){if(typeof l=="object")for(var x in l)this._on(x,l[x],h,!0);else{l=N(l);for(var S=0,k=l.length;S<k;S++)this._on(l[S],h,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[m(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[m(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var pt=Mt.extend(tt);function dt(l,h,_){this.x=_?Math.round(l):l,this.y=_?Math.round(h):h}var St=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(l){return this.clone()._add(G(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(G(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new dt(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new dt(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=St(this.x),this.y=St(this.y),this},distanceTo:function(l){l=G(l);var h=l.x-this.x,_=l.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(l){return l=G(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=G(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function G(l,h,_){return l instanceof dt?l:Y(l)?new dt(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new dt(l.x,l.y):new dt(l,h,_)}function Q(l,h){if(l)for(var _=h?[l,h]:l,x=0,S=_.length;x<S;x++)this.extend(_[x])}Q.prototype={extend:function(l){var h,_;if(!l)return this;if(l instanceof dt||typeof l[0]=="number"||"x"in l)h=_=G(l);else if(l=gt(l),h=l.min,_=l.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,_;return typeof l[0]=="number"||l instanceof dt?l=G(l):l=gt(l),l instanceof Q?(h=l.min,_=l.max):h=_=l,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=gt(l);var h=this.min,_=this.max,x=l.min,S=l.max,k=S.x>=h.x&&x.x<=_.x,$=S.y>=h.y&&x.y<=_.y;return k&&$},overlaps:function(l){l=gt(l);var h=this.min,_=this.max,x=l.min,S=l.max,k=S.x>h.x&&x.x<_.x,$=S.y>h.y&&x.y<_.y;return k&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,_=this.max,x=Math.abs(h.x-_.x)*l,S=Math.abs(h.y-_.y)*l;return gt(G(h.x-x,h.y-S),G(_.x+x,_.y+S))},equals:function(l){return l?(l=gt(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function gt(l,h){return!l||l instanceof Q?l:new Q(l,h)}function st(l,h){if(l)for(var _=h?[l,h]:l,x=0,S=_.length;x<S;x++)this.extend(_[x])}st.prototype={extend:function(l){var h=this._southWest,_=this._northEast,x,S;if(l instanceof lt)x=l,S=l;else if(l instanceof st){if(x=l._southWest,S=l._northEast,!x||!S)return this}else return l?this.extend(_t(l)||bt(l)):this;return!h&&!_?(this._southWest=new lt(x.lat,x.lng),this._northEast=new lt(S.lat,S.lng)):(h.lat=Math.min(x.lat,h.lat),h.lng=Math.min(x.lng,h.lng),_.lat=Math.max(S.lat,_.lat),_.lng=Math.max(S.lng,_.lng)),this},pad:function(l){var h=this._southWest,_=this._northEast,x=Math.abs(h.lat-_.lat)*l,S=Math.abs(h.lng-_.lng)*l;return new st(new lt(h.lat-x,h.lng-S),new lt(_.lat+x,_.lng+S))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof lt||"lat"in l?l=_t(l):l=bt(l);var h=this._southWest,_=this._northEast,x,S;return l instanceof st?(x=l.getSouthWest(),S=l.getNorthEast()):x=S=l,x.lat>=h.lat&&S.lat<=_.lat&&x.lng>=h.lng&&S.lng<=_.lng},intersects:function(l){l=bt(l);var h=this._southWest,_=this._northEast,x=l.getSouthWest(),S=l.getNorthEast(),k=S.lat>=h.lat&&x.lat<=_.lat,$=S.lng>=h.lng&&x.lng<=_.lng;return k&&$},overlaps:function(l){l=bt(l);var h=this._southWest,_=this._northEast,x=l.getSouthWest(),S=l.getNorthEast(),k=S.lat>h.lat&&x.lat<_.lat,$=S.lng>h.lng&&x.lng<_.lng;return k&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=bt(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(l,h){return l instanceof st?l:new st(l,h)}function lt(l,h,_){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,_!==void 0&&(this.alt=+_)}lt.prototype={equals:function(l,h){if(!l)return!1;l=_t(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return Ct.distance(this,_t(l))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,_=h/Math.cos(Math.PI/180*this.lat);return bt([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function _t(l,h,_){return l instanceof lt?l:Y(l)&&typeof l[0]!="object"?l.length===3?new lt(l[0],l[1],l[2]):l.length===2?new lt(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new lt(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new lt(l,h,_)}var Ft={latLngToPoint:function(l,h){var _=this.projection.project(l),x=this.scale(h);return this.transformation._transform(_,x)},pointToLatLng:function(l,h){var _=this.scale(h),x=this.transformation.untransform(l,_);return this.projection.unproject(x)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(l),x=this.transformation.transform(h.min,_),S=this.transformation.transform(h.max,_);return new Q(x,S)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?v(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?v(l.lat,this.wrapLat,!0):l.lat,x=l.alt;return new lt(_,h,x)},wrapLatLngBounds:function(l){var h=l.getCenter(),_=this.wrapLatLng(h),x=h.lat-_.lat,S=h.lng-_.lng;if(x===0&&S===0)return l;var k=l.getSouthWest(),$=l.getNorthEast(),nt=new lt(k.lat-x,k.lng-S),ft=new lt($.lat-x,$.lng-S);return new st(nt,ft)}},Ct=r({},Ft,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var _=Math.PI/180,x=l.lat*_,S=h.lat*_,k=Math.sin((h.lat-l.lat)*_/2),$=Math.sin((h.lng-l.lng)*_/2),nt=k*k+Math.cos(x)*Math.cos(S)*$*$,ft=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*ft}}),Ht=6378137,fe={R:Ht,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,_=this.MAX_LATITUDE,x=Math.max(Math.min(_,l.lat),-_),S=Math.sin(x*h);return new dt(this.R*l.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(l){var h=180/Math.PI;return new lt((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:(function(){var l=Ht*Math.PI;return new Q([-l,-l],[l,l])})()};function qt(l,h,_,x){if(Y(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=_,this._d=x}qt.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new dt((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function ie(l,h,_,x){return new qt(l,h,_,x)}var ve=r({},Ct,{code:"EPSG:3857",projection:fe,transformation:(function(){var l=.5/(Math.PI*fe.R);return ie(l,.5,-l,.5)})()}),de=r({},ve,{code:"EPSG:900913"});function jt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function $t(l,h){var _="",x,S,k,$,nt,ft;for(x=0,k=l.length;x<k;x++){for(nt=l[x],S=0,$=nt.length;S<$;S++)ft=nt[S],_+=(S?"L":"M")+ft.x+" "+ft.y;_+=h?Lt.svg?"z":"x":""}return _||"M0 0"}var le=document.documentElement.style,ae="ActiveXObject"in window,Jt=ae&&!document.addEventListener,re="msLaunchUri"in navigator&&!("documentMode"in document),dn=jn("webkit"),Rn=jn("android"),ri=jn("android 2")||jn("android 3"),Ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=Rn&&jn("Google")&&Ke<537&&!("AudioNode"in window),zt=!!window.opera,ue=!re&&jn("chrome"),ze=jn("gecko")&&!dn&&!zt&&!ae,_n=!ue&&jn("safari"),jr=jn("phantom"),ki="OTransition"in le,Qn=navigator.platform.indexOf("Win")===0,Mn=ae&&"transition"in le,_i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ri,Ii="MozPerspective"in le,Pi=!window.L_DISABLE_3D&&(Mn||_i||Ii)&&!ki&&!jr,Li=typeof orientation<"u"||jn("mobile"),Ma=Li&&dn,qo=Li&&_i,Bs=!window.PointerEvent&&window.MSPointerEvent,Ur=!!(window.PointerEvent||Bs),en="ontouchstart"in window||!!window.TouchEvent,ql=!window.L_NO_TOUCH&&(en||Ur),or=Li&&zt,lr=Li&&ze,Go=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$o=(function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",E,h),window.removeEventListener("testPassiveEventSupport",E,h)}catch{}return l})(),js=(function(){return!!document.createElement("canvas").getContext})(),Zo=!!(document.createElementNS&&jt("svg").createSVGRect),ys=!!Zo&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),an=!Zo&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),On=navigator.platform.indexOf("Mac")===0,Us=navigator.platform.indexOf("Linux")===0;function jn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Lt={ie:ae,ielt9:Jt,edge:re,webkit:dn,android:Rn,android23:ri,androidStock:mn,opera:zt,chrome:ue,gecko:ze,safari:_n,phantom:jr,opera12:ki,win:Qn,ie3d:Mn,webkit3d:_i,gecko3d:Ii,any3d:Pi,mobile:Li,mobileWebkit:Ma,mobileWebkit3d:qo,msPointer:Bs,pointer:Ur,touch:ql,touchNative:en,mobileOpera:or,mobileGecko:lr,retina:Go,passiveEvents:$o,canvas:js,svg:Zo,vml:an,inlineSvg:ys,mac:On,linux:Us},Gl=Lt.msPointer?"MSPointerDown":"pointerdown",Ni=Lt.msPointer?"MSPointerMove":"pointermove",Fs=Lt.msPointer?"MSPointerUp":"pointerup",Fr=Lt.msPointer?"MSPointerCancel":"pointercancel",Vi={touchstart:Gl,touchmove:Ni,touchend:Fs,touchcancel:Fr},Ji={touchstart:Oa,touchmove:vi,touchend:vi,touchcancel:vi},yi={},Hs=!1;function on(l,h,_){return h==="touchstart"&&qr(),Ji[h]?(_=Ji[h].bind(this,_),l.addEventListener(Vi[h],_,!1),_):(console.warn("wrong event specified:",h),E)}function $l(l,h,_){if(!Vi[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(Vi[h],_,!1)}function Hr(l){yi[l.pointerId]=l}function vs(l){yi[l.pointerId]&&(yi[l.pointerId]=l)}function ts(l){delete yi[l.pointerId]}function qr(){Hs||(document.addEventListener(Gl,Hr,!0),document.addEventListener(Ni,vs,!0),document.addEventListener(Fs,ts,!0),document.addEventListener(Fr,ts,!0),Hs=!0)}function vi(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in yi)h.touches.push(yi[_]);h.changedTouches=[h],l(h)}}function Oa(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ye(h),vi(l,h)}function uc(l){var h={},_,x;for(x in l)_=l[x],h[x]=_&&_.bind?_.bind(l):_;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Gr=200;function $r(l,h){l.addEventListener("dblclick",h);var _=0,x;function S(k){if(k.detail!==1){x=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var $=ka(k);if(!($.some(function(ft){return ft instanceof HTMLLabelElement&&ft.attributes.for})&&!$.some(function(ft){return ft instanceof HTMLInputElement||ft instanceof HTMLSelectElement}))){var nt=Date.now();nt-_<=Gr?(x++,x===2&&h(uc(k))):x=1,_=nt}}}return l.addEventListener("click",S),{dblclick:h,simDblclick:S}}function zi(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var qs=ur(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bs=ur(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xs=bs==="webkitTransition"||bs==="OTransition"?bs+"End":"transitionend";function Zr(l){return typeof l=="string"?document.getElementById(l):l}function Es(l,h){var _=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(l,null);_=x?x[h]:null}return _==="auto"?null:_}function be(l,h,_){var x=document.createElement(l);return x.className=h||"",_&&_.appendChild(x),x}function we(l){var h=l.parentNode;h&&h.removeChild(l)}function Be(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function bi(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function Bi(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function ws(l,h){if(l.classList!==void 0)return l.classList.contains(h);var _=ln(l);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function Ot(l,h){if(l.classList!==void 0)for(var _=N(h),x=0,S=_.length;x<S;x++)l.classList.add(_[x]);else if(!ws(l,h)){var k=ln(l);Gs(l,(k?k+" ":"")+h)}}function ke(l,h){l.classList!==void 0?l.classList.remove(h):Gs(l,D((" "+ln(l)+" ").replace(" "+h+" "," ")))}function Gs(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function ln(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Un(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&Ko(l,h)}function Ko(l,h){var _=!1,x="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(x)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):l.style.filter+=" progid:"+x+"(opacity="+h+")"}function ur(l){for(var h=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in h)return l[_];return!1}function ai(l,h,_){var x=h||new dt(0,0);l.style[qs]=(Lt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(_?" scale("+_+")":"")}function We(l,h){l._leaflet_pos=h,Lt.any3d?ai(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function Ts(l){return l._leaflet_pos||new dt(0,0)}var Fn,xi,Kr;if("onselectstart"in document)Fn=function(){Kt(window,"selectstart",Ye)},xi=function(){Te(window,"selectstart",Ye)};else{var $s=ur(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fn=function(){if($s){var l=document.documentElement.style;Kr=l[$s],l[$s]="none"}},xi=function(){$s&&(document.documentElement.style[$s]=Kr,Kr=void 0)}}function cr(){Kt(window,"dragstart",Ye)}function Da(){Te(window,"dragstart",Ye)}var Wr,Ei;function Yr(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(hr(),Wr=l,Ei=l.style.outlineStyle,l.style.outlineStyle="none",Kt(window,"keydown",hr))}function hr(){Wr&&(Wr.style.outlineStyle=Ei,Wr=void 0,Ei=void 0,Te(window,"keydown",hr))}function Zs(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Dn(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var Zl={__proto__:null,TRANSFORM:qs,TRANSITION:bs,TRANSITION_END:xs,get:Zr,getStyle:Es,create:be,remove:we,empty:Be,toFront:bi,toBack:Bi,hasClass:ws,addClass:Ot,removeClass:ke,setClass:Gs,getClass:ln,setOpacity:Un,testProp:ur,setTransform:ai,setPosition:We,getPosition:Ts,get disableTextSelection(){return Fn},get enableTextSelection(){return xi},disableImageDrag:cr,enableImageDrag:Da,preventOutline:Yr,restoreOutline:hr,getSizedParentNode:Zs,getScale:Dn};function Kt(l,h,_,x){if(h&&typeof h=="object")for(var S in h)Ss(l,S,h[S],_);else{h=N(h);for(var k=0,$=h.length;k<$;k++)Ss(l,h[k],_,x)}return this}var Hn="_leaflet_events";function Te(l,h,_,x){if(arguments.length===1)qn(l),delete l[Hn];else if(h&&typeof h=="object")for(var S in h)oi(l,S,h[S],_);else if(h=N(h),arguments.length===2)qn(l,function(nt){return ot(h,nt)!==-1});else for(var k=0,$=h.length;k<$;k++)oi(l,h[k],_,x);return this}function qn(l,h){for(var _ in l[Hn]){var x=_.split(/\d/)[0];(!h||h(x))&&oi(l,x,null,null,_)}}var es={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ss(l,h,_,x){var S=h+m(_)+(x?"_"+m(x):"");if(l[Hn]&&l[Hn][S])return this;var k=function(nt){return _.call(x||l,nt||window.event)},$=k;!Lt.touchNative&&Lt.pointer&&h.indexOf("touch")===0?k=on(l,h,k):Lt.touch&&h==="dblclick"?k=$r(l,k):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(es[h]||h,k,Lt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(k=function(nt){nt=nt||window.event,Ks(l,nt)&&$(nt)},l.addEventListener(es[h],k,!1)):l.addEventListener(h,$,!1):l.attachEvent("on"+h,k),l[Hn]=l[Hn]||{},l[Hn][S]=k}function oi(l,h,_,x,S){S=S||h+m(_)+(x?"_"+m(x):"");var k=l[Hn]&&l[Hn][S];if(!k)return this;!Lt.touchNative&&Lt.pointer&&h.indexOf("touch")===0?$l(l,h,k):Lt.touch&&h==="dblclick"?zi(l,k):"removeEventListener"in l?l.removeEventListener(es[h]||h,k,!1):l.detachEvent("on"+h,k),l[Hn][S]=null}function Se(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function fr(l){return Ss(l,"wheel",Se),this}function dr(l){return Kt(l,"mousedown touchstart dblclick contextmenu",Se),l._leaflet_disable_click=!0,this}function Ye(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function wi(l){return Ye(l),Se(l),this}function ka(l){if(l.composedPath)return l.composedPath();for(var h=[],_=l.target;_;)h.push(_),_=_.parentNode;return h}function pn(l,h){if(!h)return new dt(l.clientX,l.clientY);var _=Dn(h),x=_.boundingClientRect;return new dt((l.clientX-x.left)/_.x-h.clientLeft,(l.clientY-x.top)/_.y-h.clientTop)}var Gn=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mr(l){return Lt.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Gn:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Ks(l,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var Xr={__proto__:null,on:Kt,off:Te,stopPropagation:Se,disableScrollPropagation:fr,disableClickPropagation:dr,preventDefault:Ye,stop:wi,getPropagationPath:ka,getMousePosition:pn,getWheelDelta:mr,isExternalTarget:Ks,addListener:Kt,removeListener:Te},Qr=pt.extend({run:function(l,h,_,x){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Ts(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var _=this._startPos.add(this._offset.multiplyBy(l));h&&_._round(),We(this._el,_),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),oe=pt.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=j(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(_t(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bs&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,xs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(_t(l),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=r({animate:_.animate},_.zoom),_.pan=r({animate:_.animate,duration:_.duration},_.pan));var x=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,_.zoom):this._tryAnimatedPan(l,_.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,_){var x=this.getZoomScale(h),S=this.getSize().divideBy(2),k=l instanceof dt?l:this.latLngToContainerPoint(l),$=k.subtract(S).multiplyBy(1-1/x),nt=this.containerPointToLatLng(S.add($));return this.setView(nt,h,{zoom:_})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():bt(l);var _=G(h.paddingTopLeft||h.padding||[0,0]),x=G(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(l,!1,_.add(x));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:l.getCenter(),zoom:S};var k=x.subtract(_).divideBy(2),$=this.project(l.getSouthWest(),S),nt=this.project(l.getNorthEast(),S),ft=this.unproject($.add(nt).divideBy(2).add(k),S);return{center:ft,zoom:S}},fitBounds:function(l,h){if(l=bt(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=G(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,_){if(_=_||{},_.animate===!1||!Lt.any3d)return this.setView(l,h,_);this._stop();var x=this.project(this.getCenter()),S=this.project(l),k=this.getSize(),$=this._zoom;l=_t(l),h=h===void 0?$:h;var nt=Math.max(k.x,k.y),ft=nt*this.getZoomScale($,h),wt=S.distanceTo(x)||1,Rt=1.42,Pt=Rt*Rt;function Bt(sn){var Os=sn?-1:1,Qs=sn?ft:nt,vr=ft*ft-nt*nt+Os*Pt*Pt*wt*wt,Js=2*Qs*Pt*wt,cl=vr/Js,au=Math.sqrt(cl*cl+1)-cl,hl=au<1e-9?-18:Math.log(au);return hl}function ee(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function Ge(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function un(sn){return ee(sn)/Ge(sn)}var Zn=Bt(0);function Ui(sn){return nt*(Ge(Zn)/Ge(Zn+Rt*sn))}function rf(sn){return nt*(Ge(Zn)*un(Zn+Rt*sn)-ee(Zn))/Pt}function af(sn){return 1-Math.pow(1-sn,1.5)}var ul=Date.now(),Wa=(Bt(1)-Zn)/Rt,of=_.duration?1e3*_.duration:1e3*Wa*.8;function Ya(){var sn=(Date.now()-ul)/of,Os=af(sn)*Wa;sn<=1?(this._flyToFrame=B(Ya,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(rf(Os)/wt)),$),this.getScaleZoom(nt/Ui(Os),$),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Ya.call(this),this},flyToBounds:function(l,h){var _=this._getBoundsCenterZoom(l,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(l){return l=bt(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var _=this.getCenter(),x=this._limitCenter(_,this._zoom,bt(l));return _.equals(x)||this.panTo(x,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var _=G(h.paddingTopLeft||h.padding||[0,0]),x=G(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),k=this.project(l),$=this.getPixelBounds(),nt=gt([$.min.add(_),$.max.subtract(x)]),ft=nt.getSize();if(!nt.contains(k)){this._enforcingBounds=!0;var wt=k.subtract(nt.getCenter()),Rt=nt.extend(k).getSize().subtract(ft);S.x+=wt.x<0?-Rt.x:Rt.x,S.y+=wt.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),x=h.divideBy(2).round(),S=_.divideBy(2).round(),k=x.subtract(S);return!k.x&&!k.y?this:(l.animate&&l.pan?this.panBy(k):(l.pan&&this._rawPanBy(k),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),_=c(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,l):navigator.geolocation.getCurrentPosition(h,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,_=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,_=l.coords.longitude,x=new lt(h,_),S=x.toBounds(l.coords.accuracy*2),k=this._locateOptions;if(k.setView){var $=this.getBoundsZoom(S);this.setView(x,k.maxZoom?Math.min($,k.maxZoom):$)}var nt={latlng:x,bounds:S,timestamp:l.timestamp};for(var ft in l.coords)typeof l.coords[ft]=="number"&&(nt[ft]=l.coords[ft]);this.fire("locationfound",nt)}},addHandler:function(l,h){if(!h)return this;var _=this[l]=new h(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)we(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),x=be("div",_,h||this._mapPane);return l&&(this._panes[l]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new st(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,_){l=bt(l),_=G(_||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),k=this.getMaxZoom(),$=l.getNorthWest(),nt=l.getSouthEast(),ft=this.getSize().subtract(_),wt=gt(this.project(nt,x),this.project($,x)).getSize(),Rt=Lt.any3d?this.options.zoomSnap:1,Pt=ft.x/wt.x,Bt=ft.y/wt.y,ee=h?Math.max(Pt,Bt):Math.min(Pt,Bt);return x=this.getScaleZoom(ee,x),Rt&&(x=Math.round(x/(Rt/100))*(Rt/100),x=h?Math.ceil(x/Rt)*Rt:Math.floor(x/Rt)*Rt),Math.max(S,Math.min(k,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var _=this._getTopLeftPoint(l,h);return new Q(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(l)/_.scale(h)},getScaleZoom:function(l,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var x=_.zoom(l*_.scale(h));return isNaN(x)?1/0:x},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(_t(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(G(l),h)},layerPointToLatLng:function(l){var h=G(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(_t(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(_t(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(bt(l))},distance:function(l,h){return this.options.crs.distance(_t(l),_t(h))},containerPointToLayerPoint:function(l){return G(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return G(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(G(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(l)))},mouseEventToContainerPoint:function(l){return pn(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=Zr(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(h,"scroll",this._onScroll,this),this._containerId=m(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,Ot(l,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Es(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),We(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(l.markerPane,"leaflet-zoom-hide"),Ot(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,_){We(this._mapPane,new dt(0,0));var x=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,_)._move(l,h)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,_,x){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),x?_&&_.pinch&&this.fire("zoom",_):((S||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){We(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[m(this._container)]=this;var h=l?Te:Kt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var _=[],x,S=h==="mouseout"||h==="mouseover",k=l.target||l.srcElement,$=!1;k;){if(x=this._targets[m(k)],x&&(h==="click"||h==="preclick")&&this._draggableMoved(x)){$=!0;break}if(x&&x.listens(h,!0)&&(S&&!Ks(k,l)||(_.push(x),S))||k===this._container)break;k=k.parentNode}return!_.length&&!$&&!S&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var _=l.type;_==="mousedown"&&Yr(h),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,_){if(l.type==="click"){var x=r({},l);x.type="preclick",this._fireDOMEvent(x,x.type,_)}var S=this._findEventTargets(l,h);if(_){for(var k=[],$=0;$<_.length;$++)_[$].listens(h,!0)&&k.push(_[$]);S=k.concat(S)}if(S.length){h==="contextmenu"&&Ye(l);var nt=S[0],ft={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var wt=nt.getLatLng&&(!nt._radius||nt._radius<=10);ft.containerPoint=wt?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(l),ft.layerPoint=this.containerPointToLayerPoint(ft.containerPoint),ft.latlng=wt?nt.getLatLng():this.layerPointToLatLng(ft.layerPoint)}for($=0;$<S.length;$++)if(S[$].fire(h,ft,!0),ft.originalEvent._stopped||S[$].options.bubblingMouseEvents===!1&&ot(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return Ts(this._mapPane)||new dt(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var _=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var _=this.getSize()._divideBy(2);return this.project(l,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,_){var x=this._getNewPixelOrigin(_,h);return this.project(l,h)._subtract(x)},_latLngBoundsToNewLayerBounds:function(l,h,_){var x=this._getNewPixelOrigin(_,h);return gt([this.project(l.getSouthWest(),h)._subtract(x),this.project(l.getNorthWest(),h)._subtract(x),this.project(l.getSouthEast(),h)._subtract(x),this.project(l.getNorthEast(),h)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,_){if(!_)return l;var x=this.project(l,h),S=this.getSize().divideBy(2),k=new Q(x.subtract(S),x.add(S)),$=this._getBoundsOffset(k,_,h);return Math.abs($.x)<=1&&Math.abs($.y)<=1?l:this.unproject(x.add($),h)},_limitOffset:function(l,h){if(!h)return l;var _=this.getPixelBounds(),x=new Q(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(x,h))},_getBoundsOffset:function(l,h,_){var x=gt(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),S=x.min.subtract(l.min),k=x.max.subtract(l.max),$=this._rebound(S.x,-k.x),nt=this._rebound(S.y,-k.y);return new dt($,nt)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),_=this.getMaxZoom(),x=Lt.any3d?this.options.zoomSnap:1;return x&&(l=Math.round(l/x)*x),Math.max(h,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var _=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var l=this._proxy=be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var _=qs,x=this._proxy.style[_];ai(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),x===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();ai(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(h),S=this._getCenterOffset(l)._divideBy(1-1/x);return _.animate!==!0&&!this.getSize().contains(S)?!1:(B(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,_,x){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function As(l,h){return new oe(l,h)}var kn=Mt.extend({options:{position:"topright"},initialize:function(l){j(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),_=this.getPosition(),x=l._controlCorners[_];return Ot(h,"leaflet-control"),_.indexOf("bottom")!==-1?x.insertBefore(h,x.firstChild):x.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(we(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),ns=function(l){return new kn(l)};oe.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",_=this._controlContainer=be("div",h+"control-container",this._container);function x(S,k){var $=h+S+" "+h+k;l[S+k]=be("div",$,_)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)we(this._controlCorners[l]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kl=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,_,x){return _<x?-1:x<_?1:0}},initialize:function(l,h,_){j(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in l)this._addLayer(l[x],x);for(x in h)this._addLayer(h[x],x,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return kn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(m(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=be("div",l),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),dr(h),fr(h);var x=this._section=be("section",l+"-list");_&&(this._map.on("click",this.collapse,this),Kt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=be("a",l+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Kt(S,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ye(k),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=be("div",l+"-base",x),this._separator=be("div",l+"-separator",x),this._overlaysList=be("div",l+"-overlays",x),h.appendChild(x)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&m(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(c(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Be(this._baseLayersList),Be(this._overlaysList),this._layerControlInputs=[];var l,h,_,x,S=0;for(_=0;_<this._layers.length;_++)x=this._layers[_],this._addItem(x),h=h||x.overlay,l=l||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(l=l&&S>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(m(l.target)),_=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(l,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=_,x.firstChild},_addItem:function(l){var h=document.createElement("label"),_=this._map.hasLayer(l.layer),x;l.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=_):x=this._createRadioElement("leaflet-base-layers_"+m(this),_),this._layerControlInputs.push(x),x.layerId=m(l.layer),Kt(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+l.name;var k=document.createElement("span");h.appendChild(k),k.appendChild(x),k.appendChild(S);var $=l.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,_,x=[],S=[];this._handlingClick=!0;for(var k=l.length-1;k>=0;k--)h=l[k],_=this._getLayer(h.layerId).layer,h.checked?x.push(_):h.checked||S.push(_);for(k=0;k<S.length;k++)this._map.hasLayer(S[k])&&this._map.removeLayer(S[k]);for(k=0;k<x.length;k++)this._map.hasLayer(x[k])||this._map.addLayer(x[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,_,x=this._map.getZoom(),S=l.length-1;S>=0;S--)h=l[S],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&x<_.options.minZoom||_.options.maxZoom!==void 0&&x>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Kt(l,"click",Ye),this.expand();var h=this;setTimeout(function(){Te(l,"click",Ye),h._preventClick=!1})}}),Wl=function(l,h,_){return new Kl(l,h,_)},Ws=kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",_=be("div",h+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,_,x,S){var k=be("a",_,x);return k.innerHTML=l,k.href="#",k.title=h,k.setAttribute("role","button"),k.setAttribute("aria-label",h),dr(k),Kt(k,"click",wi),Kt(k,"click",S,this),Kt(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";ke(this._zoomInButton,h),ke(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ot(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ot(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});oe.mergeOptions({zoomControl:!0}),oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ws,this.addControl(this.zoomControl))});var Ia=function(l){return new Ws(l)},Wo=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",_=be("div",h),x=this.options;return this._addScales(x,h+"-line",_),l.on(x.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,_){l.metric&&(this._mScale=be("div",h,_)),l.imperial&&(this._iScale=be("div",h,_))},_update:function(){var l=this._map,h=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/l)},_updateImperial:function(l){var h=l*3.2808399,_,x,S;h>5280?(_=h/5280,x=this._getRoundNum(_),this._updateScale(this._iScale,x+" mi",x/_)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(l,h,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),_=l/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),Yo=function(l){return new Wo(l)},Xo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Pa=kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?Xo+" ":"")+"Leaflet</a>"},initialize:function(l){j(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=be("div","leaflet-control-attribution"),dr(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});oe.mergeOptions({attributionControl:!0}),oe.addInitHook(function(){this.options.attributionControl&&new Pa().addTo(this)});var La=function(l){return new Pa(l)};kn.Layers=Kl,kn.Zoom=Ws,kn.Scale=Wo,kn.Attribution=Pa,ns.layers=Wl,ns.zoom=Ia,ns.scale=Yo,ns.attribution=La;var li=Mt.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(l,h){return l.addHandler(h,this),this};var Yl={Events:tt},Cs=Lt.touch?"touchstart mousedown":"mousedown",is=pt.extend({options:{clickTolerance:3},initialize:function(l,h,_,x){j(this,x),this._element=l,this._dragStartTarget=h||l,this._preventOutline=_},enable:function(){this._enabled||(Kt(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(is._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,Cs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!ws(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){is._dragging===this&&this.finishDrag();return}if(!(is._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(is._dragging=this,this._preventOutline&&Yr(this._element),cr(),Fn(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,_=Zs(this._element);this._startPoint=new dt(h.clientX,h.clientY),this._startPos=Ts(this._element),this._parentScale=Dn(_);var x=l.type==="mousedown";Kt(document,x?"mousemove":"touchmove",this._onMove,this),Kt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,_=new dt(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Ye(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),We(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),Da(),xi();var h=this._moved&&this._moving;this._moving=!1,is._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Qo(l,h,_){var x,S=[1,4,2,8],k,$,nt,ft,wt,Rt,Pt,Bt;for(k=0,Rt=l.length;k<Rt;k++)l[k]._code=ct(l[k],h);for(nt=0;nt<4;nt++){for(Pt=S[nt],x=[],k=0,Rt=l.length,$=Rt-1;k<Rt;$=k++)ft=l[k],wt=l[$],ft._code&Pt?wt._code&Pt||(Bt=it(wt,ft,Pt,h,_),Bt._code=ct(Bt,h),x.push(Bt)):(wt._code&Pt&&(Bt=it(wt,ft,Pt,h,_),Bt._code=ct(Bt,h),x.push(Bt)),x.push(ft));l=x}return l}function Jr(l,h){var _,x,S,k,$,nt,ft,wt,Rt;if(!l||l.length===0)throw new Error("latlngs not passed");pe(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Pt=_t([0,0]),Bt=bt(l),ee=Bt.getNorthWest().distanceTo(Bt.getSouthWest())*Bt.getNorthEast().distanceTo(Bt.getNorthWest());ee<1700&&(Pt=Na(l));var Ge=l.length,un=[];for(_=0;_<Ge;_++){var Zn=_t(l[_]);un.push(h.project(_t([Zn.lat-Pt.lat,Zn.lng-Pt.lng])))}for(nt=ft=wt=0,_=0,x=Ge-1;_<Ge;x=_++)S=un[_],k=un[x],$=S.y*k.x-k.y*S.x,ft+=(S.x+k.x)*$,wt+=(S.y+k.y)*$,nt+=$*3;nt===0?Rt=un[0]:Rt=[ft/nt,wt/nt];var Ui=h.unproject(G(Rt));return _t([Ui.lat+Pt.lat,Ui.lng+Pt.lng])}function Na(l){for(var h=0,_=0,x=0,S=0;S<l.length;S++){var k=_t(l[S]);h+=k.lat,_+=k.lng,x++}return _t([h/x,_/x])}var Va={__proto__:null,clipPolygon:Qo,polygonCenter:Jr,centroid:Na};function $n(l,h){if(!h||!l.length)return l.slice();var _=h*h;return l=T(l,_),l=pr(l,_),l}function za(l,h,_){return Math.sqrt(Wt(l,h,_,!0))}function Xl(l,h,_){return Wt(l,h,_)}function pr(l,h){var _=l.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(_);S[0]=S[_-1]=1,g(l,S,h,0,_-1);var k,$=[];for(k=0;k<_;k++)S[k]&&$.push(l[k]);return $}function g(l,h,_,x,S){var k=0,$,nt,ft;for(nt=x+1;nt<=S-1;nt++)ft=Wt(l[nt],l[x],l[S],!0),ft>k&&($=nt,k=ft);k>_&&(h[$]=1,g(l,h,_,x,$),g(l,h,_,$,S))}function T(l,h){for(var _=[l[0]],x=1,S=0,k=l.length;x<k;x++)At(l[x],l[S])>h&&(_.push(l[x]),S=x);return S<k-1&&_.push(l[k-1]),_}var C;function U(l,h,_,x,S){var k=x?C:ct(l,_),$=ct(h,_),nt,ft,wt;for(C=$;;){if(!(k|$))return[l,h];if(k&$)return!1;nt=k||$,ft=it(l,h,nt,_,S),wt=ct(ft,_),nt===k?(l=ft,k=wt):(h=ft,$=wt)}}function it(l,h,_,x,S){var k=h.x-l.x,$=h.y-l.y,nt=x.min,ft=x.max,wt,Rt;return _&8?(wt=l.x+k*(ft.y-l.y)/$,Rt=ft.y):_&4?(wt=l.x+k*(nt.y-l.y)/$,Rt=nt.y):_&2?(wt=ft.x,Rt=l.y+$*(ft.x-l.x)/k):_&1&&(wt=nt.x,Rt=l.y+$*(nt.x-l.x)/k),new dt(wt,Rt,S)}function ct(l,h){var _=0;return l.x<h.min.x?_|=1:l.x>h.max.x&&(_|=2),l.y<h.min.y?_|=4:l.y>h.max.y&&(_|=8),_}function At(l,h){var _=h.x-l.x,x=h.y-l.y;return _*_+x*x}function Wt(l,h,_,x){var S=h.x,k=h.y,$=_.x-S,nt=_.y-k,ft=$*$+nt*nt,wt;return ft>0&&(wt=((l.x-S)*$+(l.y-k)*nt)/ft,wt>1?(S=_.x,k=_.y):wt>0&&(S+=$*wt,k+=nt*wt)),$=l.x-S,nt=l.y-k,x?$*$+nt*nt:new dt(S,k)}function pe(l){return!Y(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Me(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pe(l)}function nn(l,h){var _,x,S,k,$,nt,ft,wt;if(!l||l.length===0)throw new Error("latlngs not passed");pe(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Rt=_t([0,0]),Pt=bt(l),Bt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Bt<1700&&(Rt=Na(l));var ee=l.length,Ge=[];for(_=0;_<ee;_++){var un=_t(l[_]);Ge.push(h.project(_t([un.lat-Rt.lat,un.lng-Rt.lng])))}for(_=0,x=0;_<ee-1;_++)x+=Ge[_].distanceTo(Ge[_+1])/2;if(x===0)wt=Ge[0];else for(_=0,k=0;_<ee-1;_++)if($=Ge[_],nt=Ge[_+1],S=$.distanceTo(nt),k+=S,k>x){ft=(k-x)/S,wt=[nt.x-ft*(nt.x-$.x),nt.y-ft*(nt.y-$.y)];break}var Zn=h.unproject(G(wt));return _t([Zn.lat+Rt.lat,Zn.lng+Rt.lng])}var Ti={__proto__:null,simplify:$n,pointToSegmentDistance:za,closestPointOnSegment:Xl,clipSegment:U,_getEdgeIntersection:it,_getBitCode:ct,_sqClosestPointOnSegment:Wt,isFlat:pe,_flat:Me,polylineCenter:nn},ji={project:function(l){return new dt(l.lng,l.lat)},unproject:function(l){return new lt(l.y,l.x)},bounds:new Q([-180,-90],[180,90])},Si={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,_=this.R,x=l.lat*h,S=this.R_MINOR/_,k=Math.sqrt(1-S*S),$=k*Math.sin(x),nt=Math.tan(Math.PI/4-x/2)/Math.pow((1-$)/(1+$),k/2);return x=-_*Math.log(Math.max(nt,1e-10)),new dt(l.lng*h*_,x)},unproject:function(l){for(var h=180/Math.PI,_=this.R,x=this.R_MINOR/_,S=Math.sqrt(1-x*x),k=Math.exp(-l.y/_),$=Math.PI/2-2*Math.atan(k),nt=0,ft=.1,wt;nt<15&&Math.abs(ft)>1e-7;nt++)wt=S*Math.sin($),wt=Math.pow((1-wt)/(1+wt),S/2),ft=Math.PI/2-2*Math.atan(k*wt)-$,$+=ft;return new lt($*h,l.x*h/_)}},ss={__proto__:null,LonLat:ji,Mercator:Si,SphericalMercator:fe},rs=r({},Ct,{code:"EPSG:3395",projection:Si,transformation:(function(){var l=.5/(Math.PI*Si.R);return ie(l,.5,-l,.5)})()}),Ba=r({},Ct,{code:"EPSG:4326",projection:ji,transformation:ie(1/180,1,-1/180,.5)}),Ym=r({},Ft,{projection:ji,transformation:ie(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var _=h.lng-l.lng,x=h.lat-l.lat;return Math.sqrt(_*_+x*x)},infinite:!0});Ft.Earth=Ct,Ft.EPSG3395=rs,Ft.EPSG3857=ve,Ft.EPSG900913=de,Ft.EPSG4326=Ba,Ft.Simple=Ym;var as=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[m(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[m(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});oe.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=m(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=m(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return m(l)in this._layers},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},_addLayers:function(l){l=l?Y(l)?l:[l]:[];for(var h=0,_=l.length;h<_;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[m(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=m(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,_=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;l=S.minZoom===void 0?l:Math.min(l,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ta=as.extend({initialize:function(l,h){j(this,h),this._layers={};var _,x;if(l)for(_=0,x=l.length;_<x;_++)this.addLayer(l[_])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),_,x;for(_ in this._layers)x=this._layers[_],x[l]&&x[l].apply(x,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return m(l)}}),Xh=function(l,h){return new ta(l,h)},Ai=ta.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),ta.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),ta.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new st;for(var h in this._layers){var _=this._layers[h];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),Jo=function(l,h){return new Ai(l,h)},ja=Mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){j(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(x,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(l,h){var _=this.options,x=_[h+"Size"];typeof x=="number"&&(x=[x,x]);var S=G(x),k=G(h==="shadow"&&_.shadowAnchor||_.iconAnchor||S&&S.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(_.className||""),k&&(l.style.marginLeft=-k.x+"px",l.style.marginTop=-k.y+"px"),S&&(l.style.width=S.x+"px",l.style.height=S.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Lt.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Ql(l){return new ja(l)}var Ua=ja.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Ua.imagePath!="string"&&(Ua.imagePath=this._detectIconPath()),(this.options.imagePath||Ua.imagePath)+ja.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(_,x,S){var k=x.exec(_);return k&&k[S]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=be("div","leaflet-default-icon-path",document.body),h=Es(l,"background-image")||Es(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),cc=li.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new is(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,_=h._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,k=Ts(h._icon),$=_.getPixelBounds(),nt=_.getPixelOrigin(),ft=gt($.min._subtract(nt).add(S),$.max._subtract(nt).subtract(S));if(!ft.contains(k)){var wt=G((Math.max(ft.max.x,k.x)-ft.max.x)/($.max.x-ft.max.x)-(Math.min(ft.min.x,k.x)-ft.min.x)/($.min.x-ft.min.x),(Math.max(ft.max.y,k.y)-ft.max.y)/($.max.y-ft.max.y)-(Math.min(ft.min.y,k.y)-ft.min.y)/($.min.y-ft.min.y)).multiplyBy(x);_.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),We(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=B(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,_=h._shadow,x=Ts(h._icon),S=h._map.layerPointToLatLng(x);_&&We(_,x),h._latlng=S,l.latlng=S,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Fa=as.extend({options:{icon:new Ua,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){j(this,h),this._latlng=_t(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=_t(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),x=!1;_!==this._icon&&(this._icon&&this._removeIcon(),x=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Ot(_,h),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(_,"focus",this._panOnFocus,this);var S=l.icon.createShadow(this._shadow),k=!1;S!==this._shadow&&(this._removeShadow(),k=!0),S&&(Ot(S,h),S.alt=""),this._shadow=S,l.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&k&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&We(this._icon,l),this._shadow&&We(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Un(this._icon,l),this._shadow&&Un(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,_=h.iconSize?G(h.iconSize):G(0,0),x=h.iconAnchor?G(h.iconAnchor):G(0,0);l.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:_.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hc(l,h){return new Fa(l,h)}var Ys=as.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return j(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tl=Ys.extend({options:{fill:!0,radius:10},initialize:function(l,h){j(this,h),this._latlng=_t(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=_t(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return Ys.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,_=this._clickTolerance(),x=[l+_,h+_];this._pxBounds=new Q(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qh(l,h){return new tl(l,h)}var fc=tl.extend({initialize:function(l,h,_){if(typeof h=="number"&&(h=r({},_,{radius:h})),j(this,h),this._latlng=_t(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new st(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ys.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,_=this._map,x=_.options.crs;if(x.distance===Ct.distance){var S=Math.PI/180,k=this._mRadius/Ct.R/S,$=_.project([h+k,l]),nt=_.project([h-k,l]),ft=$.add(nt).divideBy(2),wt=_.unproject(ft).lat,Rt=Math.acos((Math.cos(k*S)-Math.sin(h*S)*Math.sin(wt*S))/(Math.cos(h*S)*Math.cos(wt*S)))/S;(isNaN(Rt)||Rt===0)&&(Rt=k/Math.cos(Math.PI/180*h)),this._point=ft.subtract(_.getPixelOrigin()),this._radius=isNaN(Rt)?0:ft.x-_.project([wt,l-Rt]).x,this._radiusY=ft.y-$.y}else{var Pt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Pt).x}this._updateBounds()}});function Xm(l,h,_){return new fc(l,h,_)}var Xs=Ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){j(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,_=null,x=Wt,S,k,$=0,nt=this._parts.length;$<nt;$++)for(var ft=this._parts[$],wt=1,Rt=ft.length;wt<Rt;wt++){S=ft[wt-1],k=ft[wt];var Pt=x(l,S,k,!0);Pt<h&&(h=Pt,_=x(l,S,k))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=_t(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new st,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return pe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],_=pe(l),x=0,S=l.length;x<S;x++)_?(h[x]=_t(l[x]),this._bounds.extend(h[x])):h[x]=this._convertLatLngs(l[x]);return h},_project:function(){var l=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new dt(l,l);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,_){var x=l[0]instanceof lt,S=l.length,k,$;if(x){for($=[],k=0;k<S;k++)$[k]=this._map.latLngToLayerPoint(l[k]),_.extend($[k]);h.push($)}else for(k=0;k<S;k++)this._projectLatlngs(l[k],h,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,x,S,k,$,nt,ft;for(_=0,S=0,k=this._rings.length;_<k;_++)for(ft=this._rings[_],x=0,$=ft.length;x<$-1;x++)nt=U(ft[x],ft[x+1],l,x,!0),nt&&(h[S]=h[S]||[],h[S].push(nt[0]),(nt[1]!==ft[x+1]||x===$-2)&&(h[S].push(nt[1]),S++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,_=0,x=l.length;_<x;_++)l[_]=$n(l[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var _,x,S,k,$,nt,ft=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,k=this._parts.length;_<k;_++)for(nt=this._parts[_],x=0,$=nt.length,S=$-1;x<$;S=x++)if(!(!h&&x===0)&&za(l,nt[S],nt[x])<=ft)return!0;return!1}});function Qm(l,h){return new Xs(l,h)}Xs._flat=Me;var Ha=Xs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=Xs.prototype._convertLatLngs.call(this,l),_=h.length;return _>=2&&h[0]instanceof lt&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(l){Xs.prototype._setLatLngs.call(this,l),pe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,_=new dt(h,h);if(l=new Q(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,k;x<S;x++)k=Qo(this._rings[x],l,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,_,x,S,k,$,nt,ft,wt;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(k=0,ft=this._parts.length;k<ft;k++)for(_=this._parts[k],$=0,wt=_.length,nt=wt-1;$<wt;nt=$++)x=_[$],S=_[nt],x.y>l.y!=S.y>l.y&&l.x<(S.x-x.x)*(l.y-x.y)/(S.y-x.y)+x.x&&(h=!h);return h||Xs.prototype._containsPoint.call(this,l,!0)}});function Ci(l,h){return new Ha(l,h)}var Ri=Ai.extend({initialize:function(l,h){j(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=Y(l)?l:l.features,_,x,S;if(h){for(_=0,x=h.length;_<x;_++)S=h[_],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var k=this.options;if(k.filter&&!k.filter(l))return this;var $=el(l,k);return $?($.feature=qa(l),$.defaultOptions=$.options,this.resetStyle($),k.onEachFeature&&k.onEachFeature(l,$),this.addLayer($)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function el(l,h){var _=l.type==="Feature"?l.geometry:l,x=_?_.coordinates:null,S=[],k=h&&h.pointToLayer,$=h&&h.coordsToLatLng||Jl,nt,ft,wt,Rt;if(!x&&!_)return null;switch(_.type){case"Point":return nt=$(x),dc(k,l,nt,h);case"MultiPoint":for(wt=0,Rt=x.length;wt<Rt;wt++)nt=$(x[wt]),S.push(dc(k,l,nt,h));return new Ai(S);case"LineString":case"MultiLineString":return ft=nl(x,_.type==="LineString"?0:1,$),new Xs(ft,h);case"Polygon":case"MultiPolygon":return ft=nl(x,_.type==="Polygon"?1:2,$),new Ha(ft,h);case"GeometryCollection":for(wt=0,Rt=_.geometries.length;wt<Rt;wt++){var Pt=el({geometry:_.geometries[wt],type:"Feature",properties:l.properties},h);Pt&&S.push(Pt)}return new Ai(S);case"FeatureCollection":for(wt=0,Rt=_.features.length;wt<Rt;wt++){var Bt=el(_.features[wt],h);Bt&&S.push(Bt)}return new Ai(S);default:throw new Error("Invalid GeoJSON object.")}}function dc(l,h,_,x){return l?l(h,_):new Fa(_,x&&x.markersInheritOptions&&x)}function Jl(l){return new lt(l[1],l[0],l[2])}function nl(l,h,_){for(var x=[],S=0,k=l.length,$;S<k;S++)$=h?nl(l[S],h-1,_):(_||Jl)(l[S]),x.push($);return x}function il(l,h){return l=_t(l),l.alt!==void 0?[w(l.lng,h),w(l.lat,h),w(l.alt,h)]:[w(l.lng,h),w(l.lat,h)]}function tu(l,h,_,x){for(var S=[],k=0,$=l.length;k<$;k++)S.push(h?tu(l[k],pe(l[k])?0:h-1,_,x):il(l[k],x));return!h&&_&&S.length>0&&S.push(S[0].slice()),S}function os(l,h){return l.feature?r({},l.feature,{geometry:h}):qa(h)}function qa(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var ea={toGeoJSON:function(l){return os(this,{type:"Point",coordinates:il(this.getLatLng(),l)})}};Fa.include(ea),fc.include(ea),tl.include(ea),Xs.include({toGeoJSON:function(l){var h=!pe(this._latlngs),_=tu(this._latlngs,h?1:0,!1,l);return os(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ha.include({toGeoJSON:function(l){var h=!pe(this._latlngs),_=h&&!pe(this._latlngs[0]),x=tu(this._latlngs,_?2:h?1:0,!0,l);return h||(x=[x]),os(this,{type:(_?"Multi":"")+"Polygon",coordinates:x})}}),ta.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(l).geometry.coordinates)}),os(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var _=h==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var k=S.toGeoJSON(l);if(_)x.push(k.geometry);else{var $=qa(k);$.type==="FeatureCollection"?x.push.apply(x,$.features):x.push($)}}}),_?os(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function eu(l,h){return new Ri(l,h)}var Jh=eu,Rs=as.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,_){this._url=l,this._bounds=bt(h),j(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&Bi(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=bt(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:be("img");if(Ot(h,"leaflet-image-layer"),this._zoomAnimated&&Ot(h,"leaflet-zoom-animated"),this.options.className&&Ot(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ai(this._image,_,h)},_reset:function(){var l=this._image,h=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();We(l,h.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){Un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Ga=function(l,h,_){return new Rs(l,h,_)},nu=Rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:be("video");if(Ot(h,"leaflet-image-layer"),this._zoomAnimated&&Ot(h,"leaflet-zoom-animated"),this.options.className&&Ot(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onloadeddata=c(this.fire,this,"load"),l){for(var _=h.getElementsByTagName("source"),x=[],S=0;S<_.length;S++)x.push(_[S].src);this._url=_.length>0?x:[h.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var $=be("source");$.src=this._url[k],h.appendChild($)}}});function tf(l,h,_){return new nu(l,h,_)}var gr=Rs.extend({_initImage:function(){var l=this._image=this._url;Ot(l,"leaflet-image-layer"),this._zoomAnimated&&Ot(l,"leaflet-zoom-animated"),this.options.className&&Ot(l,this.options.className),l.onselectstart=E,l.onmousemove=E}});function ef(l,h,_){return new gr(l,h,_)}var ls=as.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof lt||Y(l))?(this._latlng=_t(l),j(this,h)):(j(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Un(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Un(this._container,0),this._removeTimeout=setTimeout(c(we,void 0,this._container),200)):we(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=_t(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&Bi(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof Ai){h=null;var _=this._source._layers;for(var x in _)if(_[x]._map){h=_[x];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=G(this.options.offset),_=this._getAnchor();this._zoomAnimated?We(this._container,l.add(_)):h=h.add(l).add(_);var x=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});oe.include({_initOverlay:function(l,h,_,x){var S=h;return S instanceof l||(S=new l(x).setContent(h)),_&&S.setLatLng(_),S}}),as.include({_initOverlay:function(l,h,_,x){var S=_;return S instanceof l?(j(S,x),S._source=this):(S=h&&!x?h:new l(x,this),S.setContent(_)),S}});var sl=ls.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,ls.prototype.openOn.call(this,l)},onAdd:function(l){ls.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ys||this._source.on("preclick",Se))},onRemove:function(l){ls.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ys||this._source.off("preclick",Se))},getEvents:function(){var l=ls.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=be("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=be("div",l+"-content-wrapper",h);if(this._contentNode=be("div",l+"-content",_),dr(h),fr(this._contentNode),Kt(h,"contextmenu",Se),this._tipContainer=be("div",l+"-tip-container",h),this._tip=be("div",l+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=be("a",l+"-close-button",h);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(x,"click",function(S){Ye(S),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var x=l.offsetHeight,S=this.options.maxHeight,k="leaflet-popup-scrolled";S&&x>S?(h.height=S+"px",Ot(l,k)):ke(l,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();We(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(Es(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,x=this._containerWidth,S=new dt(this._containerLeft,-_-this._containerBottom);S._add(Ts(this._container));var k=l.layerPointToContainerPoint(S),$=G(this.options.autoPanPadding),nt=G(this.options.autoPanPaddingTopLeft||$),ft=G(this.options.autoPanPaddingBottomRight||$),wt=l.getSize(),Rt=0,Pt=0;k.x+x+ft.x>wt.x&&(Rt=k.x+x-wt.x+ft.x),k.x-Rt-nt.x<0&&(Rt=k.x-nt.x),k.y+_+ft.y>wt.y&&(Pt=k.y+_-wt.y+ft.y),k.y-Pt-nt.y<0&&(Pt=k.y-nt.y),(Rt||Pt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([Rt,Pt]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jm=function(l,h){return new sl(l,h)};oe.mergeOptions({closePopupOnClick:!0}),oe.include({openPopup:function(l,h,_){return this._initOverlay(sl,l,h,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),as.include({bindPopup:function(l,h){return this._popup=this._initOverlay(sl,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Ai||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){wi(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof Ys)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var iu=ls.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){ls.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){ls.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=ls.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=be("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,_,x=this._map,S=this._container,k=x.latLngToContainerPoint(x.getCenter()),$=x.layerPointToContainerPoint(l),nt=this.options.direction,ft=S.offsetWidth,wt=S.offsetHeight,Rt=G(this.options.offset),Pt=this._getAnchor();nt==="top"?(h=ft/2,_=wt):nt==="bottom"?(h=ft/2,_=0):nt==="center"?(h=ft/2,_=wt/2):nt==="right"?(h=0,_=wt/2):nt==="left"?(h=ft,_=wt/2):$.x<k.x?(nt="right",h=0,_=wt/2):(nt="left",h=ft+(Rt.x+Pt.x)*2,_=wt/2),l=l.subtract(G(h,_,!0)).add(Rt).add(Pt),ke(S,"leaflet-tooltip-right"),ke(S,"leaflet-tooltip-left"),ke(S,"leaflet-tooltip-top"),ke(S,"leaflet-tooltip-bottom"),Ot(S,"leaflet-tooltip-"+nt),We(S,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Un(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tp=function(l,h){return new iu(l,h)};oe.include({openTooltip:function(l,h,_){return this._initOverlay(iu,l,h,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),as.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(iu,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Ai||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(Kt(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Kt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,_,x;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),x=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(h)}});var mc=ja.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(Be(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var x=G(_.bgPos);h.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function nf(l){return new mc(l)}ja.Default=Ua;var na=as.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){j(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),we(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof dt?l:new dt(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,_=-l(-1/0,1/0),x=0,S=h.length,k;x<S;x++)k=h[x].style.zIndex,h[x]!==this._container&&k&&(_=l(_,+k));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Un(this._container,this.options.opacity);var l=+new Date,h=!1,_=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var k=Math.min(1,(l-S.loaded)/200);Un(S.el,k),k<1?h=!0:(S.active?_=!0:this._onOpaqueTile(S),S.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=h-Math.abs(l-_),this._onUpdateLevel(_)):(we(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var x=this._levels[l],S=this._map;return x||(x=this._levels[l]={},x.el=be("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=h,x.origin=S.project(S.unproject(S.getPixelOrigin()),l).round(),x.zoom=l,this._setZoomTransform(x,S.getCenter(),S.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var l,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var x=h.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)we(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,_,x){var S=Math.floor(l/2),k=Math.floor(h/2),$=_-1,nt=new dt(+S,+k);nt.z=+$;var ft=this._tileCoordsToKey(nt),wt=this._tiles[ft];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),$>x?this._retainParent(S,k,$,x):!1)},_retainChildren:function(l,h,_,x){for(var S=2*l;S<2*l+2;S++)for(var k=2*h;k<2*h+2;k++){var $=new dt(S,k);$.z=_+1;var nt=this._tileCoordsToKey($),ft=this._tiles[nt];if(ft&&ft.active){ft.retain=!0;continue}else ft&&ft.loaded&&(ft.retain=!0);_+1<x&&this._retainChildren(S,k,_+1,x)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,_,x){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var k=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||k)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,h)},_setZoomTransform:function(l,h,_){var x=this._map.getZoomScale(_,l.zoom),S=l.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(h,_)).round();Lt.any3d?ai(l.el,S,x):We(l.el,S)},_resetGrid:function(){var l=this._map,h=l.options.crs,_=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],x).x/_.x),Math.ceil(l.project([0,h.wrapLng[1]],x).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],x).y/_.x),Math.ceil(l.project([h.wrapLat[1],0],x).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),x=h.getZoomScale(_,this._tileZoom),S=h.project(l,this._tileZoom).floor(),k=h.getSize().divideBy(x*2);return new Q(S.subtract(k),S.add(k))},_update:function(l){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(l),S=this._pxBoundsToTileRange(x),k=S.getCenter(),$=[],nt=this.options.keepBuffer,ft=new Q(S.getBottomLeft().subtract([nt,-nt]),S.getTopRight().add([nt,-nt]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Rt=this._tiles[wt].coords;(Rt.z!==this._tileZoom||!ft.contains(new dt(Rt.x,Rt.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Pt=S.min.y;Pt<=S.max.y;Pt++)for(var Bt=S.min.x;Bt<=S.max.x;Bt++){var ee=new dt(Bt,Pt);if(ee.z=this._tileZoom,!!this._isValidTile(ee)){var Ge=this._tiles[this._tileCoordsToKey(ee)];Ge?Ge.current=!0:$.push(ee)}}if($.sort(function(Zn,Ui){return Zn.distanceTo(k)-Ui.distanceTo(k)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var un=document.createDocumentFragment();for(Bt=0;Bt<$.length;Bt++)this._addTile($[Bt],un);this._level.el.appendChild(un)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!h.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(l);return bt(this.options.bounds).overlaps(x)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,_=this.getTileSize(),x=l.scaleBy(_),S=x.add(_),k=h.unproject(x,l.z),$=h.unproject(S,l.z);return[k,$]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),_=new st(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),_=new dt(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(l){var h=this._tiles[l];h&&(we(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ot(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=E,l.onmousemove=E,Lt.ielt9&&this.options.opacity<1&&Un(l,this.options.opacity)},_addTile:function(l,h){var _=this._getTilePos(l),x=this._tileCoordsToKey(l),S=this.createTile(this._wrapCoords(l),c(this._tileReady,this,l));this._initTile(S),this.createTile.length<2&&B(c(this._tileReady,this,l,null,S)),We(S,_),this._tiles[x]={el:S,coords:l,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:l})},_tileReady:function(l,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:l});var x=this._tileCoordsToKey(l);_=this._tiles[x],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Un(_.el,0),q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(Ot(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new dt(this._wrapX?v(l.x,this._wrapX):l.x,this._wrapY?v(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new Q(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function us(l){return new na(l)}var ia=na.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=j(this,h),h.detectRetina&&Lt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var _=document.createElement("img");return Kt(_,"load",c(this._tileOnLoad,this,h,_)),Kt(_,"error",c(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var h={r:Lt.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=_),h["-y"]=_}return X(this._url,r(h,this.options))},_tileOnLoad:function(l,h){Lt.ielt9?setTimeout(c(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,_){var x=this.options.errorTileUrl;x&&h.getAttribute("src")!==x&&(h.src=x),l(_,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,x=this.options.zoomOffset;return _&&(l=h-l),l+x},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=E,h.onerror=E,!h.complete)){h.src=J;var _=this._tiles[l].coords;we(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",J),na.prototype._removeTile.call(this,l)},_tileReady:function(l,h,_){if(!(!this._map||_&&_.getAttribute("src")===J))return na.prototype._tileReady.call(this,l,h,_)}});function Mi(l,h){return new ia(l,h)}var Oi=ia.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var _=r({},this.defaultWmsParams);for(var x in h)x in this.options||(_[x]=h[x]);h=j(this,h);var S=h.detectRetina&&Lt.retina?2:1,k=this.getTileSize();_.width=k.x*S,_.height=k.y*S,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,ia.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),_=this._crs,x=gt(_.project(h[0]),_.project(h[1])),S=x.min,k=x.max,$=(this._wmsVersion>=1.3&&this._crs===Ba?[S.y,S.x,k.y,k.x]:[S.x,S.y,k.x,k.y]).join(","),nt=ia.prototype.getTileUrl.call(this,l);return nt+z(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(l,h){return r(this.wmsParams,l),h||this.redraw(),this}});function $a(l,h){return new Oi(l,h)}ia.WMS=Oi,Mi.wms=$a;var cs=as.extend({options:{padding:.1},initialize:function(l){j(this,l),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var _=this._map.getZoomScale(h,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),k=x.multiplyBy(-_).add(S).subtract(this._map._getNewPixelOrigin(l,h));Lt.any3d?ai(this._container,k,_):We(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new Q(_,_.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rl=cs.extend({options:{tolerance:0},getEvents:function(){var l=cs.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Kt(l,"mousemove",this._onMouseMove,this),Kt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,we(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cs.prototype._update.call(this);var l=this._bounds,h=this._container,_=l.getSize(),x=Lt.retina?2:1;We(h,l.min),h.width=x*_.x,h.height=x*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){cs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[m(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,_=h.next,x=h.prev;_?_.prev=x:this._drawLast=x,x?x.next=_:this._drawFirst=_,delete l._order,delete this._layers[m(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),_=[],x,S;for(S=0;S<h.length;S++){if(x=Number(h[S]),isNaN(x))return;_.push(x)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)l=x.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var _,x,S,k,$=l._parts,nt=$.length,ft=this._ctx;if(nt){for(ft.beginPath(),_=0;_<nt;_++){for(x=0,S=$[_].length;x<S;x++)k=$[_][x],ft[x?"lineTo":"moveTo"](k.x,k.y);h&&ft.closePath()}this._fillStroke(ft,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,_=this._ctx,x=Math.max(Math.round(l._radius),1),S=(Math.max(Math.round(l._radiusY),1)||x)/x;S!==1&&(_.save(),_.scale(1,S)),_.beginPath(),_.arc(h.x,h.y/S,x,0,Math.PI*2,!1),S!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,h){var _=h.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),_,x,S=this._drawFirst;S;S=S.next)_=S.layer,_.options.interactive&&_._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(x=_);this._fireEvent(x?[x]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(ke(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var _,x,S=this._drawFirst;S;S=S.next)_=S.layer,_.options.interactive&&_._containsPoint(h)&&(x=_);x!==this._hoveredLayer&&(this._handleMouseOut(l),x&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([x],l,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,_){this._map._fireDOMEvent(h,_||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var _=h.next,x=h.prev;if(_)_.prev=x;else return;x?x.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var _=h.next,x=h.prev;if(x)x.next=_;else return;_?_.prev=x:x&&(this._drawLast=x),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function al(l){return Lt.canvas?new rl(l):null}var sa=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Za={_initContainer:function(){this._container=be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cs.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=sa("shape");Ot(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=sa("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;we(h),l.removeInteractiveTarget(h),delete this._layers[m(l)]},_updateStyle:function(l){var h=l._stroke,_=l._fill,x=l.options,S=l._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(h||(h=l._stroke=sa("stroke")),S.appendChild(h),h.weight=x.weight+"px",h.color=x.color,h.opacity=x.opacity,x.dashArray?h.dashStyle=Y(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=x.lineCap.replace("butt","flat"),h.joinstyle=x.lineJoin):h&&(S.removeChild(h),l._stroke=null),x.fill?(_||(_=l._fill=sa("fill")),S.appendChild(_),_.color=x.fillColor||x.color,_.opacity=x.fillOpacity):_&&(S.removeChild(_),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),_=Math.round(l._radius),x=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+x+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){bi(l._container)},_bringToBack:function(l){Bi(l._container)}},ol=Lt.vml?sa:jt,_r=cs.extend({_initContainer:function(){this._container=ol("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ol("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cs.prototype._update.call(this);var l=this._bounds,h=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),We(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=ol("path");l.options.className&&Ot(h,l.options.className),l.options.interactive&&Ot(h,"leaflet-interactive"),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){we(l._path),l.removeInteractiveTarget(l._path),delete this._layers[m(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,_=l.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,$t(l._parts,h))},_updateCircle:function(l){var h=l._point,_=Math.max(Math.round(l._radius),1),x=Math.max(Math.round(l._radiusY),1)||_,S="a"+_+","+x+" 0 1,0 ",k=l._empty()?"M0 0":"M"+(h.x-_)+","+h.y+S+_*2+",0 "+S+-_*2+",0 ";this._setPath(l,k)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){bi(l._path)},_bringToBack:function(l){Bi(l._path)}});Lt.vml&&_r.include(Za);function ra(l){return Lt.svg||Lt.vml?new _r(l):null}oe.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&al(l)||ra(l)}});var sf=Ha.extend({initialize:function(l,h){Ha.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=bt(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function Di(l,h){return new sf(l,h)}_r.create=ol,_r.pointsToPath=$t,Ri.geometryToLayer=el,Ri.coordsToLatLng=Jl,Ri.coordsToLatLngs=nl,Ri.latLngToCoords=il,Ri.latLngsToCoords=tu,Ri.getFeature=os,Ri.asFeature=qa,oe.mergeOptions({boxZoom:!0});var su=li.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fn(),cr(),this._startPoint=this._map.mouseEventToContainerPoint(l),Kt(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=be("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new Q(this._point,this._startPoint),_=h.getSize();We(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(we(this._box),ke(this._container,"leaflet-crosshair")),xi(),Da(),Te(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new st(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});oe.addInitHook("addHandler","boxZoom",su),oe.mergeOptions({doubleClickZoom:!0});var Ms=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,_=h.getZoom(),x=h.options.zoomDelta,S=l.originalEvent.shiftKey?_-x:_+x;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(l.containerPoint,S)}});oe.addInitHook("addHandler","doubleClickZoom",Ms),oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pc=li.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new is(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=bt(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),_=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-h+_)%l+h-_,k=(x+h+_)%l-h-_,$=Math.abs(S+_)<Math.abs(k+_)?S:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(l){var h=this._map,_=h.options,x=!_.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),x)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,$=_.easeLinearity,nt=S.multiplyBy($/k),ft=nt.distanceTo([0,0]),wt=Math.min(_.inertiaMaxSpeed,ft),Rt=nt.multiplyBy(wt/ft),Pt=wt/(_.inertiaDeceleration*$),Bt=Rt.multiplyBy(-Pt/2).round();!Bt.x&&!Bt.y?h.fire("moveend"):(Bt=h._limitOffset(Bt,h.options.maxBounds),B(function(){h.panBy(Bt,{duration:Pt,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});oe.addInitHook("addHandler","dragging",pc),oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ll=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Kt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,_=l.scrollTop||h.scrollTop,x=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(x,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},_=this.keyCodes,x,S;for(x=0,S=_.left.length;x<S;x++)h[_.left[x]]=[-1*l,0];for(x=0,S=_.right.length;x<S;x++)h[_.right[x]]=[l,0];for(x=0,S=_.down.length;x<S;x++)h[_.down[x]]=[0,l];for(x=0,S=_.up.length;x<S;x++)h[_.up[x]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},_=this.keyCodes,x,S;for(x=0,S=_.zoomIn.length;x<S;x++)h[_.zoomIn[x]]=l;for(x=0,S=_.zoomOut.length;x<S;x++)h[_.zoomOut[x]]=-l},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,_=this._map,x;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(x=this._panKeys[h],l.shiftKey&&(x=G(x).multiplyBy(3)),_.options.maxBounds&&(x=_._limitOffset(G(x),_.options.maxBounds)),_.options.worldCopyJump){var S=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(x)));_.panTo(S)}else _.panBy(x)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;wi(l)}}});oe.addInitHook("addHandler","keyboard",ll),oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yr=li.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=mr(l),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var x=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),x),wi(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,k=_?Math.ceil(S/_)*_:S,$=l._limitZoom(h+(this._delta>0?k:-k))-h;this._delta=0,this._startTime=null,$&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+$):l.setZoomAround(this._lastMousePos,h+$))}});oe.addInitHook("addHandler","scrollWheelZoom",yr);var gc=600;oe.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var ru=li.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new dt(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",Ye),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),gc),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Te(document,"touchend",Ye),Te(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new dt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});oe.addInitHook("addHandler","tapHold",ru),oe.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var aa=li.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(l.touches[0]),x=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(x)._divideBy(2))),this._startDist=_.distanceTo(x),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),Ye(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(l.touches[0]),x=h.mouseEventToContainerPoint(l.touches[1]),S=_.distanceTo(x)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var k=_._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&k.x===0&&k.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var $=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B($,this,!0),Ye(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});oe.addInitHook("addHandler","touchZoom",aa),oe.BoxZoom=su,oe.DoubleClickZoom=Ms,oe.Drag=pc,oe.Keyboard=ll,oe.ScrollWheelZoom=yr,oe.TapHold=ru,oe.TouchZoom=aa,e.Bounds=Q,e.Browser=Lt,e.CRS=Ft,e.Canvas=rl,e.Circle=fc,e.CircleMarker=tl,e.Class=Mt,e.Control=kn,e.DivIcon=mc,e.DivOverlay=ls,e.DomEvent=Xr,e.DomUtil=Zl,e.Draggable=is,e.Evented=pt,e.FeatureGroup=Ai,e.GeoJSON=Ri,e.GridLayer=na,e.Handler=li,e.Icon=ja,e.ImageOverlay=Rs,e.LatLng=lt,e.LatLngBounds=st,e.Layer=as,e.LayerGroup=ta,e.LineUtil=Ti,e.Map=oe,e.Marker=Fa,e.Mixin=Yl,e.Path=Ys,e.Point=dt,e.PolyUtil=Va,e.Polygon=Ha,e.Polyline=Xs,e.Popup=sl,e.PosAnimation=Qr,e.Projection=ss,e.Rectangle=sf,e.Renderer=cs,e.SVG=_r,e.SVGOverlay=gr,e.TileLayer=ia,e.Tooltip=iu,e.Transformation=qt,e.Util=H,e.VideoOverlay=nu,e.bind=c,e.bounds=gt,e.canvas=al,e.circle=Xm,e.circleMarker=Qh,e.control=ns,e.divIcon=nf,e.extend=r,e.featureGroup=Jo,e.geoJSON=eu,e.geoJson=Jh,e.gridLayer=us,e.icon=Ql,e.imageOverlay=Ga,e.latLng=_t,e.latLngBounds=bt,e.layerGroup=Xh,e.map=As,e.marker=hc,e.point=G,e.polygon=Ci,e.polyline=Qm,e.popup=Jm,e.rectangle=Di,e.setOptions=j,e.stamp=m,e.svg=ra,e.svgOverlay=ef,e.tileLayer=Mi,e.tooltip=tp,e.transformation=ie,e.version=i,e.videoOverlay=tf;var Ka=window.L;e.noConflict=function(){return window.L=Ka,this},window.L=e}))})(fh,fh.exports)),fh.exports}var Km=wV();function gv(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function _v(n,t){return t==null?function(i,r){const o=I.useRef(void 0);return o.current||(o.current=n(i,r)),o}:function(i,r){const o=I.useRef(void 0);o.current||(o.current=n(i,r));const c=I.useRef(i),{instance:d}=o.current;return I.useEffect(function(){c.current!==i&&(t(d,i,c.current),c.current=i)},[d,i,t]),o}}function TV(n,t){I.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function PA(n){return function(e){const i=mv(),r=n(pv(e,i),i);return kA(i.map,e.attribution),IA(r.current,e.eventHandlers),TV(r.current,i),r}}function SV(n,t){const e=_v(n,t),i=PA(e);return yV(i)}function AV(n,t){const e=_v(n),i=xV(e,t);return vV(i)}function CV(n,t){const e=_v(n,t),i=PA(e);return bV(i)}function RV(n,t,e){const{opacity:i,zIndex:r}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),r!=null&&r!==e.zIndex&&n.setZIndex(r)}function MV(){return mv().map}function OV(n){const t=MV();return I.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function DV({bounds:n,boundsOptions:t,center:e,children:i,className:r,id:o,placeholder:c,style:d,whenReady:m,zoom:p,...v},E){const[w]=I.useState({className:r,id:o,style:d}),[D,N]=I.useState(null),j=I.useRef(void 0);I.useImperativeHandle(E,()=>D?.map??null,[D]);const z=I.useCallback(X=>{if(X!==null&&!j.current){const Y=new Km.Map(X,v);j.current=Y,e!=null&&p!=null?Y.setView(e,p):n!=null&&Y.fitBounds(n,t),m!=null&&Y.whenReady(m),N(gV(Y))}},[]);I.useEffect(()=>()=>{D?.map.remove()},[D]);const K=D?Vn.createElement(dv,{value:D},i):c??null;return Vn.createElement("div",{...w,ref:z},K)}const LA=I.forwardRef(DV),NA=SV(function({position:t,...e},i){const r=new Km.Marker(t,e);return gv(r,_V(i,{overlayContainer:r}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),kV=AV(function(t,e){const i=new Km.Popup(t,e.overlayContainer);return gv(i,e)},function(t,e,{position:i},r){I.useEffect(function(){const{instance:c}=t;function d(p){p.popup===c&&(c.update(),r(!0))}function m(p){p.popup===c&&r(!1)}return e.map.on({popupopen:d,popupclose:m}),e.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(e.map)):e.overlayContainer.bindPopup(c),function(){e.map.off({popupopen:d,popupclose:m}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(c)}},[t,e,r,i])}),VA=CV(function({url:t,...e},i){const r=new Km.TileLayer(t,pv(e,i));return gv(r,i)},function(t,e,i){RV(t,e,i);const{url:r}=e;r!=null&&r!==i.url&&t.setUrl(r)}),IV=()=>{const[n,t]=I.useState([]),[e,i]=I.useState(!0),[r,o]=I.useState(null),[c,d]=I.useState({namaAset:"All",lokasi:"All"}),[m,p]=I.useState({namaAset:[],lokasi:[]});I.useEffect(()=>{(async()=>{try{const N=(await Vl(zo(Oh,"kartuInventaris"))).docs.map(ot=>({id:ot.id,...ot.data()})).filter(ot=>ot.publishStatus==="Enabled");if(N.length===0){t([]),i(!1);return}const j=await Vl(zo(ir,"asets")),z={};j.forEach(ot=>{z[ot.id]=ot.data()});const K=N.map(ot=>{const J=z[ot.assetId];if(!J)return null;const mt=J.koordinat.split(",").map(Number);return mt.length!==2||isNaN(mt[0])||isNaN(mt[1])?null:{...ot,namaAset:J.namaAset,lokasi:J.lokasi,jenisAset:J.jenisAset,tahunPerolehan:J.tahunPerolehan,fotoAset:J.fotoAset,position:mt}}).filter(Boolean);t(K);const X=["All",...new Set(K.map(ot=>ot.namaAset))],Y=["All",...new Set(K.map(ot=>ot.lokasi))];p({namaAset:X,lokasi:Y})}catch(D){o("Gagal memuat data peta."),console.error(D)}finally{i(!1)}})()},[]);const v=w=>{const{name:D,value:N}=w.target;d(j=>({...j,[D]:N}))},E=n.filter(w=>{const D=c.namaAset==="All"||w.namaAset===c.namaAset,N=c.lokasi==="All"||w.lokasi===c.lokasi;return D&&N});return e?R.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:R.jsx(Hl,{animation:"border"})}):r?R.jsx(Bo,{variant:"danger",children:r}):R.jsxs("div",{style:{position:"relative",height:"100vh"},children:[R.jsxs(Ze,{style:{position:"absolute",top:"20px",left:"50px",zIndex:1e3,width:"350px"},children:[R.jsx(Ze.Header,{children:R.jsx("h5",{children:"Filter Aset"})}),R.jsx(Ze.Body,{children:R.jsxs(Dt,{children:[R.jsxs(Dt.Group,{className:"mb-2",children:[R.jsx(Dt.Label,{children:"Nama Aset"}),R.jsx(Dt.Select,{size:"sm",name:"namaAset",onChange:v,children:m.namaAset.map(w=>R.jsx("option",{value:w,children:w},w))})]}),R.jsxs(Dt.Group,{children:[R.jsx(Dt.Label,{children:"Lokasi"}),R.jsx(Dt.Select,{size:"sm",name:"lokasi",onChange:v,children:m.lokasi.map(w=>R.jsx("option",{value:w,children:w},w))})]})]})})]}),R.jsxs(LA,{center:[-2.5489,118.0149],zoom:5,style:{height:"100%",width:"100%"},children:[R.jsx(VA,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),E.map(w=>R.jsx(NA,{position:w.position,children:R.jsx(kV,{children:R.jsxs("div",{style:{width:"280px"},children:[w.fotoAset&&R.jsx("img",{src:w.fotoAset,alt:w.namaAset,style:{width:"100%",marginBottom:"10px",borderRadius:"8px"}}),R.jsx("h5",{children:w.namaAset}),R.jsxs(An,{variant:"flush",style:{fontSize:"0.9rem"},children:[R.jsxs(An.Item,{children:[R.jsx("b",{children:"Lokasi:"})," ",w.lokasi]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Jenis:"})," ",w.jenisAset]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Tahun:"})," ",w.tahunPerolehan]})]}),R.jsx(bn,{variant:"primary",size:"sm",href:`/aset/${w.assetId}`,target:"_blank",className:"mt-3 w-100",children:"Lihat Detail Lengkap"})]})})},w.id))]})]})},PV="/assets/logo-PyiRITdg.png";function LV(n,t){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const e=document.implementation.createHTMLDocument(),i=e.createElement("base"),r=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(r),t&&(i.href=t),r.href=n,r.href}const NV=(()=>{let n=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${t()}${n}`)})();function Do(n){const t=[];for(let e=0,i=n.length;e<i;e++)t.push(n[e]);return t}let Du=null;function zA(n={}){return Du||(n.includeStyleProperties?(Du=n.includeStyleProperties,Du):(Du=Do(window.getComputedStyle(document.documentElement)),Du))}function hm(n,t){const i=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function VV(n){const t=hm(n,"border-left-width"),e=hm(n,"border-right-width");return n.clientWidth+t+e}function zV(n){const t=hm(n,"border-top-width"),e=hm(n,"border-bottom-width");return n.clientHeight+t+e}function BA(n,t={}){const e=t.width||VV(n),i=t.height||zV(n);return{width:e,height:i}}function BV(){let n,t;try{t=process}catch{}const e=t&&t.env?t.env.devicePixelRatio:null;return e&&(n=parseInt(e,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const gs=16384;function jV(n){(n.width>gs||n.height>gs)&&(n.width>gs&&n.height>gs?n.width>n.height?(n.height*=gs/n.width,n.width=gs):(n.width*=gs/n.height,n.height=gs):n.width>gs?(n.height*=gs/n.width,n.width=gs):(n.width*=gs/n.height,n.height=gs))}function fm(n){return new Promise((t,e)=>{const i=new Image;i.onload=()=>{i.decode().then(()=>{requestAnimationFrame(()=>t(i))})},i.onerror=e,i.crossOrigin="anonymous",i.decoding="async",i.src=n})}async function UV(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function FV(n,t,e){const i="http://www.w3.org/2000/svg",r=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${e}`),r.setAttribute("viewBox",`0 0 ${t} ${e}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),r.appendChild(o),o.appendChild(n),UV(r)}const Xi=(n,t)=>{if(n instanceof t)return!0;const e=Object.getPrototypeOf(n);return e===null?!1:e.constructor.name===t.name||Xi(e,t)};function HV(n){const t=n.getPropertyValue("content");return`${n.cssText} content: '${t.replace(/'|"/g,"")}';`}function qV(n,t){return zA(t).map(e=>{const i=n.getPropertyValue(e),r=n.getPropertyPriority(e);return`${e}: ${i}${r?" !important":""};`}).join(" ")}function GV(n,t,e,i){const r=`.${n}:${t}`,o=e.cssText?HV(e):qV(e,i);return document.createTextNode(`${r}{${o}}`)}function pw(n,t,e,i){const r=window.getComputedStyle(n,e),o=r.getPropertyValue("content");if(o===""||o==="none")return;const c=NV();try{t.className=`${t.className} ${c}`}catch{return}const d=document.createElement("style");d.appendChild(GV(c,e,r,i)),t.appendChild(d)}function $V(n,t,e){pw(n,t,":before",e),pw(n,t,":after",e)}const gw="application/font-woff",_w="image/jpeg",ZV={woff:gw,woff2:gw,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:_w,jpeg:_w,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function KV(n){const t=/\.([^./]*?)$/g.exec(n);return t?t[1]:""}function yv(n){const t=KV(n).toLowerCase();return ZV[t]||""}function WV(n){return n.split(/,/)[1]}function Q_(n){return n.search(/^(data:)/)!==-1}function YV(n,t){return`data:${t};base64,${n}`}async function jA(n,t,e){const i=await fetch(n,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const r=await i.blob();return new Promise((o,c)=>{const d=new FileReader;d.onerror=c,d.onloadend=()=>{try{o(e({res:i,result:d.result}))}catch(m){c(m)}},d.readAsDataURL(r)})}const d_={};function XV(n,t,e){let i=n.replace(/\?.*/,"");return e&&(i=n),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function vv(n,t,e){const i=XV(n,t,e.includeQueryParams);if(d_[i]!=null)return d_[i];e.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let r;try{const o=await jA(n,e.fetchRequestInit,({res:c,result:d})=>(t||(t=c.headers.get("Content-Type")||""),WV(d)));r=YV(o,t)}catch(o){r=e.imagePlaceholder||"";let c=`Failed to fetch resource: ${n}`;o&&(c=typeof o=="string"?o:o.message),c&&console.warn(c)}return d_[i]=r,r}async function QV(n){const t=n.toDataURL();return t==="data:,"?n.cloneNode(!1):fm(t)}async function JV(n,t){if(n.currentSrc){const o=document.createElement("canvas"),c=o.getContext("2d");o.width=n.clientWidth,o.height=n.clientHeight,c?.drawImage(n,0,0,o.width,o.height);const d=o.toDataURL();return fm(d)}const e=n.poster,i=yv(e),r=await vv(e,i,t);return fm(r)}async function tz(n,t){var e;try{if(!((e=n?.contentDocument)===null||e===void 0)&&e.body)return await Wm(n.contentDocument.body,t,!0)}catch{}return n.cloneNode(!1)}async function ez(n,t){return Xi(n,HTMLCanvasElement)?QV(n):Xi(n,HTMLVideoElement)?JV(n,t):Xi(n,HTMLIFrameElement)?tz(n,t):n.cloneNode(UA(n))}const nz=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",UA=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function iz(n,t,e){var i,r;if(UA(t))return t;let o=[];return nz(n)&&n.assignedNodes?o=Do(n.assignedNodes()):Xi(n,HTMLIFrameElement)&&(!((i=n.contentDocument)===null||i===void 0)&&i.body)?o=Do(n.contentDocument.body.childNodes):o=Do(((r=n.shadowRoot)!==null&&r!==void 0?r:n).childNodes),o.length===0||Xi(n,HTMLVideoElement)||await o.reduce((c,d)=>c.then(()=>Wm(d,e)).then(m=>{m&&t.appendChild(m)}),Promise.resolve()),t}function sz(n,t,e){const i=t.style;if(!i)return;const r=window.getComputedStyle(n);r.cssText?(i.cssText=r.cssText,i.transformOrigin=r.transformOrigin):zA(e).forEach(o=>{let c=r.getPropertyValue(o);o==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Xi(n,HTMLIFrameElement)&&o==="display"&&c==="inline"&&(c="block"),o==="d"&&t.getAttribute("d")&&(c=`path(${t.getAttribute("d")})`),i.setProperty(o,c,r.getPropertyPriority(o))})}function rz(n,t){Xi(n,HTMLTextAreaElement)&&(t.innerHTML=n.value),Xi(n,HTMLInputElement)&&t.setAttribute("value",n.value)}function az(n,t){if(Xi(n,HTMLSelectElement)){const e=t,i=Array.from(e.children).find(r=>n.value===r.getAttribute("value"));i&&i.setAttribute("selected","")}}function oz(n,t,e){return Xi(t,Element)&&(sz(n,t,e),$V(n,t,e),rz(n,t),az(n,t)),t}async function lz(n,t){const e=n.querySelectorAll?n.querySelectorAll("use"):[];if(e.length===0)return n;const i={};for(let o=0;o<e.length;o++){const d=e[o].getAttribute("xlink:href");if(d){const m=n.querySelector(d),p=document.querySelector(d);!m&&p&&!i[d]&&(i[d]=await Wm(p,t,!0))}}const r=Object.values(i);if(r.length){const o="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg");c.setAttribute("xmlns",o),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const d=document.createElementNS(o,"defs");c.appendChild(d);for(let m=0;m<r.length;m++)d.appendChild(r[m]);n.appendChild(c)}return n}async function Wm(n,t,e){return!e&&t.filter&&!t.filter(n)?null:Promise.resolve(n).then(i=>ez(i,t)).then(i=>iz(n,i,t)).then(i=>oz(n,i,t)).then(i=>lz(i,t))}const FA=/url\((['"]?)([^'"]+?)\1\)/g,uz=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,cz=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function hz(n){const t=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function fz(n){const t=[];return n.replace(FA,(e,i,r)=>(t.push(r),e)),t.filter(e=>!Q_(e))}async function dz(n,t,e,i,r){try{const o=e?LV(t,e):t,c=yv(t);let d;return r||(d=await vv(o,c,i)),n.replace(hz(t),`$1${d}$3`)}catch{}return n}function mz(n,{preferredFontFormat:t}){return t?n.replace(cz,e=>{for(;;){const[i,,r]=uz.exec(e)||[];if(!r)return"";if(r===t)return`src: ${i};`}}):n}function HA(n){return n.search(FA)!==-1}async function qA(n,t,e){if(!HA(n))return n;const i=mz(n,e);return fz(i).reduce((o,c)=>o.then(d=>dz(d,c,t,e)),Promise.resolve(i))}async function ku(n,t,e){var i;const r=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(n);if(r){const o=await qA(r,null,e);return t.style.setProperty(n,o,t.style.getPropertyPriority(n)),!0}return!1}async function pz(n,t){await ku("background",n,t)||await ku("background-image",n,t),await ku("mask",n,t)||await ku("-webkit-mask",n,t)||await ku("mask-image",n,t)||await ku("-webkit-mask-image",n,t)}async function gz(n,t){const e=Xi(n,HTMLImageElement);if(!(e&&!Q_(n.src))&&!(Xi(n,SVGImageElement)&&!Q_(n.href.baseVal)))return;const i=e?n.src:n.href.baseVal,r=await vv(i,yv(i),t);await new Promise((o,c)=>{n.onload=o,n.onerror=t.onImageErrorHandler?(...m)=>{try{o(t.onImageErrorHandler(...m))}catch(p){c(p)}}:c;const d=n;d.decode&&(d.decode=o),d.loading==="lazy"&&(d.loading="eager"),e?(n.srcset="",n.src=r):n.href.baseVal=r})}async function _z(n,t){const i=Do(n.childNodes).map(r=>GA(r,t));await Promise.all(i).then(()=>n)}async function GA(n,t){Xi(n,Element)&&(await pz(n,t),await gz(n,t),await _z(n,t))}function yz(n,t){const{style:e}=n;t.backgroundColor&&(e.backgroundColor=t.backgroundColor),t.width&&(e.width=`${t.width}px`),t.height&&(e.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(r=>{e[r]=i[r]}),n}const yw={};async function vw(n){let t=yw[n];if(t!=null)return t;const i=await(await fetch(n)).text();return t={url:n,cssText:i},yw[n]=t,t}async function bw(n,t){let e=n.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,o=(e.match(/url\([^)]+\)/g)||[]).map(async c=>{let d=c.replace(i,"$1");return d.startsWith("https://")||(d=new URL(d,n.url).href),jA(d,t.fetchRequestInit,({result:m})=>(e=e.replace(c,`url(${m})`),[c,m]))});return Promise.all(o).then(()=>e)}function xw(n){if(n==null)return[];const t=[],e=/(\/\*[\s\S]*?\*\/)/gi;let i=n.replace(e,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const m=r.exec(i);if(m===null)break;t.push(m[0])}i=i.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",d=new RegExp(c,"gi");for(;;){let m=o.exec(i);if(m===null){if(m=d.exec(i),m===null)break;o.lastIndex=d.lastIndex}else d.lastIndex=o.lastIndex;t.push(m[0])}return t}async function vz(n,t){const e=[],i=[];return n.forEach(r=>{if("cssRules"in r)try{Do(r.cssRules||[]).forEach((o,c)=>{if(o.type===CSSRule.IMPORT_RULE){let d=c+1;const m=o.href,p=vw(m).then(v=>bw(v,t)).then(v=>xw(v).forEach(E=>{try{r.insertRule(E,E.startsWith("@import")?d+=1:r.cssRules.length)}catch(w){console.error("Error inserting rule from remote css",{rule:E,error:w})}})).catch(v=>{console.error("Error loading remote css",v.toString())});i.push(p)}})}catch(o){const c=n.find(d=>d.href==null)||document.styleSheets[0];r.href!=null&&i.push(vw(r.href).then(d=>bw(d,t)).then(d=>xw(d).forEach(m=>{c.insertRule(m,c.cssRules.length)})).catch(d=>{console.error("Error loading remote stylesheet",d)})),console.error("Error inlining remote css file",o)}}),Promise.all(i).then(()=>(n.forEach(r=>{if("cssRules"in r)try{Do(r.cssRules||[]).forEach(o=>{e.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${r.href}`,o)}}),e))}function bz(n){return n.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>HA(t.style.getPropertyValue("src")))}async function xz(n,t){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const e=Do(n.ownerDocument.styleSheets),i=await vz(e,t);return bz(i)}function $A(n){return n.trim().replace(/["']/g,"")}function Ez(n){const t=new Set;function e(i){(i.style.fontFamily||getComputedStyle(i).fontFamily).split(",").forEach(o=>{t.add($A(o))}),Array.from(i.children).forEach(o=>{o instanceof HTMLElement&&e(o)})}return e(n),t}async function wz(n,t){const e=await xz(n,t),i=Ez(n);return(await Promise.all(e.filter(o=>i.has($A(o.style.fontFamily))).map(o=>{const c=o.parentStyleSheet?o.parentStyleSheet.href:null;return qA(o.cssText,c,t)}))).join(`
`)}async function Tz(n,t){const e=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await wz(n,t);if(e){const i=document.createElement("style"),r=document.createTextNode(e);i.appendChild(r),n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}}async function Sz(n,t={}){const{width:e,height:i}=BA(n,t),r=await Wm(n,t,!0);return await Tz(r,t),await GA(r,t),yz(r,t),await FV(r,e,i)}async function Az(n,t={}){const{width:e,height:i}=BA(n,t),r=await Sz(n,t),o=await fm(r),c=document.createElement("canvas"),d=c.getContext("2d"),m=t.pixelRatio||BV(),p=t.canvasWidth||e,v=t.canvasHeight||i;return c.width=p*m,c.height=v*m,t.skipAutoScale||jV(c),c.style.width=`${p}`,c.style.height=`${v}`,t.backgroundColor&&(d.fillStyle=t.backgroundColor,d.fillRect(0,0,c.width,c.height)),d.drawImage(o,0,0,c.width,c.height),c}async function Cz(n,t={}){return(await Az(n,t)).toDataURL()}const Rz=()=>{const{assetId:n}=$R(),[t,e]=I.useState(null),[i,r]=I.useState(!0),[o,c]=I.useState(null),d=I.useRef();I.useEffect(()=>{(async()=>{try{const E=Nl(ir,"asets",n),w=await jP(E);w.exists()?e(w.data()):c("Aset tidak ditemukan.")}catch(E){c("Gagal memuat data aset."),console.error(E)}finally{r(!1)}})()},[n]);const m=async()=>{if(d.current)try{const v=await Cz(d.current,{quality:.95,pixelRatio:2,width:800,height:d.current.offsetHeight*(800/d.current.offsetWidth)}),E=document.createElement("a");E.download=`aset_${t.namaAset}.png`,E.href=v,E.click()}catch(v){console.error("Gagal mengunduh gambar: ",v),alert("Gagal mengunduh gambar aset.")}},p={backgroundColor:"#007bff",color:"white",padding:"20px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"};return i?R.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:R.jsx(Hl,{animation:"border"})}):o?R.jsx(q_,{className:"mt-5",children:R.jsx(Bo,{variant:"danger",children:o})}):R.jsxs("div",{style:{background:"#f4f7fc",minHeight:"100vh"},children:[R.jsxs("div",{style:p,children:[R.jsx(em,{src:PV,style:{width:"50px",height:"50px",marginRight:"15px"}}),R.jsx("h4",{children:"ASET PEMERINTAH DESA TABONGO TIMUR"})]}),R.jsx(q_,{className:"py-4",children:t&&R.jsxs(Ze,{ref:d,children:[R.jsxs(Ze.Header,{as:"h5",className:"d-flex justify-content-between align-items-center",children:["Detail Aset: ",t.namaAset,R.jsx(bn,{variant:"primary",size:"sm",onClick:m,children:"Download Gambar"})]}),R.jsxs(Ze.Body,{children:[t.fotoAset&&R.jsx("div",{className:"text-center mb-4",children:R.jsx(em,{src:t.fotoAset,fluid:!0,thumbnail:!0,style:{maxHeight:"400px"}})}),R.jsxs(An,{variant:"flush",children:[R.jsxs(An.Item,{children:[R.jsx("b",{children:"Lokasi:"})," ",t.lokasi]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Koordinat:"})," ",t.koordinat]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Sumber Pembiayaan:"})," ",t.sumberPembiyaan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Tahun Perolehan:"})," ",t.tahunPerolehan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Jenis Aset:"})," ",t.jenisAset]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Status Kepemilikan:"})," ",t.statusKepemilikan]}),R.jsxs(An.Item,{children:[R.jsx("b",{children:"Penggunaan Saat Ini:"})," ",t.penggunaanSaatIni]})]})]})]})})]})},Mz=()=>{const n={namaAset:"",lokasi:"",koordinat:"",sumberPembiyaan:"",tahunPerolehan:"",jenisAset:"Bangunan",statusKepemilikan:"",penggunaanSaatIni:"",fotoAset:null},[t,e]=I.useState(n),[i,r]=I.useState([-6.2,106.816666]),[o,c]=I.useState(!1),[d,m]=I.useState(i),[p,v]=I.useState(!1),[E,w]=I.useState({show:!1,variant:"",message:""}),D=I.useRef(null);I.useEffect(()=>{navigator.geolocation.getCurrentPosition(J=>{const{latitude:mt,longitude:F}=J.coords,A=[mt,F];e(O=>({...O,koordinat:A.join(", ")})),r(A),m(A)},()=>{},{enableHighAccuracy:!0})},[]);const N=J=>{const{name:mt,value:F}=J.target;e({...t,[mt]:F})},j=J=>{e({...t,fotoAset:J.target.files[0]})},z=async J=>{J.preventDefault(),v(!0),w({show:!1,variant:"",message:""});try{let mt="";if(t.fotoAset){const A=new FormData;A.append("file",t.fotoAset),A.append("upload_preset","tabtim"),A.append("cloud_name","dqogozadw");const O=await fetch("https://api.cloudinary.com/v1_1/dqogozadw/image/upload",{method:"POST",body:A}),V=await O.json();if(!O.ok)throw new Error(V.error.message||"Gagal mengunggah gambar ke Cloudinary");mt=V.secure_url}await FP(zo(ir,"asets"),{...t,fotoAset:mt,koordinat:t.koordinat.toString()}),w({show:!0,variant:"success",message:"Data aset berhasil disimpan!"}),e(n);const F=document.querySelector('input[type="file"]');F&&(F.value="")}catch(mt){console.error("Error adding document: ",mt),w({show:!0,variant:"danger",message:`Gagal menyimpan data: ${mt.message}`})}finally{v(!1)}},K=()=>{const J=t.koordinat.split(", ").map(Number);J.length===2&&!isNaN(J[0])&&(r(J),m(J)),c(!0)},X=()=>{e({...t,koordinat:d.join(", ")}),c(!1)},Y=I.useMemo(()=>({dragend(){const J=D.current;if(J!=null){const{lat:mt,lng:F}=J.getLatLng();m([mt,F])}}}),[]);function ot(){return OV({click(J){const{lat:mt,lng:F}=J.latlng;m([mt,F])}}),null}return R.jsxs(R.Fragment,{children:[R.jsxs(Ze,{children:[R.jsx(Ze.Header,{children:"Tambah Aset Baru"}),R.jsxs(Ze.Body,{children:[E.show&&R.jsx(Bo,{variant:E.variant,onClose:()=>w({...E,show:!1}),dismissible:!0,children:E.message}),R.jsxs(Dt,{onSubmit:z,children:[R.jsx(Fm,{children:R.jsxs(Yu,{md:12,children:[R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Nama Aset"}),R.jsx(Dt.Control,{type:"text",name:"namaAset",value:t.namaAset,onChange:N,required:!0})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Lokasi"}),R.jsx(Dt.Control,{type:"text",name:"lokasi",value:t.lokasi,onChange:N,required:!0})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Koordinat"}),R.jsx(Dt.Control,{type:"text",name:"koordinat",value:t.koordinat,onChange:N,required:!0,readOnly:!0}),R.jsx(bn,{variant:"secondary",onClick:K,className:"mt-2",children:"Pilih dari Peta"})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Sumber Pembiyaan"}),R.jsx(Dt.Control,{type:"text",name:"sumberPembiyaan",value:t.sumberPembiyaan,onChange:N})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Tahun Perolehan"}),R.jsx(Dt.Control,{type:"number",name:"tahunPerolehan",value:t.tahunPerolehan,onChange:N})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Jenis Aset"}),R.jsxs(Dt.Select,{name:"jenisAset",value:t.jenisAset,onChange:N,children:[R.jsx("option",{children:"Bangunan"}),R.jsx("option",{children:"Lahan Basah"}),R.jsx("option",{children:"Lahan Kering"}),R.jsx("option",{children:"Lainnya"})]})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Status Kepemilikan"}),R.jsx(Dt.Control,{type:"text",name:"statusKepemilikan",value:t.statusKepemilikan,onChange:N})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Penggunaan Saat Ini"}),R.jsx(Dt.Control,{type:"text",name:"penggunaanSaatIni",value:t.penggunaanSaatIni,onChange:N})]}),R.jsxs(Dt.Group,{className:"mb-3",children:[R.jsx(Dt.Label,{children:"Foto Asset"}),R.jsx(Dt.Control,{type:"file",name:"fotoAset",onChange:j})]})]})}),R.jsx(bn,{variant:"primary",type:"submit",className:"mt-3",disabled:p,children:p?R.jsxs(R.Fragment,{children:[R.jsx(Hl,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Mengirim..."]}):"Simpan Aset"})]})]})]}),R.jsxs(Qe,{show:o,onHide:()=>c(!1),size:"lg",centered:!0,children:[R.jsx(Qe.Header,{closeButton:!0,children:R.jsx(Qe.Title,{children:"Pilih Lokasi dari Peta"})}),R.jsx(Qe.Body,{children:R.jsxs(LA,{center:i,zoom:15,style:{height:"50vh"},children:[R.jsx(VA,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),R.jsx(NA,{position:d,draggable:!0,eventHandlers:Y,ref:D}),R.jsx(ot,{})]})}),R.jsxs(Qe.Footer,{children:[R.jsx(bn,{variant:"secondary",onClick:()=>c(!1),children:"Tutup"}),R.jsx(bn,{variant:"primary",onClick:X,children:"Pilih Lokasi"})]})]})]})},Oz=()=>{const[n,t]=I.useState("Dashboard"),e=Uo();return I.useEffect(()=>{switch(e.pathname){case"/":t("Dashboard");break;case"/aset-manajemen":t("Aset Manajemen");break;case"/form-aset":t("Form Aset");break;case"/publish-aset":t("Publish Aset ke Peta");break;case"/manajemen-kartu":t("Manajemen Kartu");break;default:t("Dashboard")}},[e]),R.jsxs("div",{className:"d-flex",children:[R.jsx(iO,{}),R.jsxs("div",{className:"content",children:[R.jsx(sO,{title:n}),R.jsx("div",{className:"main-content",children:R.jsxs(Pw,{children:[R.jsx(va,{path:"/",element:R.jsx(rV,{})}),R.jsx(va,{path:"/aset-manajemen",element:R.jsx(fV,{})}),R.jsx(va,{path:"/form-aset",element:R.jsx(Mz,{})}),R.jsx(va,{path:"/publish-aset",element:R.jsx(mV,{})}),R.jsx(va,{path:"/manajemen-kartu",element:R.jsx(dV,{})})]})})]})]})};function Dz(){return R.jsx(MM,{children:R.jsxs(Pw,{children:[R.jsx(va,{path:"/aset/:assetId",element:R.jsx(Rz,{})}),R.jsx(va,{path:"/peta",element:R.jsx(IV,{})}),R.jsx(va,{path:"/*",element:R.jsx(Oz,{})})]})})}pR.createRoot(document.getElementById("root")).render(R.jsx(I.StrictMode,{children:R.jsx(Dz,{})}));
